{
  "header": {
    "program_id": "CIPAUDTY",
    "file_name": "cpy/CIPAUDTY.cpy",
    "file_type": "COPYBOOK",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-25T15:33:29.085369",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This copybook defines the IMS segment layout for Pending Authorization Details (CIPAUDTY). It structures fields for authorization keys, timestamps, card details, merchant information, transaction amounts, and status flags including approval, match status, and fraud indicators. The structure supports payment processing workflows involving authorization checks and transaction matching.",
    "business_context": "IMS database segment for managing pending payment authorizations in a financial or e-commerce transaction processing system",
    "program_type": "SUBROUTINE",
    "citations": [
      2,
      19
    ]
  },
  "inputs": [],
  "outputs": [],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Authorization response is approved when the response code is '00'",
      "logic_summary": "88-level condition name PA-AUTH-APPROVED checks PA-AUTH-RESP-CODE",
      "conditions": [
        "PA-AUTH-RESP-CODE = '00'"
      ],
      "citation": [
        30,
        31
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Match status indicates pending authorization matching",
      "logic_summary": "88-level condition name PA-MATCH-PENDING checks PA-MATCH-STATUS",
      "conditions": [
        "PA-MATCH-STATUS = 'P'"
      ],
      "citation": [
        45,
        46
      ]
    },
    {
      "rule_id": "BR003",
      "description": "Match status indicates authorization declined",
      "logic_summary": "88-level condition name PA-MATCH-AUTH-DECLINED checks PA-MATCH-STATUS",
      "conditions": [
        "PA-MATCH-STATUS = 'D'"
      ],
      "citation": [
        45,
        47
      ]
    },
    {
      "rule_id": "BR004",
      "description": "Match status indicates pending authorization expired",
      "logic_summary": "88-level condition name PA-MATCH-PENDING-EXPIRED checks PA-MATCH-STATUS",
      "conditions": [
        "PA-MATCH-STATUS = 'E'"
      ],
      "citation": [
        45,
        48
      ]
    },
    {
      "rule_id": "BR005",
      "description": "Match status indicates matched with transaction",
      "logic_summary": "88-level condition name PA-MATCHED-WITH-TRAN checks PA-MATCH-STATUS",
      "conditions": [
        "PA-MATCH-STATUS = 'M'"
      ],
      "citation": [
        45,
        49
      ]
    },
    {
      "rule_id": "BR006",
      "description": "Fraud is confirmed on the authorization",
      "logic_summary": "88-level condition name PA-FRAUD-CONFIRMED checks PA-AUTH-FRAUD",
      "conditions": [
        "PA-AUTH-FRAUD = 'F'"
      ],
      "citation": [
        50,
        51
      ]
    },
    {
      "rule_id": "BR007",
      "description": "Fraud has been removed from the authorization",
      "logic_summary": "88-level condition name PA-FRAUD-REMOVED checks PA-AUTH-FRAUD",
      "conditions": [
        "PA-AUTH-FRAUD = 'R'"
      ],
      "citation": [
        50,
        52
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "CIPAUDTY",
      "summary": null,
      "purpose": "[Citadel] Paragraph identified by static analysis",
      "called_by": [],
      "calls": [],
      "citation": [
        1,
        1
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "PAUDBLOD",
          "line": 153,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS2C.cbl",
          "function": "COPAUS2C",
          "line": 78,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "COPAUA0C",
          "line": 197,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "DBUNLDGS",
          "line": 147,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "CBPAUP0C",
          "line": 121,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "PAUDBUNL",
          "line": 143,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "COPAUS1C",
          "line": 146,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "COPAUS0C",
          "line": 165,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "PAUDBLOD",
          "line": 1,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS2C.cbl",
          "function": "COPAUS2C",
          "line": 1,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "COPAUA0C",
          "line": 1,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "DBUNLDGS",
          "line": 1,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "CBPAUP0C",
          "line": 1,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "PAUDBUNL",
          "line": 1,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "COPAUS1C",
          "line": 1,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "COPAUS0C",
          "line": 1,
          "call_type": "includes"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [],
  "resolved_questions": [],
  "dead_code": [],
  "call_semantics": [],
  "flow_diagram": null
}