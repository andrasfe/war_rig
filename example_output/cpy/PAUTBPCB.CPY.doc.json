{
  "header": {
    "program_id": "PAUTBPCB",
    "file_name": "cpy/PAUTBPCB.CPY",
    "file_type": "COPYBOOK",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-24T04:00:03.270320",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This COBOL copybook defines the PAUTBPCB level 01 record layout for an IMS Database Program Communication Block (PCB). It specifies fields used in DL/I calls for database navigation and access in the PAUT IMS database. Standard IMS PCB elements include status codes, segment information, and key feedback areas.",
    "business_context": "IMS DL/I database operations in batch or online programs for PAUT application data access.",
    "program_type": "UTILITY",
    "citations": [
      17,
      18,
      19,
      20,
      21,
      23,
      24,
      25,
      26
    ]
  },
  "inputs": [
    {
      "name": "PAUT-DBDNAME",
      "io_type": "IMS_SEGMENT",
      "description": "Database name (DBD) provided by IMS",
      "copybook": null,
      "citation": [
        18
      ]
    },
    {
      "name": "PAUT-PCB-PROCOPT",
      "io_type": "IMS_SEGMENT",
      "description": "PCB processing options from PSB (e.g., GO, K)",
      "copybook": null,
      "citation": [
        21
      ]
    }
  ],
  "outputs": [
    {
      "name": "PAUT-SEG-LEVEL",
      "io_type": "IMS_SEGMENT",
      "description": "Segment hierarchy level of qualified segment",
      "copybook": null,
      "citation": [
        19
      ]
    },
    {
      "name": "PAUT-PCB-STATUS",
      "io_type": "IMS_SEGMENT",
      "description": "Status code from DL/I call",
      "copybook": null,
      "citation": [
        20
      ]
    },
    {
      "name": "PAUT-SEG-NAME",
      "io_type": "IMS_SEGMENT",
      "description": "Name of the last qualified segment",
      "copybook": null,
      "citation": [
        23
      ]
    },
    {
      "name": "PAUT-KEYFB-NAME",
      "io_type": "IMS_SEGMENT",
      "description": "Key feedback area name",
      "copybook": null,
      "citation": [
        24
      ]
    },
    {
      "name": "PAUT-NUM-SENSEGS",
      "io_type": "IMS_SEGMENT",
      "description": "Number of sensitive segments",
      "copybook": null,
      "citation": [
        25
      ]
    },
    {
      "name": "PAUT-KEYFB",
      "io_type": "IMS_SEGMENT",
      "description": "Key feedback bytes",
      "copybook": null,
      "citation": [
        26
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": [
      "PAUTBPCB"
    ]
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "PCB status code in PAUT-PCB-STATUS indicates DL/I call outcome using standard IMS codes such as spaces for success or 'GE' for segment not found.",
      "logic_summary": "IMS populates the field after calls; programs inspect it for conditional processing.",
      "conditions": [
        "PAUT-PCB-STATUS = '  ' (success)",
        "PAUT-PCB-STATUS = 'GE' (end of SSAs/no segment)"
      ],
      "citation": [
        20
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Processing options in PAUT-PCB-PROCOPT control allowed DL/I verbs (e.g., G for Get, I for Insert).",
      "logic_summary": "Set by PSB definition and validated by IMS.",
      "conditions": [
        "PROCOPT = 'G   ' (Get)",
        "PROCOPT = 'K   ' (Key)"
      ],
      "citation": [
        21
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "IMS",
        "fields_used": [
          "PAUT-DBDNAME",
          "PAUT-PCB-PROCOPT"
        ],
        "citation": [
          18,
          21
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "PROGRAM",
        "fields_written": [
          "PAUT-SEG-LEVEL",
          "PAUT-PCB-STATUS",
          "PAUT-SEG-NAME",
          "PAUT-KEYFB-NAME",
          "PAUT-NUM-SENSEGS",
          "PAUT-KEYFB"
        ],
        "citation": [
          19,
          20,
          23,
          24,
          25,
          26
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "PAUTBPCB",
      "summary": null,
      "purpose": "This record definition at level 01 serves as the core data structure for the IMS Database PCB in PAUTBPCB copybook (lines 17-26). Its primary purpose is to map the fixed-format PCB required for DL/I calls in IMS COBOL programs, enabling database access without runtime layout mismatches. It consumes no runtime inputs as it is a static definition, but when copied into a program (typically LINKAGE SECTION), the program passes its address to IMS verbs like GU, GN, ISRT, GNP. IMS reads input portions like PAUT-DBDNAME and PAUT-PCB-PROCOPT, then produces outputs in fields such as PAUT-PCB-STATUS, PAUT-SEG-LEVEL, PAUT-SEG-NAME, PAUT-KEYFB-NAME, PAUT-NUM-SENSEGS, and PAUT-KEYFB. There is no business logic or decisions implemented here, as it contains only PIC clauses for field definitions. Error handling is indirect: programs must check PAUT-PCB-STATUS post-call for codes like spaces (success) or error codes to validate operations. No validation occurs within this structure. It calls no other paragraphs or programs, having no executable code. The FILLER at line 22 aligns the layout per IMS PCB specs. This ensures consistent IMS interface across including programs.",
      "called_by": [],
      "calls": [],
      "citation": [
        17,
        26
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "PAUDBLOD",
          "line": 161,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "DBUNLDGS",
          "line": 154,
          "call_type": "includes"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "PAUDBUNL",
          "line": 150,
          "call_type": "includes"
        }
      ],
      "is_dead_code": true,
      "dead_code_reason": "Record layout 'PAUTBPCB' is never used by any program",
      "metadata": null
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "PAUTBPCB",
      "artifact_type": "record_layout",
      "line": 1,
      "reason": "Record layout 'PAUTBPCB' is never used by any program"
    }
  ],
  "call_semantics": [],
  "flow_diagram": null
}