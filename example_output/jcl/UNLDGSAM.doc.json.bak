{
  "header": {
    "program_id": "UNLDGSAM",
    "file_name": "jcl/UNLDGSAM.JCL",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-25T18:30:35.053671",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL defines a batch job that executes the IMS utility program DFSRRC00 to process GSAM datasets for the PAUTDB database. It accesses primary (ROOT.GSAM) and child/overflow (CHILD.GSAM) files using DLI method for database DBUNLDGS and DBD DLIGSAMP. Outputs are directed to SYSOUT datasets for printing, dumps, and errors.",
    "business_context": "Supports AWS M2 CardDemo application by unloading or processing IMS PAUTDB GSAM database (inferred from dataset names AWS.M2.CARDDEMO.PAUTDB.*.GSAM).",
    "program_type": "BATCH",
    "citations": [
      1,
      26,
      27,
      36,
      39
    ]
  },
  "inputs": [
    {
      "name": "PASFILOP",
      "io_type": "FILE_VSAM",
      "description": "GSAM dataset AWS.M2.CARDDEMO.PAUTDB.ROOT.GSAM opened with DISP=OLD for input processing",
      "copybook": null,
      "citation": [
        36
      ]
    },
    {
      "name": "PADFILOP",
      "io_type": "FILE_VSAM",
      "description": "GSAM dataset AWS.M2.CARDDEMO.PAUTDB.CHILD.GSAM opened with DISP=OLD for input processing",
      "copybook": null,
      "citation": [
        39
      ]
    },
    {
      "name": "DDPAUTP0",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS dataset OEM.IMS.IMSP.PAUTHDB accessed SHR, likely containing DBD definitions for PAUTDB",
      "copybook": null,
      "citation": [
        42
      ]
    },
    {
      "name": "DDPAUTX0",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS dataset OEM.IMS.IMSP.PAUTHDBX accessed SHR, likely additional DBD or index definitions",
      "copybook": null,
      "citation": [
        43
      ]
    },
    {
      "name": "IMS",
      "io_type": "OTHER",
      "description": "IMS parameter library (PSBLIB) and DBD library (DBDLIB) for utility execution",
      "copybook": null,
      "citation": [
        33
      ]
    },
    {
      "name": "DFSVSAMP",
      "io_type": "OTHER",
      "description": "IMS proclib member DFSVSMDB for database definitions in batch DLI mode",
      "copybook": null,
      "citation": [
        46
      ]
    }
  ],
  "outputs": [
    {
      "name": "SYSPRINT",
      "io_type": "REPORT",
      "description": "Standard print output from IMS utility DFSRRC00",
      "copybook": null,
      "citation": [
        50
      ]
    },
    {
      "name": "SYSUDUMP",
      "io_type": "OTHER",
      "description": "System dump output for abends",
      "copybook": null,
      "citation": [
        51
      ]
    },
    {
      "name": "IMSERR",
      "io_type": "REPORT",
      "description": "IMS-specific error messages",
      "copybook": null,
      "citation": [
        52
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Execute IMS utility in DLI mode for database DBUNLDGS using DBD DLIGSAMP",
      "logic_summary": "Defined via EXEC PGM=DFSRRC00 PARM parameter",
      "conditions": [
        "PARM='DLI,DBUNLDGS,DLIGSAMP,,,,,,,,,,,N'"
      ],
      "citation": [
        27
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Not applicable: JCL defines resources but no conditional business logic",
      "logic_summary": "No EVAL, IF statements present in JCL",
      "conditions": [],
      "citation": []
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "PASFILOP",
        "fields_used": [],
        "citation": [
          36
        ]
      },
      {
        "source": "PADFILOP",
        "fields_used": [],
        "citation": [
          39
        ]
      },
      {
        "source": "DDPAUTP0",
        "fields_used": [],
        "citation": [
          42
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "SYSPRINT",
        "fields_written": [],
        "citation": [
          50
        ]
      },
      {
        "destination": "SYSUDUMP",
        "fields_written": [],
        "citation": [
          51
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "STEP01",
      "summary": null,
      "purpose": "Main (and only) job step executing IMS utility DFSRRC00 with specified libraries and datasets",
      "called_by": [],
      "calls": [],
      "citation": [
        26,
        53
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "Program abend or exception",
      "action": "Route dumps to SYSUDUMP and errors to IMSERR",
      "citation": [
        51,
        52
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "Exact function of DFSRRC00 with PARM='DLI,DBUNLDGS,DLIGSAMP,,,,,,,,,,,N' (unload, reconcile, or other?)",
      "context": "Job name suggests GSAM unload, but no standard UNLOAD DD dataset defined and DFSRRC00 typically for reconcile utilities",
      "suggestion": "Consult IMS Utilities Reference manual for PARM format and DFSRRC00 usage with GSAM"
    },
    {
      "question": "Specific fields or segments read/written from GSAM datasets",
      "context": "JCL does not define record layouts; no copybooks",
      "suggestion": "Analyze associated DBD DLIGSAMP source in DDPAUTP0/PAUTHDBX"
    }
  ]
}