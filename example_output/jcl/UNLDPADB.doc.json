{
  "header": {
    "program_id": "UNLDPADB",
    "file_name": "jcl/UNLDPADB.JCL",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-25T18:30:35.504058",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL deletes existing output files in STEP0 using IEFBR14. In STEP01, it executes the IMS utility DFSRRC00 to unload root and child segments from the PAUTDB IMS database into sequential files ROOT.FILEO and CHILD.FILEO. The PARM specifies DLI access method and PSB names PAUDBUNL and PAUTBUNL for the unloads.",
    "business_context": "Unloading IMS PAUTDB database for AWS M2 Card Demo application",
    "program_type": "BATCH",
    "citations": [
      23,
      25,
      33,
      38,
      39,
      48,
      53
    ]
  },
  "inputs": [
    {
      "name": "PARM",
      "io_type": "PARAMETER",
      "description": "DFSRRC00 parameters specifying DLI, PAUDBUNL, PAUTBUNL unloads, and other options",
      "copybook": null,
      "citation": [
        39
      ]
    },
    {
      "name": "DDPAUTP0",
      "io_type": "IMS_SEGMENT",
      "description": "IMS database dataset PAUTHDB accessed SHR for unloading",
      "copybook": null,
      "citation": [
        58
      ]
    },
    {
      "name": "DDPAUTX0",
      "io_type": "IMS_SEGMENT",
      "description": "IMS database dataset PAUTHDBX accessed SHR for unloading",
      "copybook": null,
      "citation": [
        59
      ]
    }
  ],
  "outputs": [
    {
      "name": "OUTFIL1",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Sequential file containing unloaded PAUTDB root segments",
      "copybook": null,
      "citation": [
        48
      ]
    },
    {
      "name": "OUTFIL2",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Sequential file containing unloaded PAUTDB child segments",
      "copybook": null,
      "citation": [
        53
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Deletes any existing versions of output unload files prior to new unload",
      "logic_summary": "STEP0 uses IEFBR14 with DD DISP=(OLD,DELETE,DELETE) on output datasets",
      "conditions": [],
      "citation": [
        33,
        34,
        35,
        36
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Performs unload of root segments using PAUDBUNL specification",
      "logic_summary": "DFSRRC00 PARM includes PAUDBUNL as second parameter after DLI",
      "conditions": [],
      "citation": [
        39
      ]
    },
    {
      "rule_id": "BR003",
      "description": "Performs unload of child segments using PAUTBUNL specification",
      "logic_summary": "DFSRRC00 PARM includes PAUTBUNL as third parameter",
      "conditions": [],
      "citation": [
        39
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "DDPAUTP0",
        "fields_used": [
          "IMS database segments"
        ],
        "citation": [
          58
        ]
      },
      {
        "source": "DDPAUTX0",
        "fields_used": [
          "IMS database segments"
        ],
        "citation": [
          59
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "OUTFIL1",
        "fields_written": [
          "Unloaded root segments"
        ],
        "citation": [
          48
        ]
      },
      {
        "destination": "OUTFIL2",
        "fields_written": [
          "Unloaded child segments"
        ],
        "citation": [
          53
        ]
      }
    ],
    "transforms": [
      {
        "input_field": "PAUTDB IMS segments from PAUTHDB/PAUTHDBX",
        "output_field": "Sequential fixed-block records",
        "transformation_description": "IMS unload utility converts database segments to sequential dataset records",
        "citation": [
          39
        ]
      }
    ]
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "STEP0",
      "summary": null,
      "purpose": "Deletes prior output files using IEFBR14 and DISP=OLD,DELETE",
      "called_by": [],
      "calls": [],
      "citation": [
        25,
        37
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "metadata": null
    },
    {
      "paragraph_name": "STEP01",
      "summary": null,
      "purpose": "Executes DFSRRC00 IMS utility for database unload to sequential files",
      "called_by": [],
      "calls": [],
      "citation": [
        38,
        69
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "metadata": null
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "Which DD (DDPAUTP0 or DDPAUTX0) corresponds to root vs child segments",
      "context": "PARM specifies PAUDBUNL and PAUTBUNL but DD names do not explicitly map",
      "suggestion": "Review IMS DBD or DFSRRC00 documentation for PAUTHDB/PAUTHDBX usage with these PSBs"
    },
    {
      "question": "Role of STEPLIB and other IMS library DDs",
      "context": "Multiple IMS libraries concatenated but specific modules not identifiable from JCL alone",
      "suggestion": "Trace load modules in AWS.M2.CARDDEMO.LOADLIB and IMS SDFSRESL"
    }
  ]
}