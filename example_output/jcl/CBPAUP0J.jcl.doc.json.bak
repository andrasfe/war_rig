{
  "header": {
    "program_id": "CBPAUP0J",
    "file_name": "jcl/CBPAUP0J.jcl",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-24T04:00:08.841674",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL job CBPAUP0J executes the IMS region controller DFSRRC00 to run application program CBPAUP0C in BMP mode with PSB PAUTB for deleting expired authorizations from an IMS database. It specifies necessary IMS libraries, PSB/DBD libraries, and inline SYSIN control data. Output is directed to multiple SYSOUT datasets for logs, prints, and dumps.",
    "business_context": "IMS database maintenance for deleting expired authorizations in a card demo system",
    "program_type": "BATCH",
    "citations": [
      1,
      21,
      24,
      25,
      36
    ]
  },
  "inputs": [
    {
      "name": "SYSIN",
      "io_type": "PARAMETER",
      "description": "Inline IMS control statements '00,00001,00001,Y' specifying processing criteria such as database ID, segment levels, or options for the CBPAUP0C program",
      "copybook": null,
      "citation": [
        36,
        37
      ]
    },
    {
      "name": "STEPLIB",
      "io_type": "OTHER",
      "description": "Concatenated load libraries containing IMS modules and application program CBPAUP0C",
      "copybook": null,
      "citation": [
        26,
        27
      ]
    },
    {
      "name": "DFSRESLB",
      "io_type": "OTHER",
      "description": "IMS steplib for resource modules",
      "copybook": null,
      "citation": [
        28
      ]
    },
    {
      "name": "PROCLIB",
      "io_type": "OTHER",
      "description": "IMS proclib for procedures",
      "copybook": null,
      "citation": [
        29
      ]
    },
    {
      "name": "DFSSEL",
      "io_type": "OTHER",
      "description": "IMS selection library",
      "copybook": null,
      "citation": [
        31
      ]
    },
    {
      "name": "IMS",
      "io_type": "OTHER",
      "description": "Concatenated PSBLIB and DBDLIB providing PSB PAUTB and database definitions for application access",
      "copybook": null,
      "citation": [
        33,
        34
      ]
    }
  ],
  "outputs": [
    {
      "name": "SYSOUX",
      "io_type": "REPORT",
      "description": "IMS-specific output",
      "copybook": null,
      "citation": [
        39
      ]
    },
    {
      "name": "SYSOUT",
      "io_type": "REPORT",
      "description": "Standard job output",
      "copybook": null,
      "citation": [
        40
      ]
    },
    {
      "name": "SYSABOUT",
      "io_type": "REPORT",
      "description": "Program about or informational output",
      "copybook": null,
      "citation": [
        41
      ]
    },
    {
      "name": "ABENDAID",
      "io_type": "REPORT",
      "description": "Abend diagnostic aid output",
      "copybook": null,
      "citation": [
        42
      ]
    },
    {
      "name": "SYSPRINT",
      "io_type": "REPORT",
      "description": "Print file for compiler or program output",
      "copybook": null,
      "citation": [
        45
      ]
    },
    {
      "name": "SYSUDUMP",
      "io_type": "REPORT",
      "description": "System dump for diagnostics",
      "copybook": null,
      "citation": [
        46
      ]
    },
    {
      "name": "IMSERR",
      "io_type": "REPORT",
      "description": "IMS error messages",
      "copybook": null,
      "citation": [
        47
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "DFSRRC00",
      "call_type": "STATIC_CALL",
      "purpose": "IMS region controller to invoke CBPAUP0C in BMP mode",
      "parameters": [
        "BMP,CBPAUP0C,PSBPAUTB"
      ],
      "citation": 24
    },
    {
      "program_name": "CBPAUP0C",
      "call_type": "DYNAMIC_CALL",
      "purpose": "Application program to delete expired authorizations using PSB PAUTB",
      "parameters": [],
      "citation": 25
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "STEP01",
      "summary": null,
      "purpose": "STEP01 is the only execution step in this JCL job and serves as the primary orchestrator for running the IMS batch deletion process. It consumes input from multiple DD datasets including STEPLIB for load modules (lines 26-27), DFSRESLB (28), PROCLIB (29), DFSSEL (31), IMS PSB/DBDLIB (33-34), and inline SYSIN control data '00,00001,00001,Y' (36-37) which provides parameters for IMS database access by CBPAUP0C. It produces outputs to SYSOUT-class datasets such as SYSOUX (39), SYSOUT (40), SYSABOUT (41), ABENDAID (42), SYSPRINT (45), SYSUDUMP (46), and IMSERR (47) for capturing program output, logs, dumps, and errors. Business logic is not implemented directly in JCL but delegated via EXEC PGM=DFSRRC00 with PARM='BMP,CBPAUP0C,PSBPAUTB' (24-25) to execute the authorization deletion. No conditional decisions are made in the JCL; processing flow is linear based on program success. Error handling is provided implicitly through ABENDAID and SYSUDUMP DDs to capture abend details if DFSRRC00 or CBPAUP0C fails. Dummy DDs IEFRDER (43) and IMSLOGR (44) satisfy program I/O requirements without files. This step controls the overall job flow for the 'DELETE EXPIRED AUTHORIZATIONS' purpose (21). It statically calls DFSRRC00, which dynamically invokes CBPAUP0C for the core IMS processing.",
      "called_by": [],
      "calls": [
        "DFSRRC00",
        "CBPAUP0C"
      ],
      "citation": [
        24,
        47
      ],
      "outgoing_calls": [
        {
          "target": "DFSRRC00",
          "call_type": "executes",
          "line": 24
        },
        {
          "target": "IMS.SDFSRESL",
          "call_type": "references",
          "line": 26
        },
        {
          "target": "XXXXXXXX.PROD.LOADLIB",
          "call_type": "references",
          "line": 27
        },
        {
          "target": "IMS.SDFSRESL",
          "call_type": "references",
          "line": 28
        },
        {
          "target": "IMS.PROCLIB",
          "call_type": "references",
          "line": 29
        },
        {
          "target": "IMS.SDFSRESL",
          "call_type": "references",
          "line": 31
        },
        {
          "target": "IMS.PSBLIB",
          "call_type": "references",
          "line": 33
        },
        {
          "target": "IMS.DBDLIB",
          "call_type": "references",
          "line": 34
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "Program abend or IMS failure",
      "action": "Capture abend information in ABENDAID and SYSUDUMP datasets",
      "citation": [
        42,
        46
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What specific IMS database, DBD, and segments are accessed by CBPAUP0C?",
      "context": "Not specified in JCL; controlled by PSB PAUTB and SYSIN '00,00001,00001,Y' interpretation",
      "suggestion": "Analyze PSBPAUTB definition and CBPAUP0C source code"
    },
    {
      "question": "Exact meaning of SYSIN data '00,00001,00001,Y'?",
      "context": "IMS-specific control format for DFSRRC00 BMP not fully documented in JCL comments",
      "suggestion": "Consult IMS DFSRRC00 documentation for BMP SYSIN format"
    }
  ],
  "resolved_questions": [],
  "dead_code": [],
  "call_semantics": [],
  "flow_diagram": null
}