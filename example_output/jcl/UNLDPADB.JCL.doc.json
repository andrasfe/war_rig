{
  "header": {
    "program_id": "UNLDPADB",
    "file_name": "jcl/UNLDPADB.JCL",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-24T17:39:12.749757",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL job unloads an IMS database (PAUTDB) and reloads it. It first deletes the existing database files, then executes the IMS program DFSRRC00 with the PAUDBUNL PSB to unload the database, and finally re-creates the database files.",
    "business_context": null,
    "program_type": "BATCH",
    "citations": [
      23,
      33,
      38,
      48,
      53
    ]
  },
  "inputs": [
    {
      "name": "OEM.IMS.IMSP.PAUTHDB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Input IMS database to be unloaded.",
      "copybook": null,
      "citation": [
        58
      ]
    },
    {
      "name": "OEM.IMS.IMSP.PAUTHDBX",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Input IMS database index to be unloaded.",
      "copybook": null,
      "citation": [
        59
      ]
    },
    {
      "name": "OEMA.IMS.IMSP.SDFSRESL",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS RESLIB library.",
      "copybook": null,
      "citation": [
        40,
        43
      ]
    },
    {
      "name": "OEMA.IMS.IMSP.SDFSRESL.V151",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS RESLIB library version 151.",
      "copybook": null,
      "citation": [
        41
      ]
    },
    {
      "name": "AWS.M2.CARDDEMO.LOADLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Load library containing the IMS program.",
      "copybook": null,
      "citation": [
        42
      ]
    },
    {
      "name": "OEM.IMS.IMSP.PSBLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS PSB library.",
      "copybook": null,
      "citation": [
        45
      ]
    },
    {
      "name": "OEM.IMS.IMSP.DBDLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS DBD library.",
      "copybook": null,
      "citation": [
        46
      ]
    },
    {
      "name": "OEMPP.IMS.V15R01MB.PROCLIB(DFSVSMDB)",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS VSAM definition library.",
      "copybook": null,
      "citation": [
        63
      ]
    }
  ],
  "outputs": [
    {
      "name": "AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Output file for the unloaded root segment of the PAUTDB database.",
      "copybook": null,
      "citation": [
        48
      ]
    },
    {
      "name": "AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Output file for the unloaded child segment of the PAUTDB database.",
      "copybook": null,
      "citation": [
        53
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "IEFBR14",
      "call_type": "STATIC_CALL",
      "purpose": "Dummy program used to delete the existing database files.",
      "parameters": [],
      "citation": 25
    },
    {
      "program_name": "DFSRRC00",
      "call_type": "STATIC_CALL",
      "purpose": "IMS program used to unload the PAUTDB database.",
      "parameters": [
        "DLI",
        "PAUDBUNL",
        "PAUTBUNL",
        ",,,,,,,,,,,N"
      ],
      "citation": 38
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [
      {
        "source": "OEM.IMS.IMSP.PAUTHDB",
        "fields_used": [],
        "citation": [
          58
        ]
      },
      {
        "source": "OEM.IMS.IMSP.PAUTHDBX",
        "fields_used": [],
        "citation": [
          59
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO",
        "fields_written": [],
        "citation": [
          48
        ]
      },
      {
        "destination": "AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO",
        "fields_written": [],
        "citation": [
          53
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "STEP0",
      "summary": null,
      "purpose": "This step executes the IEFBR14 program, a dummy program that performs no actual processing. In this JCL, it's used to delete the existing IMS database files (AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO and AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO) before the database is unloaded and re-created. The DD statements DD1 and DD2 define the datasets to be deleted, specifying DISP=(OLD,DELETE,DELETE). The first DELETE ensures the dataset is deleted at the end of the step, regardless of the step's success or failure. This step prepares the environment for the subsequent unloading and reloading of the IMS database by removing any existing data.",
      "called_by": [],
      "calls": [],
      "citation": [
        25,
        37
      ],
      "outgoing_calls": [
        {
          "target": "IEFBR14",
          "call_type": "executes",
          "line": 25
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO",
          "call_type": "references",
          "line": 33
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO",
          "call_type": "references",
          "line": 35
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "STEP01",
      "summary": null,
      "purpose": "This step executes the IMS program DFSRRC00 to unload the PAUTDB database. The PGM parameter specifies the program to be executed, and the PARM parameter passes control information to the IMS program. The PARM string 'DLI,PAUDBUNL,PAUTBUNL,,,,,,,,,,,N' indicates that the program is to be executed in DLI mode, using the PAUDBUNL PSB (Program Specification Block) and the PAUTBUNL control region. The STEPLIB DD statements define the libraries containing the IMS modules required for execution, including OEMA.IMS.IMSP.SDFSRESL, OEMA.IMS.IMSP.SDFSRESL.V151, and AWS.M2.CARDDEMO.LOADLIB. The DFSRESLB DD statement defines the IMS RESLIB library. The IMS DD statement defines the PSBLIB and DBDLIB libraries. The OUTFIL1 and OUTFIL2 DD statements define the output files where the unloaded database segments will be written. DDPAUTP0 and DDPAUTX0 define the input IMS database and index. DFSVSAMP defines the VSAM parameters. The remaining DD statements define dummy datasets for IMS logging and error handling.",
      "called_by": [],
      "calls": [],
      "citation": [
        38,
        69
      ],
      "outgoing_calls": [
        {
          "target": "DFSRRC00",
          "call_type": "executes",
          "line": 38
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL",
          "call_type": "references",
          "line": 40
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL.V151",
          "call_type": "references",
          "line": 41
        },
        {
          "target": "AWS.M2.CARDDEMO.LOADLIB",
          "call_type": "references",
          "line": 42
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL",
          "call_type": "references",
          "line": 43
        },
        {
          "target": "OEM.IMS.IMSP.PSBLIB",
          "call_type": "references",
          "line": 45
        },
        {
          "target": "OEM.IMS.IMSP.DBDLIB",
          "call_type": "references",
          "line": 46
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO",
          "call_type": "references",
          "line": 48
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO",
          "call_type": "references",
          "line": 53
        },
        {
          "target": "OEM.IMS.IMSP.PAUTHDB",
          "call_type": "references",
          "line": 58
        },
        {
          "target": "OEM.IMS.IMSP.PAUTHDBX",
          "call_type": "references",
          "line": 59
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [],
  "resolved_questions": [],
  "dead_code": [],
  "call_semantics": [],
  "flow_diagram": null
}