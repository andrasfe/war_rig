{
  "header": {
    "program_id": "DBPAUTP0",
    "file_name": "jcl/DBPAUTP0.jcl",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-24T17:39:45.321664",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL job unloads the DBPAUTP0 database using the IMS Database Image Copy utility (DFSRRC00). It first deletes the output dataset if it exists, then executes the unload, and finally catalogs the new unloaded dataset.",
    "business_context": null,
    "program_type": "BATCH",
    "citations": [
      1,
      13,
      25
    ]
  },
  "inputs": [
    {
      "name": "OEM.IMS.IMSP.PAUTHDB",
      "io_type": "FILE_VSAM",
      "description": "Input database file for DBPAUTP0 unload process.",
      "copybook": null,
      "citation": [
        31
      ]
    },
    {
      "name": "OEM.IMS.IMSP.PAUTHDBX",
      "io_type": "FILE_VSAM",
      "description": "Index file associated with the PAUTHDB database.",
      "copybook": null,
      "citation": [
        32
      ]
    },
    {
      "name": "OEM.IMS.IMSP.PSBLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS PSB library.",
      "copybook": null,
      "citation": [
        21
      ]
    },
    {
      "name": "OEM.IMS.IMSP.DBDLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS DBD library.",
      "copybook": null,
      "citation": [
        22
      ]
    },
    {
      "name": "OEMPP.IMS.V15R01MB.PROCLIB(DFSVSMDB)",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS VSAM parameter library.",
      "copybook": null,
      "citation": [
        33
      ]
    },
    {
      "name": "OEM.IMS.IMSP.RECON1",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS Recovery Control Data Set 1.",
      "copybook": null,
      "citation": [
        40
      ]
    },
    {
      "name": "OEM.IMS.IMSP.RECON2",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS Recovery Control Data Set 2.",
      "copybook": null,
      "citation": [
        41
      ]
    },
    {
      "name": "OEM.IMS.IMSP.RECON3",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS Recovery Control Data Set 3.",
      "copybook": [
        42
      ],
      "citation": [
        42
      ]
    }
  ],
  "outputs": [
    {
      "name": "AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0",
      "io_type": "FILE_VSAM",
      "description": "Unloaded database output dataset.",
      "copybook": null,
      "citation": [
        9,
        25
      ]
    },
    {
      "name": "SYSPRINT",
      "io_type": "REPORT",
      "description": "System print output for job execution messages and diagnostics.",
      "copybook": null,
      "citation": [
        8,
        23
      ]
    },
    {
      "name": "SYSUDUMP",
      "io_type": "REPORT",
      "description": "System dump output for debugging purposes.",
      "copybook": null,
      "citation": [
        36
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "IEFBR14",
      "call_type": "STATIC_CALL",
      "purpose": "Deletes the existing output dataset AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0 before the unload process.",
      "parameters": [],
      "citation": 7
    },
    {
      "program_name": "DFSRRC00",
      "call_type": "STATIC_CALL",
      "purpose": "Executes the IMS Database Image Copy utility to unload the DBPAUTP0 database.",
      "parameters": [
        "ULU",
        "DFSURGU0",
        "DBPAUTP0"
      ],
      "citation": 15
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [
      {
        "source": "OEM.IMS.IMSP.PAUTHDB",
        "fields_used": [],
        "citation": [
          31
        ]
      },
      {
        "source": "OEM.IMS.IMSP.PAUTHDBX",
        "fields_used": [],
        "citation": [
          32
        ]
      },
      {
        "source": "OEM.IMS.IMSP.PSBLIB",
        "fields_used": [],
        "citation": [
          21
        ]
      },
      {
        "source": "OEM.IMS.IMSP.DBDLIB",
        "fields_used": [],
        "citation": [
          22
        ]
      },
      {
        "source": "OEMPP.IMS.V15R01MB.PROCLIB(DFSVSMDB)",
        "fields_used": [],
        "citation": [
          33
        ]
      },
      {
        "source": "OEM.IMS.IMSP.RECON1",
        "fields_used": [],
        "citation": [
          40
        ]
      },
      {
        "source": "OEM.IMS.IMSP.RECON2",
        "fields_used": [],
        "citation": [
          41
        ]
      },
      {
        "source": "OEM.IMS.IMSP.RECON3",
        "fields_used": [],
        "citation": [
          42
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0",
        "fields_written": [],
        "citation": [
          25
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "STEPDEL",
      "summary": null,
      "purpose": "This step deletes the output dataset AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0 if it already exists. It uses the IEFBR14 program, a utility whose sole purpose is to perform dataset operations. The SYSPRINT DD defines the output for system messages. The SYSUT1 DD defines the dataset to be deleted, specifying its DSN, disposition, unit, and space allocation. The disposition (MOD,DELETE) indicates that if the dataset exists, it should be deleted. This ensures that the subsequent unload step starts with a clean slate and avoids potential conflicts if the dataset already exists. No specific business logic is implemented in this step, as it is purely a housekeeping task to manage the output dataset. No error handling is explicitly defined; any errors during dataset deletion will result in a JCL error and job termination. No other programs or paragraphs are called from this step.",
      "called_by": [],
      "calls": [],
      "citation": [
        7,
        10
      ],
      "outgoing_calls": [
        {
          "target": "IEFBR14",
          "call_type": "executes",
          "line": 7
        },
        {
          "target": "AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0",
          "call_type": "references",
          "line": 9
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "UNLOAD",
      "summary": null,
      "purpose": "This step executes the IMS Database Image Copy utility (DFSRRC00) to unload the DBPAUTP0 database. It specifies the program to be executed (DFSRRC00) and sets the region size to 4M. The PARM parameter passes control parameters to the DFSRRC00 program, including ULU (Unload Utility), DFSURGU0 (Unload control statement dataset), and DBPAUTP0 (database name). The STEPLIB DD statements define the libraries containing the necessary modules for the DFSRRC00 program, including OEMA.IMS.IMSP.SDFSRESL and AWS.M2.CARDDEMO.LOADLIB. DFSRESLB defines the IMS resident library. The IMS DD statements define the IMS PSB and DBD libraries. The DFSURGU1 DD defines the output dataset where the unloaded database will be stored. The DDPAUTP0 and DDPAUTX0 DD statements define the input database files. The DFSVSAMP DD defines the VSAM parameter library. The DFSCTL DD statement includes SBPARM ACTIV=COND, which specifies conditional activation of the subsystem. The SYSUDUMP DD defines the system dump dataset for debugging purposes. The RECON* DD statements define the IMS Recovery Control datasets. DFSWRK01 and DFSSRT01 are dummy datasets. The purpose of this step is to create a sequential unloaded copy of the DBPAUTP0 database for backup or recovery purposes. No specific business logic is implemented directly in this step, as it primarily invokes the IMS utility. Error handling is managed by the IMS utility, and any errors will be reported in the SYSPRINT output. No other programs or paragraphs are called directly from this step, but the DFSRRC00 program may internally call other IMS modules.",
      "called_by": [],
      "calls": [],
      "citation": [
        15,
        45
      ],
      "outgoing_calls": [
        {
          "target": "DFSRRC00",
          "call_type": "executes",
          "line": 15
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL",
          "call_type": "references",
          "line": 18
        },
        {
          "target": "AWS.M2.CARDDEMO.LOADLIB",
          "call_type": "references",
          "line": 19
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL",
          "call_type": "references",
          "line": 20
        },
        {
          "target": "OEM.IMS.IMSP.PSBLIB",
          "call_type": "references",
          "line": 21
        },
        {
          "target": "OEM.IMS.IMSP.DBDLIB",
          "call_type": "references",
          "line": 22
        },
        {
          "target": "AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0",
          "call_type": "references",
          "line": 25
        },
        {
          "target": "OEM.IMS.IMSP.PAUTHDB",
          "call_type": "references",
          "line": 31
        },
        {
          "target": "OEM.IMS.IMSP.PAUTHDBX",
          "call_type": "references",
          "line": 32
        },
        {
          "target": "OEMPP.IMS.V15R01MB.PROCLIB",
          "call_type": "references",
          "line": 33
        },
        {
          "target": "OEM.IMS.IMSP.RECON1",
          "call_type": "references",
          "line": 40
        },
        {
          "target": "OEM.IMS.IMSP.RECON2",
          "call_type": "references",
          "line": 41
        },
        {
          "target": "OEM.IMS.IMSP.RECON3",
          "call_type": "references",
          "line": 42
        }
      ],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Paragraph 'UNLOAD' is never PERFORMed or referenced by any other paragraph or program",
      "metadata": null
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What is the exact purpose and structure of the DFSURGU0 control statement dataset?",
      "context": "The JCL refers to DFSURGU0 in the PARM parameter of the UNLOAD step, but the content and structure of this control statement dataset are not defined within the JCL itself.",
      "suggestion": "Review the IMS documentation for the DFSRRC00 utility to understand the required format and parameters for the DFSURGU0 control statement dataset."
    }
  ],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "UNLOAD",
      "artifact_type": "paragraph",
      "line": 15,
      "reason": "Paragraph 'UNLOAD' is never PERFORMed or referenced by any other paragraph or program"
    }
  ],
  "call_semantics": [],
  "flow_diagram": null
}