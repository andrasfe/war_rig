{
  "header": {
    "program_id": "CIDBCMP",
    "file_name": "jcl/CICDBCMP.jcl",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-24T18:35:17.489479",
    "iteration_count": 5,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL job sets symbolic parameters including HLQ=AWS.M2.CARDDEMO, SSID=DAZ1, MEMNAME=CICSDB2P, PLAN=CARDDEMO, and library names, then executes cataloged procedure BLDCIDB2 in step CICSCMP to compile, link-edit, and bind a CICS COBOL DB2 program for the CardDemo application. The procedure performs DB2 precompile, COBOL compile, link-edit to LOADLIB, DBRM creation to DBRMLIB, and bind to the specified PLAN. No inline DD statements exist; all dataset allocations are defined within the BLDCIDB2 PROC.",
    "business_context": "Supports build lifecycle for CardDemo application by compiling CICS/DB2 COBOL program CICSDB2P using AWS.M2 libraries and DB2 SSID DAZ1.",
    "program_type": "BATCH",
    "citations": [
      1,
      24,
      28,
      33,
      34,
      35,
      36,
      37,
      38,
      39,
      40,
      42,
      54
    ]
  },
  "inputs": [
    {
      "name": "SRCLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "COBOL source PDS (&HLQ..CBL) containing member CICSDB2P, read SHR by BLDCIDB2 PROC precompile/compile steps.",
      "copybook": null,
      "citation": [
        36
      ]
    },
    {
      "name": "COPYLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Copybook PDS (&HLQ..CPY), read SHR by BLDCIDB2 PROC COBOL compile step.",
      "copybook": null,
      "citation": [
        37
      ]
    },
    {
      "name": "DCLLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "DCLGEN PDS (&HLQ..DCL), read SHR by BLDCIDB2 PROC DB2 precompile step.",
      "copybook": null,
      "citation": [
        38
      ]
    },
    {
      "name": "HLQ",
      "io_type": "PARAMETER",
      "description": "High level qualifier (AWS.M2.CARDDEMO) for constructing all dataset names, passed to BLDCIDB2 PROC.",
      "copybook": null,
      "citation": [
        33,
        36,
        37,
        38,
        39,
        40
      ]
    },
    {
      "name": "SSID",
      "io_type": "PARAMETER",
      "description": "DB2 subsystem ID (DAZ1) for precompile and bind steps, passed to BLDCIDB2 PROC.",
      "copybook": null,
      "citation": [
        34
      ]
    },
    {
      "name": "MEMNAME",
      "io_type": "PARAMETER",
      "description": "Program member name (CICSDB2P) to compile, passed to BLDCIDB2 PROC.",
      "copybook": null,
      "citation": [
        35,
        54
      ]
    },
    {
      "name": "PLAN",
      "io_type": "PARAMETER",
      "description": "DB2 plan name (CARDDEMO) for bind step, passed to BLDCIDB2 PROC.",
      "copybook": null,
      "citation": [
        42
      ]
    },
    {
      "name": "CCLIBS",
      "io_type": "OTHER",
      "description": "Commented JCLLIB ORDER reference to &HLQ..PROC.UTIL for proclib containing BLDCIDB2.",
      "copybook": null,
      "citation": [
        46
      ]
    },
    {
      "name": "EXPORT SYMLIST=*",
      "io_type": "PARAMETER",
      "description": "Commented export of all JCL symbols to make available to BLDCIDB2 PROC.",
      "copybook": null,
      "citation": [
        50
      ]
    }
  ],
  "outputs": [
    {
      "name": "LOADLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "PDS (&HLQ..LOADLIB) receiving linked load module for CICSDB2P, written MOD by BLDCIDB2 PROC link-edit step.",
      "copybook": null,
      "citation": [
        39,
        54
      ]
    },
    {
      "name": "DBRMLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "PDS (&HLQ..DBRMLIB) receiving DBRM library member, written MOD by BLDCIDB2 PROC bind step.",
      "copybook": null,
      "citation": [
        40,
        54
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "BLDCIDB2",
      "call_type": "STATIC_CALL",
      "purpose": "Cataloged procedure executes DB2 precompile, COBOL compile, link-edit, DBRM creation, and plan bind for CICS/DB2 program CICSDB2P.",
      "parameters": [
        "MEMNAME=&MEMNAME",
        "HLQ=&HLQ",
        "SSID=&SSID",
        "PLAN=&PLAN"
      ],
      "citation": 54
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "No inline DD statements with DSN= or DISP= parameters exist in this JCL.",
      "logic_summary": "All dataset definitions including DSN, DISP (SHR for inputs, MOD for outputs), and purposes handled exclusively within BLDCIDB2 PROC.",
      "conditions": [
        "Absence of any DD * statements between JOB and EXEC"
      ],
      "citation": [
        54
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Input datasets SRCLIB, COPYLIB, DCLLIB require pre-existence with SHR access.",
      "logic_summary": "Read-only access presumed in PROC for source, copybooks, DCLGEN.",
      "conditions": [
        "Datasets cataloged prior to job submission"
      ],
      "citation": [
        36,
        37,
        38
      ]
    },
    {
      "rule_id": "BR003",
      "description": "Output datasets LOADLIB, DBRMLIB require MOD or NEW disposition authority.",
      "logic_summary": "Written by PROC link-edit and DBRM/bind steps.",
      "conditions": [
        "Write access granted to PDS members"
      ],
      "citation": [
        39,
        40
      ]
    },
    {
      "rule_id": "BR004",
      "description": "Symbolic parameters HLQ, SSID, MEMNAME, PLAN must be defined via SET before EXEC.",
      "logic_summary": "Substituted into BLDCIDB2 PROC overrides.",
      "conditions": [
        "SET statements precede EXEC"
      ],
      "citation": [
        33,
        34,
        35,
        42
      ]
    },
    {
      "rule_id": "BR005",
      "description": "Step CICSCMP executes unconditionally with no COND parameter.",
      "logic_summary": "Single step always runs if job starts.",
      "conditions": [
        "No COND= keyword on EXEC"
      ],
      "citation": [
        54
      ]
    },
    {
      "rule_id": "BR006",
      "description": "Pre-job input dependencies: SRCLIB=&HLQ..CBL (SHR/OLD), COPYLIB=&HLQ..CPY (SHR/OLD), DCLLIB=&HLQ..DCL (SHR/OLD).",
      "logic_summary": "Required for BLDCIDB2 PROC steps.",
      "conditions": [
        "Datasets accessible pre-job"
      ],
      "citation": [
        33,
        36,
        37,
        38
      ]
    },
    {
      "rule_id": "BR007",
      "description": "Job output dependencies: LOADLIB=&HLQ..LOADLIB (MOD), DBRMLIB=&HLQ..DBRMLIB (MOD).",
      "logic_summary": "Created or updated by BLDCIDB2 PROC.",
      "conditions": [
        "Update authority"
      ],
      "citation": [
        39,
        40,
        54
      ]
    },
    {
      "rule_id": "BR008",
      "description": "EXEC CICSCMP invokes PROC=BLDCIDB2 (no PGM=).",
      "logic_summary": "PROC performs full CICS COBOL DB2 build.",
      "conditions": [
        "EXEC PROC=BLDCIDB2"
      ],
      "citation": [
        54
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "SRCLIB (&HLQ..CBL), COPYLIB (&HLQ..CPY), DCLLIB (&HLQ..DCL)",
        "fields_used": [
          "COBOL source CICSDB2P",
          "Copybooks",
          "DCLGEN members"
        ],
        "citation": [
          36,
          37,
          38
        ]
      },
      {
        "source": "SYMBOLIC PARAMETERS (HLQ, SSID, MEMNAME, PLAN)",
        "fields_used": [
          "AWS.M2.CARDDEMO",
          "DAZ1",
          "CICSDB2P",
          "CARDDEMO"
        ],
        "citation": [
          33,
          34,
          35,
          42
        ]
      },
      {
        "source": "Proclib (via commented CCLIBS &HLQ..PROC.UTIL)",
        "fields_used": [
          "BLDCIDB2 cataloged procedure"
        ],
        "citation": [
          46
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "LOADLIB (&HLQ..LOADLIB), DBRMLIB (&HLQ..DBRMLIB)",
        "fields_written": [
          "CICSDB2P load module",
          "CICSDB2P DBRM"
        ],
        "citation": [
          39,
          40,
          54
        ]
      }
    ],
    "transforms": [
      {
        "input_field": "COBOL source CICSDB2P + copybooks + DCLGEN + parameters",
        "output_field": "CICSDB2P load module in LOADLIB + DBRM in DBRMLIB bound to CARDDEMO plan",
        "transformation_description": "DB2 precompile, COBOL compile, link-edit, DBRM creation, and bind executed by BLDCIDB2 PROC.",
        "citation": [
          54
        ]
      }
    ]
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "CICSCMP",
      "purpose": "EXEC step invokes cataloged procedure BLDCIDB2 to perform full build of CICS/DB2 COBOL program CICSDB2P; no inline DD/DSN/DISP; no COND parameter.",
      "called_by": [],
      "calls": [
        "BLDCIDB2"
      ],
      "citation": [
        54,
        54
      ]
    }
  ],
  "error_handling": [
    {
      "condition": "Failures in BLDCIDB2 PROC steps (e.g., compile, link, bind abends)",
      "action": "Job terminates with non-zero RC; messages to MSGCLASS=H; no JCL-level COND/IF.",
      "citation": [
        2,
        54
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "Exact DD statements, DSN, DISP, PGM= within BLDCIDB2 PROC?",
      "context": "PROC contents not in JCL source; impacts full dataset documentation.",
      "suggestion": "Retrieve and analyze BLDCIDB2 PROC from proclib."
    },
    {
      "question": "Proclib location for BLDCIDB2 (CCLIBS commented)?",
      "context": "JCLLIB ORDER commented out; relies on system default proclib search.",
      "suggestion": "Confirm proclib concatenation in execution environment."
    },
    {
      "question": "Symbol substitution into PROC with EXPORT commented?",
      "context": "SYMLIST=* commented; unclear if parameters propagate.",
      "suggestion": "Test job execution or review z/OSMF/JES2 config."
    },
    {
      "question": "Role of SET SYSLBLK=3200?",
      "context": "Defined but not passed as PROC parameter.",
      "suggestion": "Check if used internally by BLDCIDB2 or default overridden."
    }
  ]
}