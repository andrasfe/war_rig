{
  "header": {
    "program_id": "UNLDPADB",
    "file_name": "jcl/UNLDPADB.JCL",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-09T15:48:40.717921",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL job unloads an IMS database (PAUTDB) and reloads it. It first deletes the existing database files, then executes the IMS program DFSRRC00 with the PAUDBUNL PSB to unload the database, and finally recreates the database files.",
    "business_context": null,
    "program_type": "BATCH",
    "citations": [
      23,
      33,
      38,
      48,
      53
    ]
  },
  "inputs": [
    {
      "name": "OEM.IMS.IMSP.PAUTHDB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Input IMS database to be unloaded.",
      "copybook": null,
      "citation": [
        58
      ]
    },
    {
      "name": "OEM.IMS.IMSP.PAUTHDBX",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Input IMS database index to be unloaded.",
      "copybook": null,
      "citation": [
        59
      ]
    },
    {
      "name": "OEMA.IMS.IMSP.SDFSRESL",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS RESLIB",
      "copybook": null,
      "citation": [
        40,
        43
      ]
    },
    {
      "name": "OEMA.IMS.IMSP.SDFSRESL.V151",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IMS RESLIB version 151",
      "copybook": null,
      "citation": [
        41
      ]
    },
    {
      "name": "AWS.M2.CARDDEMO.LOADLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Load library containing the IMS program.",
      "copybook": null,
      "citation": [
        42
      ]
    },
    {
      "name": "OEM.IMS.IMSP.PSBLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "PSB library for IMS.",
      "copybook": null,
      "citation": [
        45
      ]
    },
    {
      "name": "OEM.IMS.IMSP.DBDLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "DBD library for IMS.",
      "copybook": null,
      "citation": [
        46
      ]
    },
    {
      "name": "OEMPP.IMS.V15R01MB.PROCLIB(DFSVSMDB)",
      "io_type": "FILE_SEQUENTIAL",
      "description": "DFSVSMDB proc from IMS PROCLIB",
      "copybook": null,
      "citation": [
        63
      ]
    }
  ],
  "outputs": [
    {
      "name": "AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Output file for the unloaded root segment of the PAUTDB database.",
      "copybook": null,
      "citation": [
        48
      ]
    },
    {
      "name": "AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Output file for the unloaded child segment of the PAUTDB database.",
      "copybook": null,
      "citation": [
        53
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "IEFBR14",
      "call_type": "STATIC_CALL",
      "purpose": "Dummy program used to delete the existing database files.",
      "parameters": [],
      "citation": 25
    },
    {
      "program_name": "DFSRRC00",
      "call_type": "STATIC_CALL",
      "purpose": "IMS program to unload the PAUTDB database.",
      "parameters": [
        "DLI",
        "PAUDBUNL",
        "PAUTBUNL",
        ",,,,,,,,,,,N"
      ],
      "citation": 38
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [
      {
        "source": "OEM.IMS.IMSP.PAUTHDB",
        "fields_used": [],
        "citation": [
          58
        ]
      },
      {
        "source": "OEM.IMS.IMSP.PAUTHDBX",
        "fields_used": [],
        "citation": [
          59
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO",
        "fields_written": [],
        "citation": [
          48
        ]
      },
      {
        "destination": "AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO",
        "fields_written": [],
        "citation": [
          53
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "STEP0",
      "summary": null,
      "purpose": "This step executes the dummy program IEFBR14 to delete the existing IMS database files before the unload process. It is a standard practice to ensure a clean slate before creating new files or reloading data. The program IEFBR14 does nothing but return a zero return code, effectively serving as a placeholder for file deletion operations defined in the DD statements. DD1 defines the root file AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO, and DD2 defines the child file AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO. Both DD statements specify DISP=(OLD,DELETE,DELETE), which means that if the files exist, they will be deleted at the beginning and end of the step. This step does not read any input data or produce any output other than deleting the specified files. It calls no other programs or paragraphs.",
      "called_by": [],
      "calls": [],
      "citation": [
        25,
        37
      ],
      "outgoing_calls": [
        {
          "target": "IEFBR14",
          "call_type": "executes",
          "line": 25
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO",
          "call_type": "references",
          "line": 33
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO",
          "call_type": "references",
          "line": 35
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "STEP01",
      "summary": null,
      "purpose": "This step executes the IMS program DFSRRC00 to unload the PAUTDB database. The PARM parameter specifies 'DLI,PAUDBUNL,PAUTBUNL,,,,,,,,,,,N', indicating a DLI batch job using the PAUDBUNL PSB and PAUTBUNL program name. The STEPLIB DD statements define the libraries required to execute the IMS program, including OEMA.IMS.IMSP.SDFSRESL, OEMA.IMS.IMSP.SDFSRESL.V151, and AWS.M2.CARDDEMO.LOADLIB. The DFSRESLB DD statement specifies the IMS RESLIB. The IMS DD statements define the PSB and DBD libraries. OUTFIL1 and OUTFIL2 DD statements define the output files for the unloaded root and child segments, respectively. DDPAUTP0 and DDPAUTX0 DD statements define the input IMS database and index. DFSVSAMP DD defines the buffer pool parameters. The SYSPRINT, SYSUDUMP, and IMSERR DD statements define the output datasets for system messages, dumps, and error messages. The program reads the IMS database (PAUTHDB and PAUTHDBX) and writes the unloaded data to AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO and AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO. It calls the IMS program DFSRRC00.",
      "called_by": [],
      "calls": [],
      "citation": [
        38,
        69
      ],
      "outgoing_calls": [
        {
          "target": "DFSRRC00",
          "call_type": "executes",
          "line": 38
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL",
          "call_type": "references",
          "line": 40
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL.V151",
          "call_type": "references",
          "line": 41
        },
        {
          "target": "AWS.M2.CARDDEMO.LOADLIB",
          "call_type": "references",
          "line": 42
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL",
          "call_type": "references",
          "line": 43
        },
        {
          "target": "OEM.IMS.IMSP.PSBLIB",
          "call_type": "references",
          "line": 45
        },
        {
          "target": "OEM.IMS.IMSP.DBDLIB",
          "call_type": "references",
          "line": 46
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO",
          "call_type": "references",
          "line": 48
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO",
          "call_type": "references",
          "line": 53
        },
        {
          "target": "OEM.IMS.IMSP.PAUTHDB",
          "call_type": "references",
          "line": 58
        },
        {
          "target": "OEM.IMS.IMSP.PAUTHDBX",
          "call_type": "references",
          "line": 59
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What is the exact purpose of the 'N' parameter in the PARM field of STEP01?",
      "context": "The meaning of the final 'N' parameter in the PARM string for DFSRRC00 is unclear from the JCL alone.",
      "suggestion": "Consult the IMS documentation for DFSRRC00 and the PAUDBUNL PSB to determine the purpose of this parameter."
    }
  ],
  "resolved_questions": [],
  "dead_code": [],
  "call_semantics": [],
  "flow_diagram": null
}