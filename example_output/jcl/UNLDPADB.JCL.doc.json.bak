{
  "header": {
    "program_id": "UNLDPADB",
    "file_name": "jcl/UNLDPADB.JCL",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-24T03:56:00.933952",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL job named UNLDPADB unloads IMS database PAUTDB root and child segments into sequential flat files using DFSRRC00 utility. STEP0 cleans up prior output files via IEFBR14 with delete dispositions. It supports AWS M2 Card Demo data export.",
    "business_context": "IMS database unload for AWS.M2.CARDDEMO payment authorization demo, likely for data migration, backup, or flat-file processing.",
    "program_type": "BATCH",
    "citations": [
      1,
      23,
      25,
      38,
      48,
      53
    ]
  },
  "inputs": [
    {
      "name": "DD1",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Prior run output file AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO for deletion",
      "copybook": null,
      "citation": [
        33
      ]
    },
    {
      "name": "DD2",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Prior run output file AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO for deletion",
      "copybook": null,
      "citation": [
        35
      ]
    },
    {
      "name": "DDPAUTP0",
      "io_type": "IMS_SEGMENT",
      "description": "IMS database OEM.IMS.IMSP.PAUTHDB providing root segments for unload",
      "copybook": null,
      "citation": [
        58
      ]
    },
    {
      "name": "DDPAUTX0",
      "io_type": "IMS_SEGMENT",
      "description": "IMS database OEM.IMS.IMSP.PAUTHDBX providing child segments for unload",
      "copybook": null,
      "citation": [
        59
      ]
    },
    {
      "name": "PARM",
      "io_type": "PARAMETER",
      "description": "DFSRRC00 parameters DLI,PAUDBUNL,PAUTBUNL specifying access and PCBs",
      "copybook": null,
      "citation": [
        39
      ]
    }
  ],
  "outputs": [
    {
      "name": "OUTFIL1",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Unloaded root segments from PAUTDB RECFM=FB LRECL=100",
      "copybook": null,
      "citation": [
        48
      ]
    },
    {
      "name": "OUTFIL2",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Unloaded child segments from PAUTDB RECFM=FB LRECL=206",
      "copybook": null,
      "citation": [
        53
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "IEFBR14",
      "call_type": "STATIC_CALL",
      "purpose": "Null execution to trigger DD delete dispositions for cleanup",
      "parameters": [],
      "citation": 25
    },
    {
      "program_name": "DFSRRC00",
      "call_type": "STATIC_CALL",
      "purpose": "IMS database unload utility to extract segments to sequential files",
      "parameters": [
        "DLI,PAUDBUNL,PAUTBUNL,,,,,,,,,,,N"
      ],
      "citation": 38
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [
      {
        "source": "DDPAUTP0",
        "fields_used": [
          "ALL_ROOT_SEGMENT_FIELDS"
        ],
        "citation": [
          58
        ]
      },
      {
        "source": "DDPAUTX0",
        "fields_used": [
          "ALL_CHILD_SEGMENT_FIELDS"
        ],
        "citation": [
          59
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "OUTFIL1",
        "fields_written": [
          "ROOT segment data"
        ],
        "citation": [
          48
        ]
      },
      {
        "destination": "OUTFIL2",
        "fields_written": [
          "CHILD segment data"
        ],
        "citation": [
          53
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "UNLDPADB",
      "summary": null,
      "purpose": "This paragraph encompasses the JOB card and header comments defining the UNLDPADB batch job. Its primary purpose is to establish the execution parameters including CLASS=A, MSGCLASS=H, REGION=0M, NOTIFY=&SYSUID, and TIME=1440 for long-running IMS utility. It includes extensive copyright and Apache License 2.0 notices from Amazon.com, outlining usage restrictions and terms. No input data or files are consumed directly at this level. No outputs are produced directly, but it enables step-level outputs. There are no business logic decisions, validations, or conditions checked here. Error handling is deferred to individual steps via standard JCL mechanisms. It orchestrates overall flow by sequencing STEP0 for cleanup followed by STEP01 for unload. Comments explicitly note 'EXECUTE IMS PROGRAM' purpose. This sets the context for PAUTDB database unloading in AWS.M2.CARDDEMO environment.",
      "called_by": [],
      "calls": [
        "STEP0",
        "STEP01"
      ],
      "citation": [
        1,
        24
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "STEP0",
      "summary": null,
      "purpose": "This paragraph is the STEP0 execution block running PGM=IEFBR14, a do-nothing utility used exclusively for DD disposition effects. Its primary role is cleanup, deleting prior output files to prevent conflicts in subsequent steps. It references DD1 (AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO) and DD2 (AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO) with DISP=(OLD,DELETE,DELETE), removing them if they exist. Additional DDs SYSPRINT, SYSOUT, SYSDUMP route to SYSOUT=* for any diagnostic output. No data is read, processed, or transformed; effect is solely from JCL dispositions. No business rules, conditions, or validations are applied. Errors like allocation failures cause standard JCL abend with no custom handling. This step calls no other paragraphs or programs. It ensures clean slate for OUTFIL1/OUTFIL2 creation in STEP01. Control passes implicitly to next step upon completion.",
      "called_by": [
        "UNLDPADB"
      ],
      "calls": [],
      "citation": [
        25,
        37
      ],
      "outgoing_calls": [
        {
          "target": "IEFBR14",
          "call_type": "executes",
          "line": 25
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO",
          "call_type": "references",
          "line": 33
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO",
          "call_type": "references",
          "line": 35
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "STEP01",
      "summary": null,
      "purpose": "This paragraph is the STEP01 execution block invoking PGM=DFSRRC00, the IMS database unload utility for segment extraction. Its primary purpose is to read hierarchical PAUTDB data and write it sequentially to flat files for export. It consumes IMS databases via DDPAUTP0 (PAUTHDB) and DDPAUTX0 (PAUTHDBX) using DLI access per PARM='DLI,PAUDBUNL,PAUTBUNL,,,,,,,,,,,N'. Supporting inputs include STEPLIB, DFSRESLB, IMS libraries, and DFSVSAMP for PSB/DBD. Outputs are OUTFIL1 (root segments, LRECL=100 FB) and OUTFIL2 (child segments, LRECL=206 FB) with CATLG and space allocation. No data transformations occur; it performs direct segment unload. No explicit conditions or business rules beyond utility defaults. Errors log to SYSPRINT, SYSUDUMP, IMSERR, IMSLOGR (DUMMY); JCL abends on failures. Calls no subordinate paragraphs or programs. Completes the core unload function post-cleanup.",
      "called_by": [
        "UNLDPADB"
      ],
      "calls": [],
      "citation": [
        38,
        69
      ],
      "outgoing_calls": [
        {
          "target": "DFSRRC00",
          "call_type": "executes",
          "line": 38
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL",
          "call_type": "references",
          "line": 40
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL.V151",
          "call_type": "references",
          "line": 41
        },
        {
          "target": "AWS.M2.CARDDEMO.LOADLIB",
          "call_type": "references",
          "line": 42
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL",
          "call_type": "references",
          "line": 43
        },
        {
          "target": "OEM.IMS.IMSP.PSBLIB",
          "call_type": "references",
          "line": 45
        },
        {
          "target": "OEM.IMS.IMSP.DBDLIB",
          "call_type": "references",
          "line": 46
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.ROOT.FILEO",
          "call_type": "references",
          "line": 48
        },
        {
          "target": "AWS.M2.CARDDEMO.PAUTDB.CHILD.FILEO",
          "call_type": "references",
          "line": 53
        },
        {
          "target": "OEM.IMS.IMSP.PAUTHDB",
          "call_type": "references",
          "line": 58
        },
        {
          "target": "OEM.IMS.IMSP.PAUTHDBX",
          "call_type": "references",
          "line": 59
        }
      ],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Paragraph 'STEP01' is never PERFORMed or referenced by any other paragraph or program",
      "metadata": null
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "Precise segment names and field layouts unloaded by PAUDBUNL/PAUTBUNL PCBs",
      "context": "JCL references PSB but lacks DBD/PSB source for field details",
      "suggestion": "Review DFSVSAMP(DFSVSMDB) PROCLIB member and DBDLIB definitions"
    }
  ],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "STEP01",
      "artifact_type": "paragraph",
      "line": 38,
      "reason": "Paragraph 'STEP01' is never PERFORMed or referenced by any other paragraph or program"
    }
  ],
  "call_semantics": [],
  "flow_diagram": null
}