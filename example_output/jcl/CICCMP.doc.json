{
  "header": {
    "program_id": "CICCMP",
    "file_name": "jcl/CICCMP.jcl",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-23T04:46:13.310128",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL job compiles a CICS COBOL program (default name CICSPGMN) using the BUILDONL procedure and conditionally executes an SDSF step to issue a CICS CEMT SET PROG NEWCOPY command against region CICSAWSA if the compile succeeds. It supports customization via SET parameters for HLQ and MEMNAME.",
    "business_context": "CICS program compilation and deployment for mainframe environment, likely AWS Mainframe Modernization (M2) based on HLQ=AWS.M2.",
    "program_type": "BATCH",
    "citations": [
      1,
      32,
      33,
      41,
      45,
      49
    ]
  },
  "inputs": [
    {
      "name": "HLQ",
      "io_type": "PARAMETER",
      "description": "High level qualifier for dataset references (set to AWS.M2)",
      "copybook": null,
      "citation": [
        32
      ]
    },
    {
      "name": "MEMNAME",
      "io_type": "PARAMETER",
      "description": "Member name of the COBOL program to compile (default CICSPGMN)",
      "copybook": null,
      "citation": [
        33
      ]
    },
    {
      "name": "ISFIN",
      "io_type": "OTHER",
      "description": "Inline dataset containing SDSF MODIFY command to perform CICS NEWCOPY",
      "copybook": null,
      "citation": [
        48,
        49,
        50
      ]
    }
  ],
  "outputs": [
    {
      "name": "ISFOUT",
      "io_type": "REPORT",
      "description": "SDSF output listing",
      "copybook": null,
      "citation": [
        46
      ]
    },
    {
      "name": "CMDOUT",
      "io_type": "REPORT",
      "description": "SDSF command output",
      "copybook": null,
      "citation": [
        47
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "BUILDONL",
      "call_type": "OTHER",
      "purpose": "Compiles the specified CICS COBOL program",
      "parameters": [
        "MEM=&MEMNAME",
        "HLQ=&HLQ"
      ],
      "citation": 41
    },
    {
      "program_name": "SDSF",
      "call_type": "OTHER",
      "purpose": "Executes batch CICS command to perform NEWCOPY on the compiled program",
      "parameters": [],
      "citation": 45
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Execute SDSF NEWCOPY step only if the prior CICSCMP (BUILDONL compile) step completes with return code less than 4",
      "logic_summary": "JCL conditional execution via COND=(4,LT) ensures NEWCOPY runs only on successful compile",
      "conditions": [
        "CICSCMP RC < 4"
      ],
      "citation": [
        45
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "HLQ",
        "fields_used": [
          "AWS.M2"
        ],
        "citation": [
          32
        ]
      },
      {
        "source": "MEMNAME",
        "fields_used": [
          "CICSPGMN"
        ],
        "citation": [
          33
        ]
      },
      {
        "source": "ISFIN",
        "fields_used": [
          "/MODIFY CICSAWSA,'CEMT SET PROG(CICSPGMN) NEWCOPY'"
        ],
        "citation": [
          49
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "ISFOUT",
        "fields_written": [
          "SDSF output"
        ],
        "citation": [
          46
        ]
      },
      {
        "destination": "CMDOUT",
        "fields_written": [
          "SDSF command output"
        ],
        "citation": [
          47
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [],
  "error_handling": [
    {
      "condition": "CICSCMP RC >= 4",
      "action": "Skip NEWCOPY step (no SDSF execution or program refresh)",
      "citation": [
        45
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What are the exact steps and DD statements in the BUILDONL procedure?",
      "context": "JCL EXEC BUILDONL references an external procedure whose contents are not provided in this file",
      "suggestion": "Provide the BUILDONL PROC or CCLIBS library for analysis"
    },
    {
      "question": "What input source files and libraries does BUILDONL use for compilation?",
      "context": "Compile procedure details unknown; typical CICS compile uses SYSLIN, SYSIN, etc., but cannot confirm",
      "suggestion": "Analyze referenced PROC or run job to inspect"
    },
    {
      "question": "Is CCLIBS JCLLIB actively used?",
      "context": "Line 37 is commented out (//CCLIBS), so unclear if PROC library is required",
      "suggestion": "Confirm environment setup"
    }
  ]
}