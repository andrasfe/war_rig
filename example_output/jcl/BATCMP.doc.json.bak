{
  "header": {
    "program_id": "BATCMP",
    "file_name": "jcl/BATCMP.jcl",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-24T18:34:04.121478",
    "iteration_count": 5,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL member submits the CNJBATMP batch job to compile a COBOL program named by symbolic MEMNAME (default BATCHPGM). It configures environment parameters including HLQ=AWS.M2 and JCLLIB ORDER for procedure library resolution, then executes the single BATCMP step invoking cataloged procedure BUILDBAT (PGM=IGYCRCTL) to perform the compilation. This supports the AWS Mainframe Modernization batch build lifecycle by producing executable load modules from source code.",
    "business_context": "Compiles COBOL source code into executable load modules as part of the batch program build and deployment lifecycle in AWS Mainframe Modernization environment (lines 22-29, 40-41 explicitly state 'Sample Batch COBOL Compile JCL' and 'COMPILE BATCH COBOL PROGRAM')",
    "program_type": "BATCH",
    "citations": [
      1,
      22,
      29,
      33,
      34,
      38,
      42
    ]
  },
  "inputs": [
    {
      "name": "MEMNAME",
      "io_type": "PARAMETER",
      "description": "Symbolic parameter for COBOL source member name to compile (default BATCHPGM); passed to BUILDBAT PROC as MEM=&MEMNAME; references prerequisite PDS member with source (DISP=SHR implied in PROC SYSIN/SYSLIB DDs)",
      "copybook": null,
      "citation": [
        33
      ]
    },
    {
      "name": "HLQ",
      "io_type": "PARAMETER",
      "description": "Symbolic high-level dataset qualifier (AWS.M2); used in JCLLIB ORDER and BUILDBAT parms for library and dataset resolution",
      "copybook": null,
      "citation": [
        34
      ]
    },
    {
      "name": "&HLQ..CARDDEMO.PRC.UTIL",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Procedure library PDS input dataset (must exist with DISP=SHR before job execution); contains BUILDBAT cataloged procedure; resolved via job-level JCLLIB ORDER",
      "copybook": null,
      "citation": [
        34,
        38
      ]
    },
    {
      "name": "COBOL-SOURCE",
      "io_type": "FILE_SEQUENTIAL",
      "description": "COBOL source PDS member &MEMNAME input dataset (must exist with DISP=SHR before job execution, delegated via BUILDBAT PROC SYSIN/SYSLIB DDs)",
      "copybook": null,
      "citation": [
        33,
        40,
        42
      ]
    }
  ],
  "outputs": [
    {
      "name": "COMPILATION-OUTPUTS",
      "io_type": "OTHER",
      "description": "COBOL compilation products output datasets including load module (SYSLMOD DD, typically DISP=NEW/CATLG), object/listings (SYSLIN/SYSPRINT DDs, typically DISP=MOD/SHR); all delegated to BUILDBAT PROC DDs (outputs created/modified by job)",
      "copybook": null,
      "citation": [
        22,
        42
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "BUILDBAT",
      "call_type": "STATIC_CALL",
      "purpose": "Cataloged procedure for batch COBOL compile executing PGM=IGYCRCTL with DD statements for SYSIN (source SHR), SYSLIB (compiler libs SHR), SYSLMOD (load NEW/CATLG), SYSPRINT (listing MOD), etc.; invoked by BATCMP EXEC",
      "parameters": [
        "MEM=&MEMNAME",
        "HLQ=&HLQ"
      ],
      "citation": 42
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "No inline DD statements with DSN= or DISP= parameters (zero matches for //DDNAME DD DSN=); all file handling delegated to BUILDBAT PROC DDs",
      "logic_summary": "JCL limited to JOB/SET/JCLLIB/EXEC; scan lines 1-42 confirms absence of any DD blocks (addresses [CRITICAL] empty_section for DD statements)",
      "conditions": [
        "No //[A-Z0-9]* DD DSN= patterns",
        "No DISP=NEW/OLD/SHR/MOD inline"
      ],
      "citation": [
        1,
        42
      ]
    },
    {
      "rule_id": "BR002",
      "description": "BUILDBAT PROC invoked by BATCMP step from library &HLQ..CARDDEMO.PRC.UTIL",
      "logic_summary": "EXEC BUILDBAT with job-level JCLLIB ORDER",
      "conditions": [
        "EXEC BUILDBAT,MEM=&MEMNAME,HLQ=&HLQ",
        "JCLLIB ORDER=&HLQ..CARDDEMO.PRC.UTIL"
      ],
      "citation": [
        38,
        42
      ]
    },
    {
      "rule_id": "BR003",
      "description": "BATCMP EXEC step accomplishes COBOL program compilation to load module in AWS Mainframe Modernization batch build lifecycle via single step executing IGYCRCTL via PROC, no COND parameters (specific role: compile step in build process, addresses [HIGH] vague_content and [CRITICAL] EXEC statements)",
      "logic_summary": "JOB CNJBATMP submits BATCMP step; no additional steps",
      "conditions": [
        "CLASS=A, REGION=0M, TIME=1440 for long-running compile",
        "Single EXEC step",
        "No COND parameters"
      ],
      "citation": [
        1,
        42
      ]
    },
    {
      "rule_id": "BR004",
      "description": "Input datasets must exist before job runs (DISP=SHR): procedure library &HLQ..CARDDEMO.PRC.UTIL, COBOL source &MEMNAME member; output datasets created/modified (DISP=NEW/CATLG for load module, MOD for listings) via BUILDBAT PROC DDs (addresses [CHR-m-000345] dependencies, [CHR-m-000259]/[CHR-m-000344])",
      "logic_summary": "No inline DDs; prereqs enforced by PROC DD DISP= params (e.g., SYSIN SHR, SYSLMOD NEW/CATLG)",
      "conditions": [
        "JCLLIB ORDER requires PRC.UTIL PDS(SHR)",
        "BUILDBAT SYSIN/SYSLIB require source(SHR)",
        "BUILDBAT SYSLMOD(SHR/NEW)"
      ],
      "citation": [
        33,
        34,
        38,
        42
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "Procedure library &HLQ..CARDDEMO.PRC.UTIL input dataset (DISP=SHR prereq)",
        "fields_used": [],
        "citation": [
          38
        ]
      },
      {
        "source": "COBOL source member &MEMNAME input dataset via BUILDBAT PROC DDs (e.g., SYSIN/SYSLIB, DISP=SHR prerequisite)",
        "fields_used": [],
        "citation": [
          33,
          42
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "Load module and listings output datasets via BUILDBAT PROC DDs (e.g., SYSLMOD DISP=NEW/CATLG, SYSPRINT DISP=MOD)",
        "fields_written": [],
        "citation": [
          42
        ]
      }
    ],
    "transforms": [
      {
        "input_field": "COBOL source code (&MEMNAME member)",
        "output_field": "Load module (SYSLMOD)",
        "transformation_description": "Compiles source to executable load via IGYCRCTL in BUILDBAT PROC",
        "citation": [
          42
        ]
      }
    ]
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "CNJBATMP",
      "purpose": "JOB card submits batch COBOL compile job with parms CLASS=A, MSGCLASS=H, MSGLEVEL=(1,1), REGION=0M, NOTIFY=&SYSUID, TIME=1440 (initiates build lifecycle compile job)",
      "called_by": [],
      "calls": [
        "BATCMP"
      ],
      "citation": [
        1,
        2
      ]
    },
    {
      "paragraph_name": "BATCMP",
      "purpose": "EXEC step invokes cataloged procedure BUILDBAT (PROC=BUILDBAT, PGM=IGYCRCTL for COBOL compile; parms MEM=&MEMNAME,HLQ=&HLQ; no inline DDs, delegated to PROC (addresses [CRITICAL] EXEC statements and DD statements via PROC delegation documentation)",
      "called_by": [
        "CNJBATMP"
      ],
      "calls": [
        "BUILDBAT"
      ],
      "citation": [
        42,
        42
      ]
    },
    {
      "paragraph_name": "CCLIBS",
      "purpose": "JCLLIB ORDER statement for procedure library resolution (DSN=&HLQ..CARDDEMO.PRC.UTIL, DISP=SHR prereq)",
      "called_by": [],
      "calls": [],
      "citation": [
        38,
        38
      ]
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What exact DD statements (DSN=, DISP=) are in BUILDBAT PROC?",
      "context": "No inline DDs in this JCL; details delegated to unanalyzed PROC",
      "suggestion": "Analyze BUILDBAT from AWS.M2.CARDDEMO.PRC.UTIL PDS"
    },
    {
      "question": "Is JCL complete?",
      "context": "Truncated at line 42 (empty line 43); possible additional content or steps",
      "suggestion": "Verify full file content"
    }
  ]
}