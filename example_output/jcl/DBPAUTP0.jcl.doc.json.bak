{
  "header": {
    "program_id": "DBPAUTP0",
    "file_name": "jcl/DBPAUTP0.jcl",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-25T15:30:04.280679",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL job first deletes any existing dataset AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0 using IEFBR14 and then executes the IMS unload utility DFSRRC00 to unload the entire IMS database DBPAUTP0 into a sequential VB dataset at the same DSN. The unload uses user exit DFSURGU0 and conditional activation via SBPARM ACTIV=COND. It serves as a data extraction step for the CardDemo application.",
    "business_context": "IMS database unload for CardDemo_v2.0 application, likely for backup, migration, or offline processing of DBPAUTP0 database.",
    "program_type": "BATCH",
    "citations": [
      1,
      7,
      15,
      25,
      46
    ]
  },
  "inputs": [
    {
      "name": "DBPAUTP0",
      "io_type": "IMS_SEGMENT",
      "description": "IMS database definition (DBD) for unloading all segments and data from DBPAUTP0",
      "copybook": null,
      "citation": [
        15,
        31,
        32
      ]
    },
    {
      "name": "DDPAUTP0",
      "io_type": "OTHER",
      "description": "IMS PSB/DBD library containing DBPAUTP0 definition",
      "copybook": null,
      "citation": [
        31
      ]
    },
    {
      "name": "DDPAUTX0",
      "io_type": "OTHER",
      "description": "IMS extended DBD library for DBPAUTP0",
      "copybook": null,
      "citation": [
        32
      ]
    },
    {
      "name": "DFSVSAMP",
      "io_type": "OTHER",
      "description": "IMS sample VSAM DBD module for DBPAUTP0",
      "copybook": null,
      "citation": [
        33
      ]
    }
  ],
  "outputs": [
    {
      "name": "AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Sequential VB dataset containing unloaded IMS database records from DBPAUTP0",
      "copybook": null,
      "citation": [
        9,
        25
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "IEFBR14",
      "call_type": "STATIC_CALL",
      "purpose": "Delete existing output dataset to ensure clean creation",
      "parameters": [],
      "citation": 7
    },
    {
      "program_name": "DFSRRC00",
      "call_type": "STATIC_CALL",
      "purpose": "Perform IMS database unload (ULU) of DBPAUTP0 using exit DFSURGU0",
      "parameters": [
        "ULU,DFSURGU0,DBPAUTP0"
      ],
      "citation": 15
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [
      {
        "source": "DBPAUTP0",
        "fields_used": [
          "ALL SEGMENTS AND FIELDS"
        ],
        "citation": [
          15,
          31
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0",
        "fields_written": [
          "UNLOADED IMS RECORDS"
        ],
        "citation": [
          25
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "STEPDEL",
      "summary": null,
      "purpose": "This step, named STEPDEL, serves as the primary purpose of conditionally deleting any pre-existing output dataset to prevent catalog conflicts or residual data in subsequent steps. It consumes the dataset name AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0 specified in the SYSUT1 DD statement with DISP=(MOD,DELETE), which modifies and deletes if present. It produces no data outputs but directs SYSPRINT messages to SYSOUT=* for any utility feedback. There are no business logic decisions, validations, or conditional processing; it is a unconditional deletion utility execution. No explicit error handling is implemented beyond standard JCL disposition failure which would cause step abend. It executes the IEFBR14 program, a z/OS dummy utility specifically for dataset disposition without data movement. This step does not call any other steps, programs, or paragraphs. Upon successful completion, control flows to the next step UNLOAD. The step ensures the output DSN is fresh for the unload operation. SYSPRINT provides logging of the deletion activity.",
      "called_by": [],
      "calls": [
        "IEFBR14"
      ],
      "citation": [
        7,
        10
      ],
      "outgoing_calls": [
        {
          "target": "IEFBR14",
          "call_type": "executes",
          "line": 7
        },
        {
          "target": "AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0",
          "call_type": "references",
          "line": 9
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "UNLOAD",
      "summary": null,
      "purpose": "This step, named UNLOAD, is the core processing step whose primary purpose is to unload the entire IMS database DBPAUTP0 into a sequential file using the IMSRRC utility. It consumes input from IMS database libraries via DDPAUTP0, DDPAUTX0, and DFSVSAMP DDs, along with control parameters in PARM=(ULU,DFSURGU0,DBPAUTP0) specifying unload mode, user exit, and DBD name; DFSCTL inline data sets SBPARM ACTIV=COND for conditional activation. It produces the output dataset AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0 defined in DFSURGU1 DD with VB format, large LRECL=27990, and catalog disposition. SYSPRINT logs utility messages, SYSUDUMP captures abends, and dummy DDs (DFSWRK01, DFSSRT01) indicate no secondary work/sort needed. Business logic is inherent to the IMS unload utility: it reads all root and dependent segments from DBPAUTP0 without filtering, applying the DFSURGU0 exit if needed. No explicit validations or decisions are coded in JCL; errors are handled by IMS utility abends dumped to SYSUDUMP. STEPLIB, DFSRESLB, and IMS DDs provide required IMS libraries (SDFSRESL, PSBLIB, DBDLIB) and RECON datasets for recovery context. This step does not call subordinate programs beyond the EXEC PGM=DFSRRC00. Upon EOF or completion, the step ends, cataloging the output. The version note indicates CardDemo_v2.0 context.",
      "called_by": [],
      "calls": [
        "DFSRRC00"
      ],
      "citation": [
        15,
        47
      ],
      "outgoing_calls": [
        {
          "target": "DFSRRC00",
          "call_type": "executes",
          "line": 15
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL",
          "call_type": "references",
          "line": 18
        },
        {
          "target": "AWS.M2.CARDDEMO.LOADLIB",
          "call_type": "references",
          "line": 19
        },
        {
          "target": "OEMA.IMS.IMSP.SDFSRESL",
          "call_type": "references",
          "line": 20
        },
        {
          "target": "OEM.IMS.IMSP.PSBLIB",
          "call_type": "references",
          "line": 21
        },
        {
          "target": "OEM.IMS.IMSP.DBDLIB",
          "call_type": "references",
          "line": 22
        },
        {
          "target": "AWS.M2.CARDDEMO.IMSDATA.DBPAUTP0",
          "call_type": "references",
          "line": 25
        },
        {
          "target": "OEM.IMS.IMSP.PAUTHDB",
          "call_type": "references",
          "line": 31
        },
        {
          "target": "OEM.IMS.IMSP.PAUTHDBX",
          "call_type": "references",
          "line": 32
        },
        {
          "target": "OEMPP.IMS.V15R01MB.PROCLIB",
          "call_type": "references",
          "line": 33
        },
        {
          "target": "OEM.IMS.IMSP.RECON1",
          "call_type": "references",
          "line": 40
        },
        {
          "target": "OEM.IMS.IMSP.RECON2",
          "call_type": "references",
          "line": 41
        },
        {
          "target": "OEM.IMS.IMSP.RECON3",
          "call_type": "references",
          "line": 42
        }
      ],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Paragraph 'UNLOAD' is never PERFORMed or referenced by any other paragraph or program",
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "Dataset deletion failure or IMS utility abend",
      "action": "Step abend with SYSUDUMP output for diagnostics",
      "citation": [
        8,
        36
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "UNLOAD",
      "artifact_type": "paragraph",
      "line": 15,
      "reason": "Paragraph 'UNLOAD' is never PERFORMed or referenced by any other paragraph or program"
    }
  ],
  "call_semantics": [],
  "flow_diagram": null
}