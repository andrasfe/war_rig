{
  "header": {
    "program_id": "LISTCAT",
    "file_name": "jcl/LISTCAT.jcl",
    "file_type": "JCL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-24T18:31:38.824437",
    "iteration_count": 5,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL job executes a dummy IEFBR14 step to delete or truncate any existing AWS.M2.CARDDEMO.LISTCAT dataset. It then conditionally runs IDCAMS to list all catalog entries under the AWS.M2.CARDDEMO high-level qualifier using LISTCAT LEVEL(AWS.M2.CARDDEMO) ALL. The output is directed to SYSPRINT, creating a new cataloged dataset with the inventory listing.",
    "business_context": "Generates a comprehensive ICF catalog inventory listing for all datasets under AWS.M2.CARDDEMO high-level qualifier as part of the CARDDEMO application build and documentation lifecycle; provides a static snapshot of dataset metadata, volumes, attributes for auditing, verification, and reference during development, testing, and deployment phases. Specifically supports CARDDEMO demo environment setup by cataloging all application datasets (e.g., source, load libraries, VSAM files) for quick reference and validation post-build.",
    "program_type": "BATCH",
    "citations": [
      19,
      21,
      22,
      26,
      27,
      28,
      32,
      34
    ]
  },
  "inputs": [
    {
      "name": "SYSIN",
      "io_type": "PARAMETER",
      "description": "Inline IDCAMS control statements specifying LISTCAT LEVEL(AWS.M2.CARDDEMO) ALL to query catalog for all datasets under the high-level qualifier",
      "copybook": null,
      "citation": [
        33,
        34,
        35
      ]
    },
    {
      "name": "ICF Catalog",
      "io_type": "FILE_VSAM",
      "description": "System integrated catalog facility (ICF) catalog accessed implicitly by IDCAMS LISTCAT to retrieve all entries matching LEVEL(AWS.M2.CARDDEMO) ALL; contains dataset metadata, attributes, and volume information for CARDDEMO datasets. No explicit input datasets with DISP=SHR or DISP=OLD required prior to job execution (dependencies.input_datasets effectively empty as job does not read/modify any user datasets before execution).",
      "copybook": null,
      "citation": [
        34
      ]
    }
  ],
  "outputs": [
    {
      "name": "SYSPRINT (STEP05)",
      "io_type": "FILE_SEQUENTIAL",
      "description": "IDCAMS LISTCAT output report containing catalog entries for all datasets under AWS.M2.CARDDEMO high-level qualifier; DD statement allocates DSN=AWS.M2.CARDDEMO.LISTCAT with DISP=(NEW,CATLG,DELETE) to create and catalog a new sequential dataset (fails if exists, but preceded by STEP01 cleanup to truncate/delete), UNIT=SYSDA, DCB=(RECFM=FBA,LRECL=133,BLKSIZE=0), SPACE=(TRK,(1,1)); used by IDCAMS to write formatted inventory listing of dataset metadata including names, volumes, RECFM, LRECL, creation dates. Primary output dataset for CARDDEMO catalog inventory (dependencies.output_datasets: AWS.M2.CARDDEMO.LISTCAT created).",
      "copybook": null,
      "citation": [
        28,
        29,
        30,
        31,
        32
      ]
    },
    {
      "name": "DD1 (STEP01)",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Dummy sequential dataset allocation targeting DSN=AWS.M2.CARDDEMO.LISTCAT with DISP=(MOD,DELETE,DELETE): MOD opens and truncates to zero length if exists, DELETE on normal/abnormal close if allocation issues; UNIT=SYSDA, DCB=(RECFM=FBA,LRECL=133,BLKSIZE=0), SPACE=(TRK,(1,1)); used by IEFBR14 dummy step solely for disposition effects to ensure clean slate (delete or truncate) for STEP05 SYSPRINT output without actual data read/write (dependencies.output_datasets: AWS.M2.CARDDEMO.LISTCAT modified).",
      "copybook": null,
      "citation": [
        22,
        23,
        24,
        25,
        26
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "IEFBR14",
      "call_type": "STATIC_CALL",
      "purpose": "Dummy step to handle dataset disposition (delete/truncate AWS.M2.CARDDEMO.LISTCAT) without performing any processing; achieves cleanup via DD1 allocation only",
      "parameters": [],
      "citation": 21
    },
    {
      "program_name": "IDCAMS",
      "call_type": "STATIC_CALL",
      "purpose": "Utility to list all catalog entries under AWS.M2.CARDDEMO level using LISTCAT command; processes SYSIN control statements and writes to SYSPRINT",
      "parameters": [],
      "citation": 27
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Delete or truncate existing output dataset before generating new catalog listing",
      "logic_summary": "IEFBR14 dummy step with DISP=(MOD,DELETE,DELETE) on DD1 targeting AWS.M2.CARDDEMO.LISTCAT DSN",
      "conditions": [
        "Dataset exists"
      ],
      "citation": [
        22,
        26
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Bypass IDCAMS execution if STEP01 completion code not equal to 0",
      "logic_summary": "COND=(0,NE) on STEP05 EXEC bypasses the step if previous step CC != 0 (i.e., executes only on successful STEP01)",
      "conditions": [
        "STEP01 CC != 0"
      ],
      "citation": [
        27
      ]
    },
    {
      "rule_id": "BR003",
      "description": "Job flow: Sequential execution of cleanup followed by conditional catalog listing generation",
      "logic_summary": "STEP01 (IEFBR14) always executes first for output DS preparation; STEP05 (IDCAMS) executes only if STEP01 CC=0 via COND=(0,NE), ensuring catalog listing generated only after successful cleanup",
      "conditions": [
        "STEP01 succeeds (CC=0)"
      ],
      "citation": [
        21,
        27
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "ICF Catalog",
        "fields_used": [
          "Dataset attributes under AWS.M2.CARDDEMO"
        ],
        "citation": [
          34
        ]
      },
      {
        "source": "SYSIN",
        "fields_used": [
          "LISTCAT LEVEL(AWS.M2.CARDDEMO) ALL"
        ],
        "citation": [
          34
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "AWS.M2.CARDDEMO.LISTCAT",
        "fields_written": [
          "LISTCAT output"
        ],
        "citation": [
          32
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "STEP01",
      "purpose": "EXEC PGM=IEFBR14: Dummy utility step accomplishes dataset cleanup by allocating AWS.M2.CARDDEMO.LISTCAT via DD1 DD statement with DISP=(MOD,DELETE,DELETE), UNIT=SYSDA, DCB=(RECFM=FBA,LRECL=133,BLKSIZE=0), SPACE=(TRK,(1,1)) to delete existing or truncate to zero length; prepares clean output for subsequent STEP05; no input DDs or processing performed",
      "called_by": [],
      "calls": [
        "IEFBR14"
      ],
      "citation": [
        21,
        26
      ]
    },
    {
      "paragraph_name": "STEP05",
      "purpose": "EXEC PGM=IDCAMS,COND=(0,NE): Executes IDCAMS utility with inline SYSIN (LISTCAT LEVEL(AWS.M2.CARDDEMO) ALL) to generate catalog inventory; output via SYSPRINT DD to DSN=AWS.M2.CARDDEMO.LISTCAT with DISP=(NEW,CATLG,DELETE), UNIT=SYSDA, DCB=(RECFM=FBA,LRECL=133,BLKSIZE=0), SPACE=(TRK,(1,1)); skips if STEP01 fails",
      "called_by": [],
      "calls": [
        "IDCAMS"
      ],
      "citation": [
        27,
        36
      ]
    }
  ],
  "error_handling": [
    {
      "condition": "STEP01 completion code != 0",
      "action": "Bypass (skip) STEP05 execution due to COND=(0,NE)",
      "citation": [
        27
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": []
}