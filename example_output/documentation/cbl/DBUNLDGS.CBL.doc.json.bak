{
  "header": {
    "program_id": "DBUNLDGS",
    "file_name": "DBUNLDGS.CBL",
    "file_type": "COBOL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-03T21:06:22.841712",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "The COBOL program DBUNLDGS unloads pending authorization summary and detail segments from an IMS database and writes them to output files. It retrieves pending authorization summary records and their associated detail records, then inserts them into GSAM files.",
    "business_context": "UNKNOWN",
    "program_type": "BATCH",
    "citations": [
      18,
      147,
      211,
      255
    ]
  },
  "inputs": [
    {
      "name": "IMS Database (PAUTBPCB)",
      "io_type": "IMS_SEGMENT",
      "description": "Pending authorization summary and detail segments are read from the IMS database.",
      "copybook": "PAUTBPCB",
      "citation": [
        134,
        165
      ]
    },
    {
      "name": "SYSIN",
      "io_type": "PARAMETER",
      "description": "Input parameters, specifically P-EXPIRY-DAYS, P-CHKP-FREQ, P-CHKP-DIS-FREQ, and P-DEBUG-FLAG, are expected from SYSIN (commented out).",
      "copybook": null,
      "citation": [
        163
      ]
    }
  ],
  "outputs": [
    {
      "name": "OPFILE1",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Pending Authorization Summary records are written to this file.",
      "copybook": null,
      "citation": [
        211,
        2171000
      ]
    },
    {
      "name": "OPFILE2",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Pending Authorization Detail records are written to this file.",
      "copybook": null,
      "citation": [
        255,
        2551000
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to retrieve and insert database segments.",
      "parameters": [
        "FUNC-GN",
        "PAUTBPCB",
        "PENDING-AUTH-SUMMARY",
        "ROOT-UNQUAL-SSA"
      ],
      "citation": 197
    },
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to retrieve the next child segment.",
      "parameters": [
        "FUNC-GNP",
        "PAUTBPCB",
        "PENDING-AUTH-DETAILS",
        "CHILD-UNQUAL-SSA"
      ],
      "citation": 241
    },
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to insert the parent segment into the GSAM file.",
      "parameters": [
        "FUNC-ISRT",
        "PASFLPCB",
        "PENDING-AUTH-SUMMARY"
      ],
      "citation": 2710400
    },
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to insert the child segment into the GSAM file.",
      "parameters": [
        "FUNC-ISRT",
        "PADFLPCB",
        "PENDING-AUTH-DETAILS"
      ],
      "citation": 2721200
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [
      "DLITCBL"
    ],
    "linkage_section": [
      "PAUTBPCB",
      "PASFLPCB",
      "PADFLPCB"
    ]
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "If the account ID (PA-ACCT-ID) is numeric, the program proceeds to write the summary and detail records to the output files.",
      "logic_summary": "The program checks if PA-ACCT-ID is numeric before writing the records.",
      "conditions": [
        "IF PA-ACCT-ID IS NUMERIC"
      ],
      "citation": [
        216
      ]
    },
    {
      "rule_id": "BR002",
      "description": "The program reads the next pending authorization summary segment until the end of the database is reached.",
      "logic_summary": "The program uses a PERFORM UNTIL loop to read summary segments until WS-END-OF-ROOT-SEG is set to 'Y'.",
      "conditions": [
        "UNTIL WS-END-OF-ROOT-SEG = 'Y'"
      ],
      "citation": [
        173,
        225
      ]
    },
    {
      "rule_id": "BR003",
      "description": "The program reads the next pending authorization detail segment until no more detail segments are found for the current summary segment.",
      "logic_summary": "The program uses a PERFORM UNTIL loop to read detail segments until WS-END-OF-CHILD-SEG is set to 'Y'.",
      "conditions": [
        "UNTIL WS-END-OF-CHILD-SEG='Y'"
      ],
      "citation": [
        219,
        246
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "IMS Database (PAUTBPCB)",
        "fields_used": [
          "PAUT-PCB-STATUS",
          "PAUT-KEYFB",
          "PA-ACCT-ID"
        ],
        "citation": [
          204,
          228,
          239
        ]
      },
      {
        "source": "PENDING-AUTH-SUMMARY",
        "fields_used": [
          "All fields"
        ],
        "citation": [
          211,
          236
        ]
      },
      {
        "source": "PENDING-AUTH-DETAILS",
        "fields_used": [
          "All fields"
        ],
        "citation": [
          254,
          280
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "OPFIL1-REC",
        "fields_written": [
          "PENDING-AUTH-SUMMARY"
        ],
        "citation": [
          211,
          236
        ]
      },
      {
        "destination": "OPFIL2-REC",
        "fields_written": [
          "CHILD-SEG-REC"
        ],
        "citation": [
          254,
          280
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [
    {
      "copybook_name": "IMSFUNCS",
      "purpose": "Contains definitions for IMS function codes used in DL/I calls.",
      "location": "WORKING_STORAGE",
      "citation": 116
    },
    {
      "copybook_name": "CIPAUSMY",
      "purpose": "Defines the layout of the PENDING-AUTH-SUMMARY segment.",
      "location": "WORKING_STORAGE",
      "citation": 123
    },
    {
      "copybook_name": "CIPAUDTY",
      "purpose": "Defines the layout of the PENDING-AUTH-DETAILS segment.",
      "location": "WORKING_STORAGE",
      "citation": 127
    },
    {
      "copybook_name": "PAUTBPCB",
      "purpose": "Defines the PCB mask for the PAUT database.",
      "location": "LINKAGE",
      "citation": 134
    },
    {
      "copybook_name": "PASFLPCB",
      "purpose": "Defines the PCB mask for the GSAM output file for the parent segment.",
      "location": "LINKAGE",
      "citation": 1341000
    },
    {
      "copybook_name": "PADFLPCB",
      "purpose": "Defines the PCB mask for the GSAM output file for the child segment.",
      "location": "LINKAGE",
      "citation": 1342000
    }
  ],
  "paragraphs": [
    {
      "paragraph_name": "MAIN-PARA",
      "summary": null,
      "purpose": "The MAIN-PARA is the entry point of the program. It orchestrates the overall process of unloading data from the IMS database and writing it to output files. First, it calls 1000-INITIALIZE to perform initialization tasks such as accepting the current date. Then, it enters a loop, controlled by the WS-END-OF-ROOT-SEG flag, that repeatedly calls 2000-FIND-NEXT-AUTH-SUMMARY to retrieve pending authorization summary records.  The 2000-FIND-NEXT-AUTH-SUMMARY paragraph retrieves the summary record and then calls 3000-FIND-NEXT-AUTH-DTL to retrieve the associated detail records. After processing all summary and detail records, the MAIN-PARA calls 4000-FILE-CLOSE to close the output files. Finally, the program terminates using the GOBACK statement. The linkage section defines the PCBs used to interface with IMS.",
      "called_by": [],
      "calls": [
        "1000-INITIALIZE",
        "2000-FIND-NEXT-AUTH-SUMMARY",
        "4000-FILE-CLOSE"
      ],
      "citation": [
        141,
        179
      ],
      "outgoing_calls": [
        {
          "target": "1000-INITIALIZE",
          "call_type": "performs",
          "line": 170
        },
        {
          "target": "2000-FIND-NEXT-AUTH-SUMMARY",
          "call_type": "performs",
          "line": 172
        },
        {
          "target": "4000-FILE-CLOSE",
          "call_type": "performs",
          "line": 175
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-INITIALIZE",
      "summary": null,
      "purpose": "The 1000-INITIALIZE paragraph performs initialization tasks required before the main processing loop. It accepts the current date and day from the system. It also displays messages to the console indicating the start of the program and the current date. The paragraph includes commented-out code to accept parameters from SYSIN, which would include the expiry days, checkpoint frequency, checkpoint display frequency, and debug flag. The paragraph also contains commented-out code to open the output files OPFILE1 and OPFILE2, checking the file status after each open. If the file status is not spaces or '00', an error message is displayed, and the program abends via 9999-ABEND. This paragraph does not consume any input files, but it initializes working storage variables. It displays output to the console and potentially sets up the output files for writing (currently commented out).",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [],
      "citation": [
        157,
        213
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-FIND-NEXT-AUTH-SUMMARY",
      "summary": null,
      "purpose": "The 2000-FIND-NEXT-AUTH-SUMMARY paragraph retrieves the next pending authorization summary record from the IMS database. It initializes the PAUT-PCB-STATUS and then calls the CBLTDLI routine with the FUNC-GN (Get Next) function code to retrieve the next summary segment. The program uses the PAUTBPCB PCB, the PENDING-AUTH-SUMMARY segment layout, and the ROOT-UNQUAL-SSA. If the PAUT-PCB-STATUS is spaces, indicating a successful read, the program increments counters WS-NO-SUMRY-READ and WS-AUTH-SMRY-PROC-CNT. It then moves the PENDING-AUTH-SUMMARY data to the OPFIL1-REC and initializes ROOT-SEG-KEY and CHILD-SEG-REC. The PA-ACCT-ID is moved to ROOT-SEG-KEY. If the PA-ACCT-ID is numeric, the program calls 3100-INSERT-PARENT-SEG-GSAM to write the parent segment to the GSAM file and then calls 3000-FIND-NEXT-AUTH-DTL to retrieve the associated detail records. If the PAUT-PCB-STATUS is 'GB' (end of database), the WS-END-OF-ROOT-SEG flag is set to 'Y'. If the PAUT-PCB-STATUS is not spaces or 'GB', an error message is displayed, and the program abends. The paragraph consumes data from the IMS database and writes to OPFIL1-REC and potentially OPFILE1. It calls CBLTDLI to read the database and 3000-FIND-NEXT-AUTH-DTL to process detail records.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "3100-INSERT-PARENT-SEG-GSAM",
        "3000-FIND-NEXT-AUTH-DTL"
      ],
      "citation": [
        191,
        259
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 222
        },
        {
          "target": "3100-INSERT-PARENT-SEG-GSAM",
          "call_type": "performs",
          "line": 243
        },
        {
          "target": "3000-FIND-NEXT-AUTH-DTL",
          "call_type": "performs",
          "line": 245
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 256
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3000-FIND-NEXT-AUTH-DTL",
      "summary": null,
      "purpose": "The 3000-FIND-NEXT-AUTH-DTL paragraph retrieves the next pending authorization detail record associated with the current summary record. It calls the CBLTDLI routine with the FUNC-GNP (Get Next within Parent) function code to retrieve the next detail segment. The program uses the PAUTBPCB PCB, the PENDING-AUTH-DETAILS segment layout, and the CHILD-UNQUAL-SSA. If the PAUT-PCB-STATUS is spaces, indicating a successful read, the MORE-AUTHS flag is set to TRUE, and counters WS-NO-SUMRY-READ and WS-AUTH-SMRY-PROC-CNT are incremented. The PENDING-AUTH-DETAILS data is moved to CHILD-SEG-REC, and 3200-INSERT-CHILD-SEG-GSAM is called to write the child segment to the GSAM file. If the PAUT-PCB-STATUS is 'GE' (end of segment), the WS-END-OF-CHILD-SEG flag is set to 'Y'. If the PAUT-PCB-STATUS is not spaces or 'GE', an error message is displayed, and the program abends. The paragraph consumes data from the IMS database and writes to CHILD-SEG-REC and potentially OPFILE2. It calls CBLTDLI to read the database and 3200-INSERT-CHILD-SEG-GSAM to write to the GSAM file.",
      "called_by": [
        "2000-FIND-NEXT-AUTH-SUMMARY"
      ],
      "calls": [
        "3200-INSERT-CHILD-SEG-GSAM"
      ],
      "citation": [
        237,
        297
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 267
        },
        {
          "target": "3200-INSERT-CHILD-SEG-GSAM",
          "call_type": "performs",
          "line": 282
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 293
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-INSERT-PARENT-SEG-GSAM",
      "summary": null,
      "purpose": "The 3100-INSERT-PARENT-SEG-GSAM paragraph inserts the parent segment (PENDING-AUTH-SUMMARY) into the GSAM file. It calls CBLTDLI with FUNC-ISRT to perform the insert operation, using PASFLPCB as the PCB. If the PASFL-PCB-STATUS is not equal to spaces, indicating an error, an error message is displayed, and the program abends. This paragraph receives data from PENDING-AUTH-SUMMARY and writes to the GSAM file defined by PASFLPCB. It calls CBLTDLI to perform the insert operation and checks the PCB status for errors.",
      "called_by": [
        "2000-FIND-NEXT-AUTH-SUMMARY"
      ],
      "calls": [],
      "citation": [
        2710200,
        2711701
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 302
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 314
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "2000-FIND-NEXT-AUTH-SUMMARY",
          "line": 243,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3200-INSERT-CHILD-SEG-GSAM",
      "summary": null,
      "purpose": "The 3200-INSERT-CHILD-SEG-GSAM paragraph inserts the child segment (PENDING-AUTH-DETAILS) into the GSAM file. It calls CBLTDLI with FUNC-ISRT to perform the insert operation, using PADFLPCB as the PCB. If the PADFL-PCB-STATUS is not equal to spaces, indicating an error, an error message is displayed, and the program abends. This paragraph receives data from PENDING-AUTH-DETAILS and writes to the GSAM file defined by PADFLPCB. It calls CBLTDLI to perform the insert operation and checks the PCB status for errors.",
      "called_by": [
        "3000-FIND-NEXT-AUTH-DTL"
      ],
      "calls": [],
      "citation": [
        2721000,
        2722401
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 321
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 333
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "3000-FIND-NEXT-AUTH-DTL",
          "line": 282,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "4000-FILE-CLOSE",
      "summary": null,
      "purpose": "The 4000-FILE-CLOSE paragraph closes the output files. It displays a message to the console indicating that the files are being closed. The code to actually close the files (OPFILE1 and OPFILE2) is commented out. The commented-out code also includes checks for the file status after closing each file, displaying an error message if the close operation fails. This paragraph does not consume any input files, but it displays output to the console. It would normally close the output files and check their status, but this functionality is currently commented out.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [],
      "citation": [
        2730000,
        2900000
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "MAIN-PARA",
          "line": 166,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9999-ABEND",
      "summary": null,
      "purpose": "The 9999-ABEND paragraph handles program termination due to an error condition. It displays a message to the console indicating that the program is abending. It then sets the RETURN-CODE to 16 and terminates the program using the GOBACK statement. This paragraph does not consume any input files, but it sets the return code. It displays output to the console and terminates the program.",
      "called_by": [],
      "calls": [],
      "citation": [
        2920000,
        2980000
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "WS-OUTFL1-STATUS not equal to spaces or '00' (commented out)",
      "action": "DISPLAY 'ERROR IN OPENING OPFILE1:' WS-OUTFL1-STATUS and PERFORM 9999-ABEND",
      "citation": [
        171,
        174
      ]
    },
    {
      "condition": "WS-OUTFL2-STATUS not equal to spaces or '00' (commented out)",
      "action": "DISPLAY 'ERROR IN OPENING OPFILE2:' WS-OUTFL2-STATUS and PERFORM 9999-ABEND",
      "citation": [
        179,
        182
      ]
    },
    {
      "condition": "PAUT-PCB-STATUS not equal to spaces or 'GB'",
      "action": "DISPLAY 'AUTH SUM  GN FAILED  :' PAUT-PCB-STATUS, DISPLAY 'KEY FEEDBACK AREA    :' PAUT-KEYFB, and PERFORM 9999-ABEND",
      "citation": [
        227,
        230
      ]
    },
    {
      "condition": "PAUT-PCB-STATUS not equal to spaces or 'GE'",
      "action": "DISPLAY 'GNP CALL FAILED  :' PAUT-PCB-STATUS, DISPLAY 'KFB AREA IN CHILD:' PAUT-KEYFB, and PERFORM 9999-ABEND",
      "citation": [
        263,
        266
      ]
    },
    {
      "condition": "PASFL-PCB-STATUS NOT EQUAL TO SPACES",
      "action": "DISPLAY 'GSAM PARENT FAIL :' PASFL-PCB-STATUS, DISPLAY 'KFB AREA IN GSAM:' PASFL-KEYFB, PERFORM 9999-ABEND",
      "citation": [
        2711401,
        2711701
      ]
    },
    {
      "condition": "PADFL-PCB-STATUS NOT EQUAL TO SPACES",
      "action": "DISPLAY 'GSAM PARENT FAIL :' PADFL-PCB-STATUS, DISPLAY 'KFB AREA IN GSAM:' PADFL-KEYFB, PERFORM 9999-ABEND",
      "citation": [
        2722101,
        2722401
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What is the purpose of the commented-out ACCEPT PRM-INFO FROM SYSIN statement?",
      "context": "The program attempts to accept parameters from SYSIN, but the code is commented out. It's unclear what these parameters are used for and how they would affect the program's execution.",
      "suggestion": "Uncomment the code and provide input via SYSIN to observe the program's behavior. Alternatively, review related documentation or code to understand the intended use of these parameters."
    },
    {
      "question": "What is the exact structure and purpose of the GSAM files that the program writes to?",
      "context": "The program inserts parent and child segments into GSAM files, but the file definitions (FD entries) are commented out. Without knowing the file structure, it's difficult to fully understand the program's output.",
      "suggestion": "Locate the file definitions (FD entries) for the GSAM files and analyze their structure. Review related documentation or code to understand the intended use of these files."
    }
  ],
  "dead_code": [],
  "call_semantics": [
    {
      "caller": "MAIN-PARA",
      "callee": "1000-INITIALIZE",
      "inputs": [],
      "outputs": [
        "CURRENT-DATE",
        "CURRENT-YYDDD"
      ],
      "purpose": "Initializes the program by accepting current date and day from system and displaying startup messages."
    },
    {
      "caller": "MAIN-PARA",
      "callee": "2000-FIND-NEXT-AUTH-SUMMARY",
      "inputs": [],
      "outputs": [
        "WS-END-OF-ROOT-SEG",
        "WS-NO-SUMRY-READ",
        "WS-AUTH-SMRY-PROC-CNT",
        "OPFIL1-REC",
        "ROOT-SEG-KEY",
        "CHILD-SEG-REC"
      ],
      "purpose": "Reads the next root segment (authorization summary) from IMS database and processes it if found, setting end-of-segment flag when done."
    },
    {
      "caller": "MAIN-PARA",
      "callee": "4000-FILE-CLOSE",
      "inputs": [],
      "outputs": [],
      "purpose": "Displays a message indicating the file closing process is starting."
    },
    {
      "caller": "2000-FIND-NEXT-AUTH-SUMMARY",
      "callee": "3100-INSERT-PARENT-SEG-GSAM",
      "inputs": [
        "PENDING-AUTH-SUMMARY"
      ],
      "outputs": [],
      "purpose": "Inserts the parent (summary) record into the GSAM output file using IMS call, and abends if the insertion fails."
    },
    {
      "caller": "2000-FIND-NEXT-AUTH-SUMMARY",
      "callee": "3000-FIND-NEXT-AUTH-DTL",
      "inputs": [],
      "outputs": [
        "WS-END-OF-CHILD-SEG",
        "WS-NO-SUMRY-READ",
        "WS-AUTH-SMRY-PROC-CNT",
        "CHILD-SEG-REC"
      ],
      "purpose": "Retrieves the next child segment (authorization detail) from IMS database and updates processing counters, marking end of child segments when 'GE' status is received."
    },
    {
      "caller": "2000-FIND-NEXT-AUTH-SUMMARY",
      "callee": "9999-ABEND",
      "inputs": [],
      "outputs": [],
      "purpose": "Abends the program with return code 16 when an unexpected IMS status code is encountered during root segment retrieval."
    },
    {
      "caller": "3000-FIND-NEXT-AUTH-DTL",
      "callee": "3200-INSERT-CHILD-SEG-GSAM",
      "inputs": [
        "PENDING-AUTH-DETAILS"
      ],
      "outputs": [],
      "purpose": "Inserts the retrieved child segment (PENDING-AUTH-DETAILS) into the GSAM output file using IMS DL/I call."
    },
    {
      "caller": "3000-FIND-NEXT-AUTH-DTL",
      "callee": "9999-ABEND",
      "inputs": [],
      "outputs": [],
      "purpose": "Abends the program with return code 16 when the GNP call for child segment fails with an unexpected IMS status code."
    },
    {
      "caller": "3100-INSERT-PARENT-SEG-GSAM",
      "callee": "9999-ABEND",
      "inputs": [],
      "outputs": [],
      "purpose": "Abends the program with return code 16 if the GSAM insert operation for the parent segment fails due to a non-blank PCB status."
    },
    {
      "caller": "3200-INSERT-CHILD-SEG-GSAM",
      "callee": "9999-ABEND",
      "inputs": [],
      "outputs": [],
      "purpose": "Abends the program with return code 16 if the GSAM insert operation for the child segment fails due to a non-blank PCB status."
    }
  ],
  "flow_diagram": "flowchart TD\n    %% Title: DBUNLDGS.CBL\n    1000_EXIT[\"1000-EXIT\"]\n    1000_INITIALIZE[\"1000-INITIALIZE\"]\n    2000_EXIT[\"2000-EXIT\"]\n    2000_FIND_NEXT_AUTH_SUMMARY[\"2000-FIND-NEXT-AUTH-SUMMARY\"]\n    3000_FIND_NEXT_AUTH_DTL[\"3000-FIND-NEXT-AUTH-DTL\"]\n    3100_INSERT_PARENT_SEG_GSAM[\"3100-INSERT-PARENT-SEG-GSAM\"]\n    9999_ABEND[\"9999-ABEND\"]\n    CBLTDLI__ext([\"CBLTDLI\"])\n    3000_EXIT[\"3000-EXIT\"]\n    3200_INSERT_CHILD_SEG_GSAM[\"3200-INSERT-CHILD-SEG-GSAM\"]\n    3100_EXIT[\"3100-EXIT\"]\n    3200_EXIT[\"3200-EXIT\"]\n    4000_EXIT[\"4000-EXIT\"]\n    4000_FILE_CLOSE[\"4000-FILE-CLOSE\"]\n    9999_EXIT[\"9999-EXIT\"]\n    MAIN_PARA[\"MAIN-PARA\"]\n    2000_FIND_NEXT_AUTH_SUMMARY --> 3000_FIND_NEXT_AUTH_DTL\n    2000_FIND_NEXT_AUTH_SUMMARY --> 3100_INSERT_PARENT_SEG_GSAM\n    2000_FIND_NEXT_AUTH_SUMMARY --> 9999_ABEND\n    2000_FIND_NEXT_AUTH_SUMMARY -.->|calls| CBLTDLI__ext\n    3000_FIND_NEXT_AUTH_DTL --> 3200_INSERT_CHILD_SEG_GSAM\n    3000_FIND_NEXT_AUTH_DTL --> 9999_ABEND\n    3000_FIND_NEXT_AUTH_DTL -.->|calls| CBLTDLI__ext\n    3100_INSERT_PARENT_SEG_GSAM --> 9999_ABEND\n    3100_INSERT_PARENT_SEG_GSAM -.->|calls| CBLTDLI__ext\n    3200_INSERT_CHILD_SEG_GSAM --> 9999_ABEND\n    3200_INSERT_CHILD_SEG_GSAM -.->|calls| CBLTDLI__ext\n    MAIN_PARA --> 1000_INITIALIZE\n    MAIN_PARA --> 2000_FIND_NEXT_AUTH_SUMMARY\n    MAIN_PARA --> 4000_FILE_CLOSE"
}