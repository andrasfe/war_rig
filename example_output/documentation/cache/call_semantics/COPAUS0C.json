[
  {
    "caller": "MAIN-PARA",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends the COPAU0A map to the screen, optionally erasing it first, after populating header information and moving the current message."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "GATHER-DETAILS",
    "inputs": [
      "WS-ACCT-ID"
    ],
    "outputs": [],
    "purpose": "Gathers account details and initializes authorization data if an account ID is provided, then processes the first page of authorization records."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends the COPAU0A map to the screen, optionally erasing it first, after populating header information and moving the current message."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "RECEIVE-PAULST-SCREEN",
    "inputs": [],
    "outputs": [
      "WS-RESP-CD",
      "WS-REAS-CD"
    ],
    "purpose": "Receives input from the COPAU0A screen map into the input structure and captures CICS response codes."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "PROCESS-ENTER-KEY",
    "inputs": [
      "ACCTIDI OF COPAU0AI",
      "SEL0001I OF COPAU0AI",
      "SEL0002I OF COPAU0AI",
      "SEL0003I OF COPAU0AI",
      "SEL0004I OF COPAU0AI",
      "SEL0005I OF COPAU0AI",
      "CDEMO-CPVS-AUTH-KEYS"
    ],
    "outputs": [
      "WS-ACCT-ID",
      "WS-ERR-FLG",
      "WS-MESSAGE",
      "ACCTIDL OF COPAU0AI",
      "CDEMO-ACCT-ID",
      "CDEMO-CPVS-PAU-SEL-FLG",
      "CDEMO-CPVS-PAU-SELECTED",
      "CDEMO-TO-PROGRAM",
      "CDEMO-FROM-TRANID",
      "CDEMO-FROM-PROGRAM",
      "CDEMO-PGM-CONTEXT",
      "CDEMO-PGM-ENTER"
    ],
    "purpose": "Processes the ENTER key press by validating the account ID, handling row selection, and either navigating to the detail screen or displaying an error message."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends the COPAU0A screen map to the terminal, optionally erasing the screen first based on SEND-ERASE-YES, after populating header information and moving the current message to the screen output."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "RETURN-TO-PREV-SCREEN",
    "inputs": [
      "WS-CICS-TRANID",
      "WS-PGM-AUTH-SMRY",
      "CDEMO-TO-PROGRAM"
    ],
    "outputs": [
      "CDEMO-FROM-TRANID",
      "CDEMO-FROM-PROGRAM",
      "CDEMO-PGM-CONTEXT"
    ],
    "purpose": "Sets up and transfers control to the program specified in CDEMO-TO-PROGRAM using XCTL, initializing return context in the COMMAREA."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends the COPAU0A screen map to the terminal, optionally erasing the screen first based on SEND-ERASE-YES, after populating header information and moving the current message to the screen output."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "PROCESS-PF7-KEY",
    "inputs": [
      "CDEMO-CPVS-PAGE-NUM",
      "CDEMO-CPVS-PAUKEY-PREV-PG"
    ],
    "outputs": [
      "WS-AUTH-KEY-SAVE",
      "SEND-ERASE-NO",
      "NEXT-PAGE-YES",
      "ACCTIDL",
      "WS-MESSAGE"
    ],
    "purpose": "Processes the PF7 (page up) key by decrementing the page number, retrieving the previous page's authorization key, and refreshing the screen data, or displays a message if already on the first page."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends the COPAU0A screen map to the terminal, optionally erasing the screen first based on SEND-ERASE-YES, after populating header information and moving the current message to the screen output."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "PROCESS-PF8-KEY",
    "inputs": [
      "CDEMO-CPVS-PAUKEY-LAST",
      "WS-ACCT-ID",
      "NEXT-PAGE-YES"
    ],
    "outputs": [
      "WS-AUTH-KEY-SAVE",
      "SEND-ERASE-NO"
    ],
    "purpose": "Processes PF8 key press to reposition authorizations and navigate to the next page if available."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "IMS-PSB-SCHD",
      "WS-MESSAGE",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends the COPAU0A screen map to the terminal, optionally erasing the screen based on SEND-ERASE-YES."
  },
  {
    "caller": "MAIN-PARA",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "IMS-PSB-SCHD",
      "WS-MESSAGE",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends the COPAU0A screen map to the terminal, optionally erasing the screen based on SEND-ERASE-YES."
  },
  {
    "caller": "PROCESS-ENTER-KEY",
    "callee": "GATHER-DETAILS",
    "inputs": [
      "WS-ACCT-ID"
    ],
    "outputs": [
      "ACCTIDL",
      "CDEMO-CPVS-PAGE-NUM"
    ],
    "purpose": "Gathers account, customer, and authorization details for the entered account ID if valid."
  },
  {
    "caller": "GATHER-DETAILS",
    "callee": "GATHER-ACCOUNT-DETAILS",
    "inputs": [
      "WS-ACCT-ID"
    ],
    "outputs": [
      "CUSTIDO",
      "CNAMEO",
      "ADDR001O",
      "ADDR002O",
      "PHONE1O",
      "CREDLIMO",
      "CASHLIMO",
      "APPRCNTO",
      "DECLCNTO",
      "CREDBALO",
      "CASHBALO",
      "APPRAMTO",
      "DECLAMTO"
    ],
    "purpose": "Retrieves and populates account, customer, and card cross-reference data for the current account ID."
  },
  {
    "caller": "GATHER-DETAILS",
    "callee": "INITIALIZE-AUTH-DATA",
    "inputs": [],
    "outputs": [
      "SEL0001A OF COPAU0AI",
      "TRNID01I OF COPAU0AI",
      "PDATE01I OF COPAU0AI",
      "PTIME01I OF COPAU0AI",
      "PTYPE01I OF COPAU0AI",
      "PAPRV01I OF COPAU0AI",
      "PSTAT01I OF COPAU0AI",
      "PAMT001I OF COPAU0AI",
      "SEL0002A OF COPAU0AI",
      "TRNID02I OF COPAU0AI",
      "PDATE02I OF COPAU0AI",
      "PTIME02I OF COPAU0AI",
      "PTYPE02I OF COPAU0AI",
      "PAPRV02I OF COPAU0AI",
      "PSTAT02I OF COPAU0AI",
      "PAMT002I OF COPAU0AI",
      "SEL0003A OF COPAU0AI",
      "TRNID03I OF COPAU0AI",
      "PDATE03I OF COPAU0AI",
      "PTIME03I OF COPAU0AI",
      "PTYPE03I OF COPAU0AI",
      "PAPRV03I OF COPAU0AI",
      "PSTAT03I OF COPAU0AI",
      "PAMT003I OF COPAU0AI",
      "SEL0004A OF COPAU0AI",
      "TRNID04I OF COPAU0AI",
      "PDATE04I OF COPAU0AI",
      "PTIME04I OF COPAU0AI",
      "PTYPE04I OF COPAU0AI",
      "PAPRV04I OF COPAU0AI",
      "PSTAT04I OF COPAU0AI",
      "PAMT004I OF COPAU0AI",
      "SEL0005A OF COPAU0AI",
      "TRNID05I OF COPAU0AI",
      "PDATE05I OF COPAU0AI",
      "PTIME05I OF COPAU0AI",
      "PTYPE05I OF COPAU0AI",
      "PAPRV05I OF COPAU0AI",
      "PSTAT05I OF COPAU0AI",
      "PAMT005I OF COPAU0AI"
    ],
    "purpose": "Initializes the authorization detail screen fields by clearing them and setting default values for display."
  },
  {
    "caller": "GATHER-DETAILS",
    "callee": "PROCESS-PAGE-FORWARD",
    "inputs": [
      "ERR-FLG-OFF",
      "EIBAID",
      "DFHPF7",
      "WS-IDX",
      "CDEMO-CPVS-PAUKEY-LAST",
      "CDEMO-CPVS-PAGE-NUM",
      "PA-AUTHORIZATION-KEY",
      "CDEMO-CPVS-PAUKEY-PREV-PG"
    ],
    "outputs": [
      "WS-IDX",
      "CDEMO-CPVS-PAUKEY-LAST",
      "CDEMO-CPVS-PAGE-NUM",
      "CDEMO-CPVS-PAUKEY-PREV-PG",
      "NEXT-PAGE-YES",
      "NEXT-PAGE-NO"
    ],
    "purpose": "Retrieves and populates up to five authorization records starting from the last key, incrementing page number and tracking navigation state."
  },
  {
    "caller": "PROCESS-PF7-KEY",
    "callee": "GET-AUTH-SUMMARY",
    "inputs": [
      "CDEMO-ACCT-ID"
    ],
    "outputs": [
      "PA-ACCT-ID",
      "PENDING-AUTH-SUMMARY",
      "IMS-RETURN-CODE",
      "FOUND-PAUT-SMRY-SEG",
      "NFOUND-PAUT-SMRY-SEG",
      "WS-ERR-FLG",
      "WS-MESSAGE",
      "ACCTIDL OF COPAU0AI"
    ],
    "purpose": "Retrieves the pending authorization summary segment from IMS for the given account ID and sets status flags based on the result."
  },
  {
    "caller": "PROCESS-PF7-KEY",
    "callee": "INITIALIZE-AUTH-DATA",
    "inputs": [],
    "outputs": [
      "SEL0001A OF COPAU0AI",
      "TRNID01I OF COPAU0AI",
      "PDATE01I OF COPAU0AI",
      "PTIME01I OF COPAU0AI",
      "PTYPE01I OF COPAU0AI",
      "PAPRV01I OF COPAU0AI",
      "PSTAT01I OF COPAU0AI",
      "PAMT001I OF COPAU0AI",
      "SEL0002A OF COPAU0AI",
      "TRNID02I OF COPAU0AI",
      "PDATE02I OF COPAU0AI",
      "PTIME02I OF COPAU0AI",
      "PTYPE02I OF COPAU0AI",
      "PAPRV02I OF COPAU0AI",
      "PSTAT02I OF COPAU0AI",
      "PAMT002I OF COPAU0AI",
      "SEL0003A OF COPAU0AI",
      "TRNID03I OF COPAU0AI",
      "PDATE03I OF COPAU0AI",
      "PTIME03I OF COPAU0AI",
      "PTYPE03I OF COPAU0AI",
      "PAPRV03I OF COPAU0AI",
      "PSTAT03I OF COPAU0AI",
      "PAMT003I OF COPAU0AI",
      "SEL0004A OF COPAU0AI",
      "TRNID04I OF COPAU0AI",
      "PDATE04I OF COPAU0AI",
      "PTIME04I OF COPAU0AI",
      "PTYPE04I OF COPAU0AI",
      "PAPRV04I OF COPAU0AI",
      "PSTAT04I OF COPAU0AI",
      "PAMT004I OF COPAU0AI",
      "SEL0005A OF COPAU0AI",
      "TRNID05I OF COPAU0AI",
      "PDATE05I OF COPAU0AI",
      "PTIME05I OF COPAU0AI",
      "PTYPE05I OF COPAU0AI",
      "PAPRV05I OF COPAU0AI",
      "PSTAT05I OF COPAU0AI",
      "PAMT005I OF COPAU0AI"
    ],
    "purpose": "Clears the authorization detail screen fields in preparation for repopulating with previous page data."
  },
  {
    "caller": "PROCESS-PF7-KEY",
    "callee": "PROCESS-PAGE-FORWARD",
    "inputs": [
      "ERR-FLG-OFF",
      "EIBAID",
      "DFHPF7",
      "WS-IDX",
      "CDEMO-CPVS-PAUKEY-LAST",
      "CDEMO-CPVS-PAGE-NUM",
      "PA-AUTHORIZATION-KEY",
      "CDEMO-CPVS-PAUKEY-PREV-PG"
    ],
    "outputs": [
      "WS-IDX",
      "CDEMO-CPVS-PAUKEY-LAST",
      "CDEMO-CPVS-PAGE-NUM",
      "CDEMO-CPVS-PAUKEY-PREV-PG",
      "NEXT-PAGE-YES",
      "NEXT-PAGE-NO"
    ],
    "purpose": "Retrieves and displays the next set of authorization records after navigating back a page, updating navigation tracking variables."
  },
  {
    "caller": "PROCESS-PF8-KEY",
    "callee": "GET-AUTH-SUMMARY",
    "inputs": [
      "CDEMO-ACCT-ID",
      "PA-ACCT-ID",
      "PAUT-PCB-NUM",
      "PENDING-AUTH-SUMMARY",
      "DIBSTAT",
      "IMS-RETURN-CODE"
    ],
    "outputs": [
      "IMS-RETURN-CODE",
      "WS-ERR-FLG",
      "WS-MESSAGE",
      "ACCTIDL"
    ],
    "purpose": "Retrieves the authorization summary segment from IMS database using the account ID and sets appropriate status flags based on the result."
  },
  {
    "caller": "PROCESS-PF8-KEY",
    "callee": "REPOSITION-AUTHORIZATIONS",
    "inputs": [
      "WS-AUTH-KEY-SAVE",
      "PA-AUTHORIZATION-KEY",
      "PAUT-PCB-NUM",
      "PENDING-AUTH-DETAILS",
      "DIBSTAT",
      "IMS-RETURN-CODE"
    ],
    "outputs": [
      "IMS-RETURN-CODE",
      "WS-ERR-FLG",
      "WS-MESSAGE",
      "ACCTIDL"
    ],
    "purpose": "Repositions the IMS database cursor to the authorization detail segment matching the saved authorization key."
  },
  {
    "caller": "PROCESS-PF8-KEY",
    "callee": "INITIALIZE-AUTH-DATA",
    "inputs": [
      "WS-IDX",
      "DFHBMPRO",
      "SEL0001A",
      "TRNID01I",
      "PDATE01I",
      "PTIME01I",
      "PTYPE01I",
      "PAPRV01I",
      "PSTAT01I",
      "PAMT001I",
      "SEL0002A",
      "TRNID02I",
      "PDATE02I",
      "PTIME02I",
      "PTYPE02I",
      "PAPRV02I",
      "PSTAT02I",
      "PAMT002I",
      "SEL0003A",
      "TRNID03I",
      "PDATE03I",
      "PTIME03I",
      "PTYPE03I",
      "PAPRV03I",
      "PSTAT03I",
      "PAMT003I",
      "SEL0004A",
      "TRNID04I",
      "PDATE04I",
      "PTIME04I",
      "PTYPE04I",
      "PAPRV04I",
      "PSTAT04I",
      "PAMT004I",
      "SEL0005A",
      "TRNID05I",
      "PDATE05I",
      "PTIME05I",
      "PTYPE05I",
      "PAPRV05I",
      "PSTAT05I",
      "PAMT005I"
    ],
    "outputs": [
      "SEL0001A",
      "TRNID01I",
      "PDATE01I",
      "PTIME01I",
      "PTYPE01I",
      "PAPRV01I",
      "PSTAT01I",
      "PAMT001I",
      "SEL0002A",
      "TRNID02I",
      "PDATE02I",
      "PTIME02I",
      "PTYPE02I",
      "PAPRV02I",
      "PSTAT02I",
      "PAMT002I",
      "SEL0003A",
      "TRNID03I",
      "PDATE03I",
      "PTIME03I",
      "PTYPE03I",
      "PAPRV03I",
      "PSTAT03I",
      "PAMT003I",
      "SEL0004A",
      "TRNID04I",
      "PDATE04I",
      "PTIME04I",
      "PTYPE04I",
      "PAPRV04I",
      "PSTAT04I",
      "PAMT004I",
      "SEL0005A",
      "TRNID05I",
      "PDATE05I",
      "PTIME05I",
      "PTYPE05I",
      "PAPRV05I",
      "PSTAT05I",
      "PAMT005I"
    ],
    "purpose": "Initializes the authorization data screen fields by setting selection indicators and clearing transaction details for all five authorization entries."
  },
  {
    "caller": "PROCESS-PF8-KEY",
    "callee": "PROCESS-PAGE-FORWARD",
    "inputs": [
      "ERR-FLG-OFF",
      "WS-IDX",
      "CDEMO-CPVS-PAUKEY-LAST",
      "EIBAID",
      "DFHPF7",
      "AUTHS-EOF",
      "ERR-FLG-ON",
      "PA-AUTHORIZATION-KEY",
      "CDEMO-CPVS-PAGE-NUM",
      "CDEMO-CPVS-PAUKEY-PREV-PG"
    ],
    "outputs": [
      "WS-IDX",
      "CDEMO-CPVS-PAUKEY-LAST",
      "CDEMO-CPVS-PAGE-NUM"
    ],
    "purpose": "Processes forward paging through authorization records by retrieving up to five authorization details and updating page tracking information."
  },
  {
    "caller": "PROCESS-PAGE-FORWARD",
    "callee": "REPOSITION-AUTHORIZATIONS",
    "inputs": [
      "WS-AUTH-KEY-SAVE",
      "PA-AUTHORIZATION-KEY",
      "PAUT-PCB-NUM",
      "PENDING-AUTH-DETAILS",
      "DIBSTAT",
      "IMS-RETURN-CODE"
    ],
    "outputs": [
      "IMS-RETURN-CODE",
      "WS-ERR-FLG",
      "WS-MESSAGE",
      "ACCTIDL"
    ],
    "purpose": "Repositions the IMS database cursor to the authorization detail segment matching the saved authorization key when navigating backward via PF7."
  },
  {
    "caller": "PROCESS-PAGE-FORWARD",
    "callee": "GET-AUTHORIZATIONS",
    "inputs": [],
    "outputs": [
      "IMS-RETURN-CODE",
      "WS-ERR-FLG",
      "WS-MESSAGE"
    ],
    "purpose": "Retrieves the next authorization detail segment from the IMS database and sets status flags based on the result."
  },
  {
    "caller": "PROCESS-PAGE-FORWARD",
    "callee": "POPULATE-AUTH-LIST",
    "inputs": [
      "WS-IDX",
      "PA-AUTHORIZATION-KEY",
      "PA-TRANSACTION-ID",
      "PA-AUTH-ORIG-DATE",
      "PA-AUTH-ORIG-TIME",
      "PA-AUTH-TYPE",
      "PA-AUTH-RESP-CODE",
      "PA-MATCH-STATUS",
      "PA-APPROVED-AMT",
      "WS-CURDATE-MM",
      "WS-CURDATE-DD",
      "WS-CURDATE-YY"
    ],
    "outputs": [
      "WS-AUTH-AMT",
      "WS-AUTH-TIME",
      "WS-AUTH-DATE",
      "WS-AUTH-APRV-STAT",
      "CDEMO-CPVS-AUTH-KEYS",
      "TRNID01I",
      "PDATE01I",
      "PTIME01I",
      "PTYPE01I",
      "PAPRV01I",
      "PSTAT01I",
      "PAMT001I",
      "SEL0001A",
      "TRNID02I",
      "PDATE02I",
      "PTIME02I",
      "PTYPE02I",
      "PAPRV02I",
      "PSTAT02I",
      "PAMT002I",
      "SEL0002A",
      "TRNID03I",
      "PDATE03I",
      "PTIME03I",
      "PTYPE03I",
      "PAPRV03I",
      "PSTAT03I",
      "PAMT003I",
      "SEL0003A",
      "TRNID04I",
      "PDATE04I",
      "PTIME04I",
      "PTYPE04I",
      "PAPRV04I",
      "PSTAT04I",
      "PAMT004I",
      "SEL0004A",
      "TRNID05I",
      "PDATE05I",
      "PTIME05I",
      "PTYPE05I",
      "PAPRV05I",
      "PSTAT05I",
      "PAMT005I",
      "SEL0005A"
    ],
    "purpose": "Populates the screen fields and working storage with authorization data based on the current index for display on the CICS map."
  },
  {
    "caller": "PROCESS-PAGE-FORWARD",
    "callee": "GET-AUTHORIZATIONS",
    "inputs": [],
    "outputs": [
      "IMS-RETURN-CODE",
      "WS-ERR-FLG",
      "WS-MESSAGE"
    ],
    "purpose": "Retrieves the next authorization detail segment from the IMS database after processing a page to determine if a next page is available."
  },
  {
    "caller": "GET-AUTHORIZATIONS",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "ACCTIDL",
      "IMS-PSB-SCHD",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends an error message to the CICS screen when a system error occurs during authorization retrieval."
  },
  {
    "caller": "REPOSITION-AUTHORIZATIONS",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "ACCTIDL",
      "IMS-PSB-SCHD",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends an error message to the CICS screen when a system error occurs during repositioning of the authorization record."
  },
  {
    "caller": "SEND-PAULST-SCREEN",
    "callee": "POPULATE-HEADER-INFO",
    "inputs": [
      "WS-CICS-TRANID",
      "WS-PGM-AUTH-SMRY",
      "WS-CURDATE-MONTH",
      "WS-CURDATE-DAY",
      "WS-CURDATE-YEAR",
      "WS-CURTIME-HOURS",
      "WS-CURTIME-MINUTE",
      "WS-CURTIME-SECOND"
    ],
    "outputs": [],
    "purpose": "Populates the screen header with current date, time, transaction ID, and program name for display."
  },
  {
    "caller": "GATHER-ACCOUNT-DETAILS",
    "callee": "GETCARDXREF-BYACCT",
    "inputs": [
      "WS-ACCT-ID",
      "WS-CARDXREFNAME-ACCT-PATH"
    ],
    "outputs": [
      "WS-RESP-CD",
      "WS-REAS-CD",
      "WS-RESP-CD-DIS",
      "WS-REAS-CD-DIS",
      "WS-MESSAGE",
      "CDEMO-CUST-ID",
      "CDEMO-CARD-NUM"
    ],
    "purpose": "Retrieves card cross-reference data by account ID and updates customer and card information if found; otherwise displays an error message."
  },
  {
    "caller": "GATHER-ACCOUNT-DETAILS",
    "callee": "GETACCTDATA-BYACCT",
    "inputs": [
      "XREF-ACCT-ID",
      "WS-ACCTFILENAME"
    ],
    "outputs": [
      "WS-RESP-CD",
      "WS-REAS-CD",
      "WS-RESP-CD-DIS",
      "WS-REAS-CD-DIS",
      "WS-MESSAGE"
    ],
    "purpose": "Reads account data using the account ID from the cross-reference and displays an error if not found or on system failure."
  },
  {
    "caller": "GATHER-ACCOUNT-DETAILS",
    "callee": "GETCUSTDATA-BYCUST",
    "inputs": [
      "XREF-CUST-ID",
      "WS-CUSTFILENAME"
    ],
    "outputs": [
      "WS-RESP-CD",
      "WS-REAS-CD",
      "WS-RESP-CD-DIS",
      "WS-REAS-CD-DIS",
      "WS-MESSAGE"
    ],
    "purpose": "Retrieves customer data using the customer ID from the cross-reference and displays an error if the record is not found or on system failure."
  },
  {
    "caller": "GATHER-ACCOUNT-DETAILS",
    "callee": "GET-AUTH-SUMMARY",
    "inputs": [
      "CDEMO-ACCT-ID"
    ],
    "outputs": [
      "PA-ACCT-ID",
      "IMS-RETURN-CODE",
      "WS-ERR-FLG",
      "WS-MESSAGE"
    ],
    "purpose": "Fetches the pending authorization summary for the account ID using IMS/DB and sets status flags based on success, not found, or error."
  },
  {
    "caller": "GETCARDXREF-BYACCT",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "IMS-PSB-SCHD",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends an error message to the screen when the card cross-reference record is not found or a system error occurs during file read."
  },
  {
    "caller": "GETCARDXREF-BYACCT",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "IMS-PSB-SCHD",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends an error message to the screen when the card cross-reference record is not found or a system error occurs during file read."
  },
  {
    "caller": "GETACCTDATA-BYACCT",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "IMS-PSB-SCHD",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends an error message to the screen when the account record is not found or a system error occurs during file read."
  },
  {
    "caller": "GETACCTDATA-BYACCT",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "IMS-PSB-SCHD",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends an error message to the screen when the account record is not found or a system error occurs during file read."
  },
  {
    "caller": "GETCUSTDATA-BYCUST",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "IMS-PSB-SCHD",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends an error message to the screen when the customer record is not found or a system error occurs during file read."
  },
  {
    "caller": "GETCUSTDATA-BYCUST",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "IMS-PSB-SCHD",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends an error message to the screen when a customer is not found or a system error occurs during file read."
  },
  {
    "caller": "GET-AUTH-SUMMARY",
    "callee": "SCHEDULE-PSB",
    "inputs": [
      "PSB-NAME"
    ],
    "outputs": [
      "IMS-RETURN-CODE",
      "IMS-PSB-SCHD"
    ],
    "purpose": "Schedules the PSB for IMS processing and handles rescheduling if it was already scheduled."
  },
  {
    "caller": "GET-AUTH-SUMMARY",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "IMS-PSB-SCHD",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Displays an error message on the screen when a system error occurs while reading the AUTH Summary segment."
  },
  {
    "caller": "SCHEDULE-PSB",
    "callee": "SEND-PAULST-SCREEN",
    "inputs": [
      "WS-MESSAGE",
      "IMS-PSB-SCHD",
      "SEND-ERASE-YES"
    ],
    "outputs": [],
    "purpose": "Sends an error message to the screen if there is a failure while scheduling the PSB in IMS."
  }
]