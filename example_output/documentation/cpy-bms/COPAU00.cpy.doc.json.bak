{
  "header": {
    "program_id": "COPAU00",
    "file_name": "cpy-bms/COPAU00.cpy",
    "file_type": "COPYBOOK",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-30T19:40:09.796021",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This COBOL copybook defines the BMS (Basic Mapping Support) map structure COPAU0AI for CICS online screens, supporting display and input of customer account information including account ID, name, address, status, phone, approval/decline counts, credit/cash limits and balances, and up to five selectable recent transactions. COPAU0AI provides input fields (marked I) for terminal receive and output preparation, while the redefines COPAU0AO provides output fields (marked O) with BMS attributes (C=changed, P=protected, H=highlight, V=visible). It is used in CICS programs for account inquiry/update screens.",
    "business_context": "Customer account profile display and transaction history selection in a financial or credit card processing system.",
    "program_type": "ONLINE_CICS",
    "citations": [
      17,
      391
    ]
  },
  "inputs": [
    {
      "name": "COPAU0AI",
      "io_type": "CICS_MAP",
      "description": "Primary BMS map structure for receiving input from CICS terminal, including selection fields SEL0001I to SEL0005I (PIC X(1), lines 150,198,246,294,384), transaction details, account data, and error message ERRMSGI (PIC X(78), line 390)",
      "copybook": null,
      "citation": [
        17,
        150,
        198,
        246,
        294,
        384,
        390
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU0AO",
      "io_type": "CICS_MAP",
      "description": "Redefined BMS map structure for sending output to CICS terminal, including account details like ACCTIDO (PIC X(11), line 434), balances like CREDBALO (PIC X(12), line 506), transaction history like TRNID01O (PIC X(16), line 530), and error message ERRMSGO (PIC X(78), line 764)",
      "copybook": null,
      "citation": [
        391,
        434,
        506,
        530,
        764
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "COPAU00",
      "summary": null,
      "purpose": "[Citadel] Paragraph identified by static analysis",
      "called_by": [],
      "calls": [],
      "citation": [
        1,
        1
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "COPAUS0C",
          "line": 129,
          "call_type": "includes"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "COPAU0AI",
      "summary": null,
      "purpose": "[Citadel] Paragraph identified by static analysis",
      "called_by": [],
      "calls": [],
      "citation": [
        1,
        1
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Record layout 'COPAU0AI' is never used by any program",
      "metadata": {
        "body_chunks": 8
      }
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "Exact usage context in including programs like COPAUS0C.cbl",
      "context": "Copybook defines structures but no executable logic; specific SEND/RECEIVE MAP usage cannot be determined from this file alone",
      "suggestion": "Analyze including COBOL programs (e.g., COPAUS0C.cbl line 129) for map usage details"
    }
  ],
  "dead_code": [
    {
      "name": "COPAU0AI",
      "artifact_type": "record_layout",
      "line": 1,
      "reason": "Record layout 'COPAU0AI' is never used by any program"
    }
  ],
  "call_semantics": [],
  "flow_diagram": null
}