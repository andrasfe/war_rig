{
  "header": {
    "program_id": "COPAU01",
    "file_name": "cpy-bms/COPAU01.cpy",
    "file_type": "COPYBOOK",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-25T18:35:18.164580",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This COBOL copybook defines the symbolic map structures COPAU1AI and COPAU1AO for a CICS BMS screen. COPAU1AI provides input fields with length (L), flag/attribute (F/A), and data (I) areas for transaction name, card number, authorization details, merchant info, and error message. COPAU1AO redefines it for output with conditioned (C), protected (P), highlight (H), visible (V), and output data (O) fields.",
    "business_context": "CICS online transaction screen for displaying credit card authorization responses in a payment processing system",
    "program_type": "ONLINE_CICS",
    "citations": [
      17,
      181
    ]
  },
  "inputs": [
    {
      "name": "COPAU1AI",
      "io_type": "CICS_MAP",
      "description": "Input symbolic map area with fields for screen data entry including TRNNAMEI (transaction name), CARDNUMI (card number), AUTHRSPI (auth response), MERNAMEI (merchant name), ERRMSGI (error message)",
      "copybook": null,
      "citation": [
        17
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU1AO",
      "io_type": "CICS_MAP",
      "description": "Output symbolic map area with attribute fields (C, P, H, V) and output data (O) for screen display of authorization details",
      "copybook": null,
      "citation": [
        181
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "BMS symbolic map fields follow standard structure: length (COMP S9(4)), attribute flag (X redefinable to A), filler X(4), and data field (I for input, O for output)",
      "logic_summary": "Repeated pattern for all fields ensures compatibility with CICS BMS SEND/RECEIVE MAP operations",
      "conditions": [
        "Applies to all data fields such as TRNNAMEL/F/I (18-24), CARDNUML/F/I (55-60), AUTHRSPL/F/I (73-78)"
      ],
      "citation": [
        18,
        19,
        20,
        21,
        24,
        55,
        56,
        57,
        58,
        60,
        73,
        74,
        75,
        76,
        78
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What CICS programs use this copybook and how are field attributes set?",
      "context": "Copybook defines structure but not usage or logic",
      "suggestion": "Analyze programs with COPY COPAU01 to determine field modifications and SEND MAP calls"
    },
    {
      "question": "What is the corresponding physical BMS map definition?",
      "context": "Only symbolic map copybook provided",
      "suggestion": "Locate DFHMDI source for COPAU1 mapset"
    }
  ]
}