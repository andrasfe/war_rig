{
  "header": {
    "program_id": "COPAU01",
    "file_name": "cpy-bms/COPAU01.cpy",
    "file_type": "COPYBOOK",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-26T17:39:58.969964",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This COBOL copybook defines the BMS map data structures COPAU1AI and COPAU1AO for a CICS screen handling payment authorization details. COPAU1AI provides input field definitions with length (L), flag/format (F), attribute (A), and input data (I) for RECEIVE MAP. COPAU1AO redefines the storage for output with cursor (C), protected (P), highlight (H), visible (V), and output data (O) fields for SEND MAP.",
    "business_context": "Payment authorization response screen in a CICS-based point-of-sale or transaction processing system, displaying transaction info, card details, auth codes, merchant data, and errors.",
    "program_type": "ONLINE_CICS",
    "citations": [
      17,
      181
    ]
  },
  "inputs": [
    {
      "name": "COPAU1AI",
      "io_type": "CICS_MAP",
      "description": "Input structure for BMS RECEIVE MAP containing screen data for transaction name, titles, date/time, program name, card number, auth details, merchant info, and error message",
      "copybook": null,
      "citation": [
        17,
        18,
        20,
        24,
        30,
        36,
        42,
        48,
        54,
        60,
        66,
        72,
        78,
        84,
        90,
        96,
        102,
        108,
        114,
        120,
        126,
        132,
        138,
        144,
        150,
        156,
        162,
        168,
        174,
        180
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU1AO",
      "io_type": "CICS_MAP",
      "description": "Output structure redefining COPAU1AI for BMS SEND MAP with C/P/H/V/O fields for the same data elements",
      "copybook": null,
      "citation": [
        181,
        184,
        188,
        194,
        200,
        206,
        212,
        218,
        224,
        230,
        236,
        242,
        248,
        254,
        260,
        266,
        272,
        278,
        284,
        290,
        296,
        302,
        308,
        314,
        320,
        326,
        332,
        338,
        344
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "BMS map fields use a standard structure with length (COMP S9(4)), flag/format (X), attribute (X), and data fields for input (COPAU1AI), redefined as C/P/H/V/O for output (COPAU1AO) to support dynamic screen formatting in CICS.",
      "logic_summary": "REDEFINES COPAU1AI as COPAU1AO at line 181 enables the same storage to be used for both SEND MAP (output attributes) and RECEIVE MAP (input data).",
      "conditions": [
        "RECEIVE MAP populates I fields via F/A/I",
        "SEND MAP uses C/P/H/V/O for field attributes and O data"
      ],
      "citation": [
        17,
        181
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [],
  "error_handling": [
    {
      "condition": "Displayable error condition",
      "action": "Populate ERRMSGI / ERRMSGO field with up to 78 characters of error message",
      "citation": [
        175,
        180,
        340,
        344
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": []
}