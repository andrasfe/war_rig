{
  "header": {
    "program_id": "COPAU01",
    "file_name": "cpy-bms/COPAU01.cpy",
    "file_type": "COPYBOOK",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-24T03:58:48.947516",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This COBOL copybook defines the symbolic map structures COPAU1AI (input) and COPAU1AO (output redefines COPAU1AI) for the CICS BMS map COPAU01. It provides data areas, length fields (e.g., TRNNAMEL COMP PIC S9(4)), format/attribute fields (e.g., TRNNAMEF/A), and input/output data fields (e.g., TRNNAMEI, TRNNAMEO) for screen elements related to payment authorization. Fields cover transaction name, titles, dates/times, program name, card number, auth details (date/time/response/reason/code/amount), POS mode, source, MCC, expiration, type, txn ID, method, fraud, merchant info, and error message.",
    "business_context": "CICS online screen for credit card authorization processing, displaying merchant/transaction details and capturing card/auth response data.",
    "program_type": "ONLINE_CICS",
    "citations": [
      17,
      181
    ]
  },
  "inputs": [
    {
      "name": "COPAU1AI",
      "io_type": "CICS_MAP",
      "description": "Symbolic input map structure receiving user-entered data from COPAU01 BMS screen, including fields like CARDNUMI, AUTHRSPI, ERRMSGI",
      "copybook": null,
      "citation": [
        17
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU1AO",
      "io_type": "CICS_MAP",
      "description": "Symbolic output map structure sending display data and attributes to COPAU01 BMS screen, with per-character C/P/H/V/O controls (e.g., TRNNAMEO, CARDNUMO)",
      "copybook": null,
      "citation": [
        181
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Transaction name input field TRNNAMEI accepts exactly 4 alphanumeric characters",
      "logic_summary": "Defined as PIC X(4) in input structure",
      "conditions": [
        "Data received via RECEIVE MAP into COPAU1AI"
      ],
      "citation": [
        24
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Card number input field CARDNUMI accepts exactly 16 alphanumeric characters for credit/debit card",
      "logic_summary": "Defined as PIC X(16) in input structure",
      "conditions": [
        "Data received via RECEIVE MAP into COPAU1AI"
      ],
      "citation": [
        60
      ]
    },
    {
      "rule_id": "BR003",
      "description": "Authorization response input field AUTHRSPI accepts 1 character response code",
      "logic_summary": "Defined as PIC X(1) in input structure",
      "conditions": [
        "Data received via RECEIVE MAP into COPAU1AI"
      ],
      "citation": [
        78
      ]
    },
    {
      "rule_id": "BR004",
      "description": "Error message output field ERRMSGO supports up to 78 characters for screen display",
      "logic_summary": "Defined as PIC X(78) in output structure",
      "conditions": [
        "Data populated prior to SEND MAP from COPAU1AO"
      ],
      "citation": [
        344
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "COPAU01",
      "summary": null,
      "purpose": "[Citadel] Paragraph identified by static analysis",
      "called_by": [],
      "calls": [],
      "citation": [
        1,
        1
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "COPAUS1C",
          "line": 122,
          "call_type": "includes"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "COPAU1AI",
      "summary": null,
      "purpose": "[Citadel] Paragraph identified by static analysis",
      "called_by": [],
      "calls": [],
      "citation": [
        1,
        1
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Record layout 'COPAU1AI' is never used by any program",
      "metadata": {
        "body_chunks": 4
      }
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "COPAU1AI",
      "artifact_type": "record_layout",
      "line": 1,
      "reason": "Record layout 'COPAU1AI' is never used by any program"
    }
  ],
  "call_semantics": [],
  "flow_diagram": null
}