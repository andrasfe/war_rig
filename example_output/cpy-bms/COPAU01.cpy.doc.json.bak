{
  "header": {
    "program_id": "COPAU01",
    "file_name": "cpy-bms/COPAU01.cpy",
    "file_type": "COPYBOOK",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-27T02:42:16.634986",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This copybook defines the symbolic map input structure COPAU1AI and output structure COPAU1AO for the CICS BMS map COPAU1. It structures fields for transaction name, titles, current date/time, program name, card number, authorization details (date, time, response, code, amount), POS entry mode, auth source, MCC, card expiration, auth type, transaction ID, merchant details (name, ID, city, state, zip), and error messages. The input area includes length (L), format (F), attribute (A), and input data (I) fields; the output redefines with attribute flags (C=Cursor, P=Protected, H=Highlight, V=Visible) and output data (O).",
    "business_context": "CICS online screen for credit card payment authorization response, displaying transaction, card, auth, and merchant data with error messaging.",
    "program_type": "ONLINE_CICS",
    "citations": [
      17,
      181
    ]
  },
  "inputs": [
    {
      "name": "COPAU1AI",
      "io_type": "CICS_MAP",
      "description": "Input (receive) map area with field lengths, formats, attributes, field names, and input data from CICS RECEIVE MAP",
      "copybook": null,
      "citation": [
        17,
        18
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU1AO",
      "io_type": "CICS_MAP",
      "description": "Output (send) map area redefining COPAU1AI, with per-field C/P/H/V attributes and output data for CICS SEND MAP",
      "copybook": null,
      "citation": [
        181,
        182
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Card number input field CARDNUMI is fixed length PIC X(16) to accommodate standard credit card numbers (e.g., 16-digit Visa/Mastercard)",
      "logic_summary": "Structural enforcement via PIC clause; truncation/padding handled by COBOL/BMS",
      "conditions": [
        "Input data must fit 16 characters"
      ],
      "citation": [
        55,
        60
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Error message field ERRMSGI is PIC X(78) to span full screen width for display messages",
      "logic_summary": "Defines maximum message length for BMS field",
      "conditions": [
        "Messages limited to 78 chars"
      ],
      "citation": [
        175,
        180
      ]
    },
    {
      "rule_id": "BR003",
      "description": "Field lengths (e.g., TRNNAMEL) are COMP PIC S9(4) supporting up to 9999 characters per BMS field",
      "logic_summary": "Standard BMS length field format",
      "conditions": [
        "Length values 1-9999"
      ],
      "citation": [
        19,
        25
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [],
  "dead_code": []
}