{
  "header": {
    "program_id": "COPAU00",
    "file_name": "bms/COPAU00.bms",
    "file_type": "BMS",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-27T02:42:27.496687",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This BMS mapset COPAU00 defines the COPAU0A map for the Pending Authorization Screen (CardDemo). It displays header info (transaction, date/time, program, titles), customer details (name, ID, address, status, phone, approval/decline counts, credit/cash limits/balances), and a table of up to 5 pending transactions (ID, date, time, type, A/D, status, amount). Users input search account ID and select transactions via SEL fields.",
    "business_context": "Supports reviewing pending credit card authorizations by account in a demo payment processing system",
    "program_type": "ONLINE_CICS",
    "citations": [
      2,
      19,
      26,
      78,
      83
    ]
  },
  "inputs": [
    {
      "name": "ACCTID",
      "io_type": "CICS_MAP",
      "description": "User-entered account ID for searching pending authorizations",
      "copybook": "COPAU00",
      "citation": [
        84
      ]
    },
    {
      "name": "SEL0001",
      "io_type": "CICS_MAP",
      "description": "Selection field (e.g., 'S') for first pending transaction",
      "copybook": "COPAU00",
      "citation": [
        277
      ]
    },
    {
      "name": "SEL0002",
      "io_type": "CICS_MAP",
      "description": "Selection field (e.g., 'S') for second pending transaction",
      "copybook": "COPAU00",
      "citation": [
        321
      ]
    },
    {
      "name": "SEL0003",
      "io_type": "CICS_MAP",
      "description": "Selection field (e.g., 'S') for third pending transaction",
      "copybook": "COPAU00",
      "citation": [
        365
      ]
    },
    {
      "name": "SEL0004",
      "io_type": "CICS_MAP",
      "description": "Selection field (e.g., 'S') for fourth pending transaction",
      "copybook": "COPAU00",
      "citation": [
        409
      ]
    },
    {
      "name": "SEL0005",
      "io_type": "CICS_MAP",
      "description": "Selection field (e.g., 'S') for fifth pending transaction",
      "copybook": "COPAU00",
      "citation": [
        488
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU0A",
      "io_type": "CICS_MAP",
      "description": "Display-only fields for customer info (CNAME, CUSTID, ADDR001/2, ACCSTAT, PHONE1), counts (APPRCNT, DECLCNT), limits/balances (CREDLIM, CASHLIM, APPRAMT, CREDBAL, CASHBAL, DECLAMT), transaction list (TRNIDxx, PDATExx, PTIMExx, PTYPExx, PAPRVxx, PSTATxx, PAMTxx), headers, titles, dates/times, instructions, and error message (ERRMSG)",
      "copybook": "COPAU00",
      "citation": [
        26,
        96,
        103,
        107,
        114,
        125,
        132,
        139,
        147,
        156,
        165,
        174,
        183,
        191,
        286,
        503
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "User must enter 'S' in one of the SELxxxx fields to select a pending transaction for viewing authorization details",
      "logic_summary": "Instructional text displayed on screen prompting user action; handled in associated CICS program on RECEIVE MAP",
      "conditions": [
        "SELxxxx = 'S'"
      ],
      "citation": [
        277,
        321,
        365,
        409,
        488,
        501
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [
    {
      "copybook_name": "COPAU00",
      "purpose": "Generates symbolic and physical maps for CICS screen I/O handling in COBOL programs",
      "location": "OTHER",
      "citation": 19
    }
  ],
  "paragraphs": [],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [
    {
      "command": "DFHMSD",
      "resource": "COPAU00",
      "purpose": "Defines mapset with INOUT mode, AUTO storage, for bidirectional screen I/O",
      "citation": 19
    },
    {
      "command": "DFHMDI",
      "resource": "COPAU0A",
      "purpose": "Defines the main map of size 24x80",
      "citation": 26
    }
  ],
  "open_questions": [
    {
      "question": "Specific transaction ID or CICS program using this map",
      "context": "Not specified in BMS source; would be in referencing COBOL/JCL",
      "suggestion": "Analyze calling CICS programs or JCL for references to COPAU00"
    }
  ],
  "dead_code": []
}