{
  "header": {
    "program_id": "COPAU00",
    "file_name": "bms/COPAU00.bms",
    "file_type": "BMS",
    "analyzed_by": "Scribe",
    "analyzed_at": "2026-02-25T15:30:57.423429",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "Defines the COPAU00 CICS mapset with COPAU0A map for the Pending Authorization Screen in CardDemo application. Allows searching pending authorizations by account ID, displays customer details (name, ID, address, phone, status, approval/decline counts, credit/cash limits and balances), and lists up to 5 transactions with selection options. Includes headers, timestamps, error message field, and function key instructions.",
    "business_context": "Credit card authorization management in CICS online transaction processing for viewing and selecting pending authorizations.",
    "program_type": "ONLINE_CICS",
    "citations": [
      2,
      19,
      26,
      78,
      83,
      501,
      511
    ]
  },
  "inputs": [
    {
      "name": "ACCTID",
      "io_type": "CICS_MAP",
      "description": "Unprotected input field for entering account ID to search for pending authorizations",
      "copybook": null,
      "citation": [
        84
      ]
    },
    {
      "name": "SEL0001",
      "io_type": "CICS_MAP",
      "description": "Unprotected selection field for first transaction (e.g., enter 'S' to view details)",
      "copybook": null,
      "citation": [
        277
      ]
    },
    {
      "name": "SEL0002",
      "io_type": "CICS_MAP",
      "description": "Unprotected selection field for second transaction",
      "copybook": null,
      "citation": [
        321
      ]
    },
    {
      "name": "SEL0003",
      "io_type": "CICS_MAP",
      "description": "Unprotected selection field for third transaction",
      "copybook": null,
      "citation": [
        365
      ]
    },
    {
      "name": "SEL0004",
      "io_type": "CICS_MAP",
      "description": "Unprotected selection field for fourth transaction",
      "copybook": null,
      "citation": [
        409
      ]
    },
    {
      "name": "SEL0005",
      "io_type": "CICS_MAP",
      "description": "Unprotected selection field for fifth transaction",
      "copybook": null,
      "citation": [
        488
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU0A",
      "io_type": "CICS_MAP",
      "description": "Display map containing customer information, limits, balances, transaction list, headers, timestamps, and instructions",
      "copybook": null,
      "citation": [
        26
      ]
    },
    {
      "name": "ERRMSG",
      "io_type": "CICS_MAP",
      "description": "Field for displaying error messages to the user",
      "copybook": null,
      "citation": [
        503
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "User input fields such as ACCTID and SELxxxx are unprotected (UNPROT) to accept search criteria and transaction selections, with validation expected in the calling CICS program.",
      "logic_summary": "Fields defined with ATTRB=(FSET,NORM,UNPROT) or similar to enable data entry without protection.",
      "conditions": [
        "UNPROT attribute present",
        "FSET for modified field detection"
      ],
      "citation": [
        84,
        277,
        321,
        365,
        409,
        488
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Display-only fields use ASKIP and NORM/PROT attributes to prevent user modification.",
      "logic_summary": "Customer data, headers, and transaction details are protected for output only.",
      "conditions": [
        "ASKIP for skip",
        "NORM without UNPROT"
      ],
      "citation": [
        29,
        34,
        47,
        96,
        103
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "COPAU00",
      "summary": null,
      "purpose": "[Citadel] Paragraph identified by static analysis",
      "called_by": [],
      "calls": [],
      "citation": [
        19,
        19
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Artifact 'COPAU00' (map) is never referenced by any other artifact in the dependency graph",
      "metadata": null
    },
    {
      "paragraph_name": "COPAU0A",
      "summary": null,
      "purpose": "[Citadel] Paragraph identified by static analysis",
      "called_by": [],
      "calls": [],
      "citation": [
        26,
        26
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Screen/Map 'COPAU0A' is never sent to or received from by any program",
      "metadata": {
        "body_chunks": 5
      }
    }
  ],
  "error_handling": [
    {
      "condition": "Application errors or invalid inputs",
      "action": "Populate and display message in ERRMSG field (bright, red, full screen width)",
      "citation": [
        503
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "Which CICS COBOL program(s) reference and use this COPAU00 BMS mapset?",
      "context": "BMS file defines the map but does not specify calling programs.",
      "suggestion": "Search for COBOL programs containing 'COPAU0A' or 'COPAU00' in DFHMDI statements."
    },
    {
      "question": "What are the exact validation rules for inputs like ACCTID length/format or SEL values?",
      "context": "BMS defines layout and attributes but no programmatic validation.",
      "suggestion": "Examine the calling CICS program for RECEIVE MAP logic."
    }
  ],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "COPAU00",
      "artifact_type": "map",
      "line": 19,
      "reason": "Artifact 'COPAU00' (map) is never referenced by any other artifact in the dependency graph"
    },
    {
      "name": "COPAU0A",
      "artifact_type": "screen",
      "line": 26,
      "reason": "Screen/Map 'COPAU0A' is never sent to or received from by any program"
    }
  ],
  "call_semantics": [],
  "flow_diagram": null
}