{
  "header": {
    "program_id": "COPAU00",
    "file_name": "COPAU00.bms",
    "file_type": "BMS",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-26T17:41:11.273119",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "Defines BMS mapset COPAU00 with map COPAU0A for the CardDemo Pending Authorization Screen. Enables searching by Account ID to view customer details, credit/cash limits and balances, approval/decline counts, and a list of up to 5 pending transactions. Users select transactions by entering 'S' in SEL fields for detail view, with error message display and function key guidance.",
    "business_context": "CICS-based credit card demonstration application for inquiring on pending authorizations.",
    "program_type": "ONLINE_CICS",
    "citations": [
      2,
      19,
      26,
      78,
      82,
      497,
      511
    ]
  },
  "inputs": [
    {
      "name": "ACCTID",
      "io_type": "CICS_MAP",
      "description": "Account ID field for searching pending authorizations",
      "copybook": null,
      "citation": [
        82,
        84
      ]
    },
    {
      "name": "SEL0001",
      "io_type": "CICS_MAP",
      "description": "Selection field (enter 'S') for first listed transaction",
      "copybook": null,
      "citation": [
        277,
        281
      ]
    },
    {
      "name": "SEL0002",
      "io_type": "CICS_MAP",
      "description": "Selection field (enter 'S') for second listed transaction",
      "copybook": null,
      "citation": [
        321,
        325
      ]
    },
    {
      "name": "SEL0003",
      "io_type": "CICS_MAP",
      "description": "Selection field (enter 'S') for third listed transaction",
      "copybook": null,
      "citation": [
        365,
        369
      ]
    },
    {
      "name": "SEL0004",
      "io_type": "CICS_MAP",
      "description": "Selection field (enter 'S') for fourth listed transaction",
      "copybook": null,
      "citation": [
        409,
        413
      ]
    },
    {
      "name": "SEL0005",
      "io_type": "CICS_MAP",
      "description": "Selection field (enter 'S') for fifth listed transaction",
      "copybook": null,
      "citation": [
        488,
        492
      ]
    }
  ],
  "outputs": [
    {
      "name": "CUSTOMER_INFO",
      "io_type": "CICS_MAP",
      "description": "Display fields for customer name, ID, address lines, status, phone (CNAME, CUSTID, ADDR001, ADDR002, ACCSTAT, PHONE1)",
      "copybook": null,
      "citation": [
        96,
        103,
        107,
        118,
        114,
        125
      ]
    },
    {
      "name": "LIMITS_COUNTS",
      "io_type": "CICS_MAP",
      "description": "Credit/cash limits, balances, approval/decline counts and amounts (CREDLIM, CASHLIM, APPRAMT, CREDBAL, CASHBAL, DECLAMT, APPRCNT, DECLCNT)",
      "copybook": null,
      "citation": [
        147,
        156,
        165,
        174,
        183,
        192,
        132,
        139
      ]
    },
    {
      "name": "TRANSACTION_LIST",
      "io_type": "CICS_MAP",
      "description": "Pending transaction details including ID, date, time, type, approve/decline, status, amount (TRNIDxx, PDATExx, PTIMExx, PTYPExx, PAPRVxx, PSTATxx, PAMTxx for xx=01-05)",
      "copybook": null,
      "citation": [
        286,
        330,
        374,
        418,
        453
      ]
    },
    {
      "name": "ERRMSG",
      "io_type": "CICS_MAP",
      "description": "Error message display field",
      "copybook": null,
      "citation": [
        503
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Users enter 'S' in one of the SELxxxx fields to select a listed transaction for viewing authorization details.",
      "logic_summary": "Screen instruction text guides user interaction; program using this map checks SEL fields post-RECEIVE MAP.",
      "conditions": [
        "Type 'S' to View Authorization details from the list"
      ],
      "citation": [
        497,
        501
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [],
  "error_handling": [
    {
      "condition": "Application or validation errors",
      "action": "Populate and display message in ERRMSG field",
      "citation": [
        503
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "Which CICS program(s) include and use this BMS mapset COPAU00?",
      "context": "BMS file does not reference calling programs or transactions.",
      "suggestion": "Search COBOL sources for 'COPY COPAU00' or 'COPAU0A' in CICS SEND/RECEIVE MAP statements."
    }
  ]
}