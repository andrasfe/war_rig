{
  "header": {
    "program_id": "COPAU01",
    "file_name": "COPAU01.bms",
    "file_type": "BMS",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-26T15:13:57.330348",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "The COPAU01 BMS mapset defines a CICS 3270 screen layout named COPAU1A for displaying pending credit card authorization details in the CardDemo application. It includes static labels, output-only data fields for transaction, authorization response, merchant information, and an error message area. Function keys allow navigation and actions like backing out, marking fraud, or viewing next authorization.",
    "business_context": "Serves the business process of viewing and managing pending authorization details in a credit card transaction processing system.",
    "program_type": "ONLINE_CICS",
    "citations": [
      2,
      19,
      26,
      78,
      292
    ]
  },
  "inputs": [
    {
      "name": "COPAU1A",
      "io_type": "CICS_MAP",
      "description": "CICS map used for RECEIVE to capture function key inputs (e.g., F3, F5, F8) since no modifiable fields exist",
      "copybook": null,
      "citation": [
        26,
        292
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU1A",
      "io_type": "CICS_MAP",
      "description": "CICS map used for SEND to display authorization details, merchant info, timestamps, and error messages",
      "copybook": null,
      "citation": [
        26,
        284,
        292
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "The screen is display-only; users cannot enter or modify data fields, only interact via function keys",
      "logic_summary": "All data and label fields use ATTRB=(ASKIP,NORM) or similar, which skips cursor over fields during input scan, preventing modifications",
      "conditions": [
        "ATTRB includes ASKIP for all DFHMDF fields",
        "No fields use UNPROT or lack ASKIP for input"
      ],
      "citation": [
        29,
        34,
        47,
        85,
        94,
        104,
        114,
        124,
        134,
        144,
        154,
        164,
        174,
        184,
        194,
        204,
        214,
        224,
        239,
        249,
        259,
        269,
        279
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [],
  "error_handling": [
    {
      "condition": "Application errors requiring user notification",
      "action": "Display error message in ERRMSG field with bright, reverse video, and set attribute (FSET)",
      "citation": [
        284
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [
    {
      "command": "SEND MAP",
      "resource": "COPAU1A",
      "purpose": "Display authorization details screen to user",
      "citation": 26
    },
    {
      "command": "RECEIVE MAP",
      "resource": "COPAU1A",
      "purpose": "Capture function key presses for actions like F3=Back, F5=Mark/Remove Fraud, F8=Next Auth",
      "citation": 26
    }
  ],
  "open_questions": [
    {
      "question": "Which CICS COBOL program(s) include and use this BMS mapset?",
      "context": "BMS file does not reference calling programs; must be determined from including source code",
      "suggestion": "Search COBOL programs for COPY COPAU01 or references to COPAU01/COPAU1A"
    },
    {
      "question": "What are the exact symbolic map field names and layouts in the generated copybook?",
      "context": "BMS defines physical map; symbolic map details inferred from field names but not explicitly coded here",
      "suggestion": "Compile BMS to generate .cpy and analyze"
    }
  ]
}