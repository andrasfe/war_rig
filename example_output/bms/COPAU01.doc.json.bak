{
  "header": {
    "program_id": "COPAU01",
    "file_name": "COPAU01.bms",
    "file_type": "BMS",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-25T18:36:43.666529",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "BMS mapset COPAU01 defines the COPAU1A map for a CICS display-only screen titled 'Pending Authorization Details'. It presents transaction header (Tran, Date, Prog, Time), authorization details (Card #, Auth Date/Time, Resp, Reason, Code, Amount, POS Entry Mode, Source, MCC Code, Card Exp Date, Auth Type, Tran Id, Match/Fraud Status), and merchant details (Name, ID, City, State, Zip). Navigation aids include F3=Back, F5=Mark/Remove Fraud, F8=Next Auth, with error message area.",
    "business_context": "Credit card authorization review screen in a fraud detection or pending auth workflow, displaying details for operator review.",
    "program_type": "ONLINE_CICS",
    "citations": [
      2,
      19,
      26,
      77,
      292
    ]
  },
  "inputs": [],
  "outputs": [
    {
      "name": "COPAU1A",
      "io_type": "CICS_MAP",
      "description": "Display-only CICS map populated by application program with authorization and merchant details for terminal output.",
      "copybook": null,
      "citation": [
        26
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [],
    "writes_to": [
      {
        "destination": "COPAU1A",
        "fields_written": [
          "TRNNAME",
          "CARDNUM",
          "AUTHDT",
          "AUTHTM",
          "AUTHRSP",
          "AUTHRSN",
          "AUTHCD",
          "AUTHAMT",
          "POSEMD",
          "AUTHSRC",
          "MCCCD",
          "CRDEXP",
          "AUTHTYP",
          "TRNID",
          "AUTHMTC",
          "AUTHFRD",
          "MERNAME",
          "MERID",
          "MERCITY",
          "MERST",
          "MERZIP"
        ],
        "citation": [
          34,
          85,
          94,
          104,
          114,
          124,
          134,
          144,
          154,
          164,
          174,
          184,
          194,
          204,
          214,
          224,
          239,
          249,
          259,
          269,
          279
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [],
  "error_handling": [
    {
      "condition": "ERRMSG field available",
      "action": "Displays error messages in bright red at screen position (23,1)",
      "citation": [
        284
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [
    {
      "command": "DFHMSD MODE=INOUT",
      "resource": "COPAU01",
      "purpose": "Defines mapset for bidirectional but effectively output-only screen usage in CICS",
      "citation": 19
    },
    {
      "command": "DFHMSD TYPE=FINAL",
      "resource": "COPAU1A",
      "purpose": "Terminates map definition",
      "citation": 293
    }
  ],
  "open_questions": [
    {
      "question": "What is the associated CICS COBOL program that uses this BMS map?",
      "context": "BMS file does not reference calling program",
      "suggestion": "Search JCL or CICS transaction definitions for COPAU01 or COPAU1A usage"
    },
    {
      "question": "What transaction ID invokes this screen?",
      "context": "Not specified in BMS source",
      "suggestion": "Check CICS PCT or application documentation"
    },
    {
      "question": "Default ATTRB behavior for unlabeled field at lines 229-233?",
      "context": "No ATTRB specified; may default to transmittable on input despite INITIAL",
      "suggestion": "Consult CICS BMS reference manual for DFHMDF defaults"
    }
  ]
}