{
  "header": {
    "program_id": "COPAU00",
    "file_name": "bms/COPAU00.bms",
    "file_type": "BMS",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-24T03:59:25.688050",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "Defines the COPAU00 mapset and COPAU0A map for the Pending Authorization Screen in a CICS CardDemo application. The screen displays customer account details, credit/cash limits and balances, approval/decline counts, and a list of up to 5 pending transactions with selection options. Users can input an Account ID to search and select a transaction (S) for details.",
    "business_context": "Credit card authorization pending review process, allowing tellers or operators to view and select pending authorizations by account.",
    "program_type": "ONLINE_CICS",
    "citations": [
      1,
      2,
      19,
      78
    ]
  },
  "inputs": [
    {
      "name": "ACCTID",
      "io_type": "CICS_MAP",
      "description": "Account ID used to search for pending authorizations",
      "copybook": null,
      "citation": [
        84
      ]
    },
    {
      "name": "SEL0001",
      "io_type": "CICS_MAP",
      "description": "Selection field for first pending transaction",
      "copybook": null,
      "citation": [
        277
      ]
    },
    {
      "name": "SEL0002",
      "io_type": "CICS_MAP",
      "description": "Selection field for second pending transaction",
      "copybook": null,
      "citation": [
        321
      ]
    },
    {
      "name": "SEL0003",
      "io_type": "CICS_MAP",
      "description": "Selection field for third pending transaction",
      "copybook": null,
      "citation": [
        365
      ]
    },
    {
      "name": "SEL0004",
      "io_type": "CICS_MAP",
      "description": "Selection field for fourth pending transaction",
      "copybook": null,
      "citation": [
        409
      ]
    },
    {
      "name": "SEL0005",
      "io_type": "CICS_MAP",
      "description": "Selection field for fifth pending transaction",
      "copybook": null,
      "citation": [
        488
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU0A",
      "io_type": "CICS_MAP",
      "description": "Full screen map displaying headers, customer info, limits, balances, counts, and transaction list",
      "copybook": null,
      "citation": [
        26
      ]
    },
    {
      "name": "CNAME",
      "io_type": "CICS_MAP",
      "description": "Customer name display",
      "copybook": null,
      "citation": [
        96
      ]
    },
    {
      "name": "CUSTID",
      "io_type": "CICS_MAP",
      "description": "Customer ID display",
      "copybook": null,
      "citation": [
        103
      ]
    },
    {
      "name": "ERRMSG",
      "io_type": "CICS_MAP",
      "description": "Error message display area",
      "copybook": null,
      "citation": [
        503
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "User input accepted only in unprotected fields (UNPROT attribute); all other fields are display-only with ASKIP attribute.",
      "logic_summary": "Field input capability controlled by DFHMDF ATTRB=(FSET,NORM,UNPROT) for inputs vs ATTRB=(ASKIP,NORM) or similar for outputs.",
      "conditions": [
        "ATTRB=(FSET,NORM,UNPROT)",
        "ATTRB=(ASKIP,NORM)"
      ],
      "citation": [
        34,
        84,
        277,
        321,
        365,
        409,
        488
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Selection fields (SEL0001-SEL0005) allow user to choose transaction for details view by typing 'S'.",
      "logic_summary": "Unprotected fields with underline highlight for user selection.",
      "conditions": [
        "Type 'S' to View Authorization details",
        "FSET,NORM,UNPROT,HILIGHT=UNDERLINE"
      ],
      "citation": [
        277,
        321,
        365,
        409,
        488,
        500
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "COPAU00",
      "summary": null,
      "purpose": "[Citadel] Paragraph identified by static analysis",
      "called_by": [],
      "calls": [],
      "citation": [
        19,
        19
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Artifact 'COPAU00' (map) is never referenced by any other artifact in the dependency graph",
      "metadata": null
    },
    {
      "paragraph_name": "COPAU0A",
      "summary": null,
      "purpose": "[Citadel] Paragraph identified by static analysis",
      "called_by": [],
      "calls": [],
      "citation": [
        26,
        26
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Screen/Map 'COPAU0A' is never sent to or received from by any program",
      "metadata": {
        "body_chunks": 5
      }
    }
  ],
  "error_handling": [
    {
      "condition": "Application errors or invalid input",
      "action": "Display message in ERRMSG field (red, bright, FSET)",
      "citation": [
        503
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "Which CICS COBOL program(s) use this BMS mapset?",
      "context": "BMS file defines map but does not reference calling programs.",
      "suggestion": "Search for CICS programs with SEND MAP('COPAU00') or similar."
    },
    {
      "question": "What are the exact data structures (copybooks) mapped to these fields in the using program?",
      "context": "BMS defines fields but not underlying data records.",
      "suggestion": "Examine LINKAGE SECTION or WORKING-STORAGE in associated COBOL programs."
    }
  ],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "COPAU00",
      "artifact_type": "map",
      "line": 19,
      "reason": "Artifact 'COPAU00' (map) is never referenced by any other artifact in the dependency graph"
    },
    {
      "name": "COPAU0A",
      "artifact_type": "screen",
      "line": 26,
      "reason": "Screen/Map 'COPAU0A' is never sent to or received from by any program"
    }
  ],
  "call_semantics": [],
  "flow_diagram": null
}