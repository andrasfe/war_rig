{
  "header": {
    "program_id": "COPAUS0C",
    "file_name": "cbl/COPAUS0C.cbl",
    "file_type": "COBOL",
    "analyzed_by": "Scribe",
    "analyzed_at": "2026-02-25T15:36:04.043458",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "COPAUS0C is a CICS transaction program (CPVS) that displays a paginated summary list of up to 5 pending authorization transactions for a specified account ID using BMS map COPAU0A. It supports user interactions via ENTER to validate account/selection and XCTL to details, PF7/PF8 for backward/forward paging through IMS PAUTDTL1 segments, PF3 to return to menu. Authorization data is fetched from IMS database using DLI GNP calls, formatted, and displayed with status, date, time, amount.",
    "business_context": "CardDemo application Authorization Module - provides summary view of authorization messages for accounts.",
    "program_type": "ONLINE_CICS",
    "citations": [
      1,
      26,
      225
    ]
  },
  "inputs": [
    {
      "name": "COPAU0AI",
      "io_type": "CICS_MAP",
      "description": "BMS input map containing user-entered account ID (ACCTIDI), selection fields (SEL0001I-SEL0005I), and other screen inputs",
      "copybook": "COPAU00",
      "citation": [
        1022
      ]
    },
    {
      "name": "DFHCOMMAREA",
      "io_type": "CICS_COMMAREA",
      "description": "CARDDEMO-COMMAREA holding persistent state like CDEMO-ACCT-ID, page number, previous auth keys (CDEMO-CPVS-PAUKEY-PREV-PG), selected auth, next page flag",
      "copybook": "COCOM01Y",
      "citation": [
        230,
        355
      ]
    },
    {
      "name": "PENDING-AUTH-DETAILS",
      "io_type": "IMS_SEGMENT",
      "description": "IMS database child segment PAUTDTL1 containing pending auth details like key, amount, date, time, resp code, transaction ID, type, match status",
      "copybook": "CIPAUDTY",
      "citation": [
        605,
        645
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU0AO",
      "io_type": "CICS_MAP",
      "description": "BMS output map populated with header (titles, program name, date, tran id), auth list details (TRNID*O, PDATE*O etc implied), error message (ERRMSGO), account id display",
      "copybook": "COPAU00",
      "citation": [
        985,
        995
      ]
    },
    {
      "name": "CARDDEMO-COMMAREA",
      "io_type": "CICS_COMMAREA",
      "description": "Updated with current page num, auth keys for paging, selected auth key/flag, acct id, context flags before RETURN",
      "copybook": "COCOM01Y",
      "citation": [
        352
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "COPAUS1C",
      "call_type": "CICS_XCTL",
      "purpose": "Transfer to authorization details display for user-selected summary line (when 'S' entered)",
      "parameters": [
        "CARDDEMO-COMMAREA"
      ],
      "citation": 430
    },
    {
      "program_name": "COMEN01C",
      "call_type": "CICS_XCTL",
      "purpose": "Return to main menu screen on PF3",
      "parameters": [
        "CARDDEMO-COMMAREA"
      ],
      "citation": 365
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [
      "CPVS"
    ],
    "linkage_section": [
      "LK-COMMAREA",
      "DFHCOMMAREA"
    ]
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Account ID entry must be numeric and non-blank",
      "logic_summary": "Validated on ENTER; invalid sets error flag/message and clears display field",
      "conditions": [
        "ACCTIDI OF COPAU0AI = SPACES OR LOW-VALUES",
        "ACCTIDI OF COPAU0AI IS NOT NUMERIC"
      ],
      "citation": [
        360,
        370
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Line selection must be 'S' or 's' to invoke details program",
      "logic_summary": "Evaluates SEL0001I-SEL0005I; matches to CDEMO-CPVS-AUTH-KEYS index; invalid sets message",
      "conditions": [
        "CDEMO-CPVS-PAU-SEL-FLG = 'S' or 's'"
      ],
      "citation": [
        380,
        395
      ]
    },
    {
      "rule_id": "BR003",
      "description": "PF7 backward only if current page > 1",
      "logic_summary": "Decrements page num, repositions using saved prev key, error msg if at top",
      "conditions": [
        "CDEMO-CPVS-PAGE-NUM > 1"
      ],
      "citation": [
        480
      ]
    },
    {
      "rule_id": "BR004",
      "description": "Approval status derived from response code '00' = Approved 'A' else Declined 'D'",
      "logic_summary": "Set in POPULATE-AUTH-LIST based on PA-AUTH-RESP-CODE",
      "conditions": [
        "PA-AUTH-RESP-CODE = '00'"
      ],
      "citation": [
        795
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "PENDING-AUTH-DETAILS",
        "fields_used": [
          "PA-AUTHORIZATION-KEY",
          "PA-APPROVED-AMT",
          "PA-AUTH-ORIG-TIME",
          "PA-AUTH-ORIG-DATE",
          "PA-AUTH-RESP-CODE",
          "PA-TRANSACTION-ID",
          "PA-AUTH-TYPE",
          "PA-MATCH-STATUS"
        ],
        "citation": [
          770
        ]
      },
      {
        "source": "COPAU0AI",
        "fields_used": [
          "ACCTIDI",
          "SEL0001I",
          "SEL0002I",
          "SEL0003I",
          "SEL0004I",
          "SEL0005I"
        ],
        "citation": [
          1022
        ]
      },
      {
        "source": "CARDDEMO-COMMAREA",
        "fields_used": [
          "CDEMO-ACCT-ID",
          "CDEMO-CPVS-PAGE-NUM",
          "CDEMO-CPVS-PAUKEY-PREV-PG",
          "CDEMO-CPVS-PAUKEY-LAST",
          "CDEMO-CPVS-AUTH-KEYS",
          "CDEMO-CPVS-NEXT-PAGE-FLG"
        ],
        "citation": [
          230
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "COPAU0AO",
        "fields_written": [
          "ERRMSGO",
          "TITLE01O",
          "TITLE02O",
          "TRNNAMEO",
          "PGMNAMEO",
          "CURDATEO",
          "ACCTIDO"
        ],
        "citation": [
          990,
          1040
        ]
      },
      {
        "destination": "COPAU0AI",
        "fields_written": [
          "TRNID01I",
          "PDATE01I",
          "PTIME01I",
          "PTYPE01I",
          "PAPRV01I",
          "PSTAT01I",
          "PAMT001I",
          "SEL0001A"
        ],
        "citation": [
          770
        ]
      },
      {
        "destination": "CARDDEMO-COMMAREA",
        "fields_written": [
          "CDEMO-CPVS-PAU-SEL-FLG",
          "CDEMO-CPVS-PAU-SELECTED",
          "CDEMO-CPVS-PAUKEY-PREV-PG",
          "CDEMO-CPVS-PAUKEY-LAST",
          "CDEMO-CPVS-PAGE-NUM",
          "CDEMO-CPVS-AUTH-KEYS",
          "CDEMO-ACCT-ID"
        ],
        "citation": [
          385,
          590
        ]
      }
    ],
    "transforms": [
      {
        "input_field": "PA-AUTH-ORIG-TIME",
        "output_field": "WS-AUTH-TIME",
        "transformation_description": "Reformats 6-digit HHMMSS to 8-char HH:MM:SS by substring moves",
        "citation": [
          775
        ]
      },
      {
        "input_field": "PA-AUTH-ORIG-DATE",
        "output_field": "WS-AUTH-DATE",
        "transformation_description": "Reformats 6-digit YYMMDD to MM/DD/YY using WS-CURDATE-MM-DD-YY after substring to YY MM DD",
        "citation": [
          780
        ]
      },
      {
        "input_field": "PA-APPROVED-AMT",
        "output_field": "WS-AUTH-AMT",
        "transformation_description": "Direct move to display formatted amount",
        "citation": [
          770
        ]
      },
      {
        "input_field": "PA-AUTH-RESP-CODE",
        "output_field": "WS-AUTH-APRV-STAT",
        "transformation_description": "'00' to 'A' (Approved) else 'D' (Declined)",
        "citation": [
          795
        ]
      }
    ]
  },
  "copybooks_used": [
    {
      "copybook_name": "COCOM01Y",
      "purpose": "Defines CARDDEMO-COMMAREA structure including CDEMO-CPVS-INFO for paging and selection state",
      "location": "WORKING_STORAGE",
      "citation": 170
    },
    {
      "copybook_name": "COPAU00",
      "purpose": "BMS mapset defining COPAU0A screen layout with input/output/attr fields for account id, auth list, selections",
      "location": "WORKING_STORAGE",
      "citation": 175
    },
    {
      "copybook_name": "CIPAUDTY",
      "purpose": "IMS segment layout for PENDING-AUTH-DETAILS (PAUTDTL1) with auth key, amt, dates, codes",
      "location": "WORKING_STORAGE",
      "citation": 195
    },
    {
      "copybook_name": "CIPAUSMY",
      "purpose": "IMS root segment layout for PENDING-AUTH-SUMMARY (likely used in missing code)",
      "location": "WORKING_STORAGE",
      "citation": 190
    },
    {
      "copybook_name": "COTTL01Y",
      "purpose": "Screen titles like CCDA-TITLE01/02",
      "location": "WORKING_STORAGE",
      "citation": 180
    },
    {
      "copybook_name": "CSDAT01Y",
      "purpose": "Current date working variables WS-CURDATE-*",
      "location": "WORKING_STORAGE",
      "citation": 182
    },
    {
      "copybook_name": "CSMSG01Y",
      "purpose": "Common messages like CCDA-MSG-INVALID-KEY",
      "location": "WORKING_STORAGE",
      "citation": 184
    },
    {
      "copybook_name": "CVACT01Y",
      "purpose": "Account record layout (likely used in missing account read)",
      "location": "WORKING_STORAGE",
      "citation": 186
    }
  ],
  "paragraphs": [
    {
      "paragraph_name": "MAIN-PARA",
      "summary": null,
      "purpose": "This is the primary orchestration paragraph serving as the program entry point, handling initial load, reentry, and AID-based dispatching for the authorization summary screen. It consumes EIBCALEN, DFHCOMMAREA (on reentry), and map inputs via RECEIVE-PAULST-SCREEN, initializing flags (ERR-FLG, AUTHS-EOF, SEND-ERASE, NEXT-PAGE) and clearing messages/ACCTIDL. On first entry (EIBCALEN=0), initializes commarea with program name, low-values map, performs SEND-PAULST-SCREEN for blank screen. On reentry, loads commarea, sets reenter flag, optionally gathers details from prior ACCT-ID, sends screen; or receives map and dispatches: ENTER to process selection/acct, PF3 to menu via RETURN-TO-PREV-SCREEN, PF7/PF8 paging, other invalid AID error. Produces updated map output via SEND-PAULST-SCREEN and updated commarea for RETURN. Business logic includes reenter state management to distinguish initial vs subsequent calls. No explicit error handling beyond flag/message sets which trigger screen resend. Calls subordinate paragraphs for screen I/O, data gather, key processing, and XCTL return.",
      "called_by": [],
      "calls": [
        "SEND-PAULST-SCREEN",
        "GATHER-DETAILS",
        "RECEIVE-PAULST-SCREEN",
        "PROCESS-ENTER-KEY",
        "RETURN-TO-PREV-SCREEN",
        "PROCESS-PF7-KEY",
        "PROCESS-PF8-KEY"
      ],
      "citation": [
        225,
        352
      ],
      "outgoing_calls": [
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 198
        },
        {
          "target": "GATHER-DETAILS",
          "call_type": "performs",
          "line": 215
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 219
        },
        {
          "target": "RECEIVE-PAULST-SCREEN",
          "call_type": "performs",
          "line": 222
        },
        {
          "target": "PROCESS-ENTER-KEY",
          "call_type": "performs",
          "line": 226
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 234
        },
        {
          "target": "RETURN-TO-PREV-SCREEN",
          "call_type": "performs",
          "line": 237
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 238
        },
        {
          "target": "PROCESS-PF7-KEY",
          "call_type": "performs",
          "line": 240
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 241
        },
        {
          "target": "PROCESS-PF8-KEY",
          "call_type": "performs",
          "line": 243
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 244
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 249
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "PROCESS-ENTER-KEY",
      "summary": null,
      "purpose": "This paragraph processes the ENTER keypress to validate and act on user input for account ID and line selection. It reads ACCTIDI and SEL000*I from COPAU0AI map, checks if ACCTIDI blank/low-values (error 'Please enter Acct Id'), or non-numeric (error 'Acct Id must be Numeric'). If valid, moves to WS-ACCT-ID/CDEMO-ACCT-ID, evaluates which SEL000*I non-blank/low to set CDEMO-CPVS-PAU-SEL-FLG and matching CDEMO-CPVS-AUTH-KEYS(n) to PAU-SELECTED. If valid selection and flag='S'/'s', sets XCTL to COPAUS1C details with context flags; else invalid selection error. Always performs GATHER-DETAILS post-validation to refresh data. Error handling sets WS-ERR-FLG, message, clears ACCTIDL display. No direct calls except GATHER-DETAILS; integrates with main flow for screen resend.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "GATHER-DETAILS"
      ],
      "citation": [
        355,
        455
      ],
      "outgoing_calls": [
        {
          "target": "GATHER-DETAILS",
          "call_type": "performs",
          "line": 337
        },
        {
          "target": "CDEMO-TO-PROGRAM",
          "call_type": "calls",
          "line": 322
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "MAIN-PARA",
          "line": 175,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "MAIN-PARA",
          "line": 157,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 178,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "GATHER-DETAILS",
      "summary": null,
      "purpose": "Prepares data for screen display by resetting ACCTIDL display, page num to 0, and conditionally gathering account details and auth data. Consumes WS-ACCT-ID; if valid (not low-values), performs GATHER-ACCOUNT-DETAILS (missing code, likely sets account flags/validates existence), initializes auth list data, and if PAUT summary seg found, performs PROCESS-PAGE-FORWARD to load first page. Produces updated CDEMO-CPVS-PAGE-NUM=1+, auth keys in commarea for paging. Business logic gates paging on account-linked summary segment existence. Error handling inherited from callees via flags. Calls missing GATHER-ACCOUNT-DETAILS for acct validation and INITIALIZE-AUTH-DATA/PROCESS-PAGE-FORWARD for list population.",
      "called_by": [
        "MAIN-PARA",
        "PROCESS-ENTER-KEY"
      ],
      "calls": [
        "GATHER-ACCOUNT-DETAILS",
        "INITIALIZE-AUTH-DATA",
        "PROCESS-PAGE-FORWARD"
      ],
      "citation": [
        455,
        475
      ],
      "outgoing_calls": [
        {
          "target": "GATHER-ACCOUNT-DETAILS",
          "call_type": "performs",
          "line": 350
        },
        {
          "target": "INITIALIZE-AUTH-DATA",
          "call_type": "performs",
          "line": 352
        },
        {
          "target": "PROCESS-PAGE-FORWARD",
          "call_type": "performs",
          "line": 355
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 215,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-ENTER-KEY",
          "line": 337,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 178,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-ENTER-KEY",
          "line": 261,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "PROCESS-PF7-KEY",
      "summary": null,
      "purpose": "Handles PF7 (previous page) by decrementing CDEMO-CPVS-PAGE-NUM if >1, loading prior auth key from CDEMO-CPVS-PAUKEY-PREV-PG into WS-AUTH-KEY-SAVE, performing GET-AUTH-SUMMARY (missing, likely summary seg read), sets no-erase/next-page-yes, clears ACCTIDL, initializes list, processes forward page. If at page 1, sets top-of-list error message, no-erase. Consumes current page num/keys from commarea; produces repositioned page data, updated page num/keys. Business logic prevents backward from first page. Error handling via message/flag. Calls GET-AUTH-SUMMARY, INITIALIZE-AUTH-DATA, PROCESS-PAGE-FORWARD.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "GET-AUTH-SUMMARY",
        "INITIALIZE-AUTH-DATA",
        "PROCESS-PAGE-FORWARD"
      ],
      "citation": [
        475,
        505
      ],
      "outgoing_calls": [
        {
          "target": "GET-AUTH-SUMMARY",
          "call_type": "performs",
          "line": 370
        },
        {
          "target": "INITIALIZE-AUTH-DATA",
          "call_type": "performs",
          "line": 377
        },
        {
          "target": "PROCESS-PAGE-FORWARD",
          "call_type": "performs",
          "line": 379
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 240,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 178,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "PROCESS-PF8-KEY",
      "summary": null,
      "purpose": "Handles PF8 (next/bottom page) by using CDEMO-CPVS-PAUKEY-LAST or low-values for WS-AUTH-KEY-SAVE, performs GET-AUTH-SUMMARY and REPOSITION-AUTHORIZATIONS to position at last known, clears ACCTIDL, no-erase. If next-page-yes after forward process, initializes and loads next page; else bottom-of-list message. Consumes last key/page flag from commarea; produces updated keys/page flag. Business logic checks for more data post-reposition. Error handling via flags/message. Calls GET-AUTH-SUMMARY, REPOSITION-AUTHORIZATIONS, INITIALIZE-AUTH-DATA, PROCESS-PAGE-FORWARD.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "GET-AUTH-SUMMARY",
        "REPOSITION-AUTHORIZATIONS",
        "INITIALIZE-AUTH-DATA",
        "PROCESS-PAGE-FORWARD"
      ],
      "citation": [
        505,
        545
      ],
      "outgoing_calls": [
        {
          "target": "GET-AUTH-SUMMARY",
          "call_type": "performs",
          "line": 396
        },
        {
          "target": "REPOSITION-AUTHORIZATIONS",
          "call_type": "performs",
          "line": 397
        },
        {
          "target": "INITIALIZE-AUTH-DATA",
          "call_type": "performs",
          "line": 405
        },
        {
          "target": "PROCESS-PAGE-FORWARD",
          "call_type": "performs",
          "line": 407
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "MAIN-PARA",
          "line": 191,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "MAIN-PARA",
          "line": 157,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 178,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "PROCESS-PAGE-FORWARD",
      "summary": null,
      "purpose": "Loads one page (5 auths) of data into map/commarea by looping WS-IDX 1-5 or EOF/error, conditionally repositioning on PF7 first item, calling GET-AUTHORIZATIONS to fetch next PAUTDTL1 seg, populates list if success, tracks last key and prev-pg keys/page num. After loop, peeks one more GET to set NEXT-PAGE-YES/NO. Consumes IMS PCB, current position/key; produces map fields (*I TRNID etc.), commarea keys/page/next-flag. Business logic stops at 5 or EOF/error, builds prev history. Error handling aborts loop on ERR-FLG-ON. Calls REPOSITION-AUTHORIZATIONS (conditional), GET-AUTHORIZATIONS, POPULATE-AUTH-LIST.",
      "called_by": [
        "GATHER-DETAILS",
        "PROCESS-PF7-KEY",
        "PROCESS-PF8-KEY"
      ],
      "calls": [
        "REPOSITION-AUTHORIZATIONS",
        "GET-AUTHORIZATIONS",
        "POPULATE-AUTH-LIST"
      ],
      "citation": [
        545,
        605
      ],
      "outgoing_calls": [
        {
          "target": "REPOSITION-AUTHORIZATIONS",
          "call_type": "performs",
          "line": 426
        },
        {
          "target": "GET-AUTHORIZATIONS",
          "call_type": "performs",
          "line": 428
        },
        {
          "target": "POPULATE-AUTH-LIST",
          "call_type": "performs",
          "line": 431
        },
        {
          "target": "GET-AUTHORIZATIONS",
          "call_type": "performs",
          "line": 446
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-DETAILS",
          "line": 355,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF7-KEY",
          "line": 379,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF8-KEY",
          "line": 407,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-DETAILS",
          "line": 342,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF7-KEY",
          "line": 362,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF8-KEY",
          "line": 388,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "GET-AUTHORIZATIONS",
      "summary": null,
      "purpose": "Performs unqualified IMS DLI GNP call on PAUTDTL1 segment into PENDING-AUTH-DETAILS to fetch next sequential authorization detail. Evaluates IMS-RETURN-CODE (DIBSTAT): OK sets not-EOF, GE/GB sets EOF, others error flag/message with code and SEND screen. Consumes IMS PCB(PAUT-PCB-NUM); produces filled PENDING-AUTH-DETAILS or EOF/error. Business logic for sequential read post-GU/GNP position. Error handling immediate screen send on non-retry codes. No calls.",
      "called_by": [
        "PROCESS-PAGE-FORWARD"
      ],
      "calls": [
        "SEND-PAULST-SCREEN"
      ],
      "citation": [
        605,
        645
      ],
      "outgoing_calls": [
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 483
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PAGE-FORWARD",
          "line": 428,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PAGE-FORWARD",
          "line": 415,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "REPOSITION-AUTHORIZATIONS",
      "summary": null,
      "purpose": "Repositions IMS cursor for paging by setting PA-AUTHORIZATION-KEY = WS-AUTH-KEY-SAVE, DLI GNP with WHERE on PAUT9CTS matching key into PENDING-AUTH-DETAILS. Evaluates IMS-RETURN-CODE: OK not-EOF, GE/GB EOF, others error message/SEND. Consumes WS-AUTH-KEY-SAVE, IMS PCB; produces positioned PENDING-AUTH-DETAILS or EOF/error. Business logic for exact key restart on page change. Error handling sends screen. No calls.",
      "called_by": [
        "PROCESS-PF8-KEY",
        "PROCESS-PAGE-FORWARD"
      ],
      "calls": [
        "SEND-PAULST-SCREEN"
      ],
      "citation": [
        645,
        685
      ],
      "outgoing_calls": [
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 516
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF8-KEY",
          "line": 397,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PAGE-FORWARD",
          "line": 426,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF8-KEY",
          "line": 388,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PAGE-FORWARD",
          "line": 415,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "POPULATE-AUTH-LIST",
      "summary": null,
      "purpose": "Transforms current PENDING-AUTH-DETAILS into nth screen line (WS-IDX 1-5) and commarea CDEMO-CPVS-AUTH-KEYS(n): moves/formats amt/date/time/status, sets *I fields on COPAU0AI (TRNID01I-PAMT005I, PAPRV* etc.), unprotected attr SEL000nA. Tracks LAST key, prev-pg on page 2+. Consumes PENDING-AUTH-DETAILS, WS-IDX; produces map fields, commarea keys. Business logic derives status A/D from resp code '00', formats display. No validation/error, assumes valid seg. No calls.",
      "called_by": [
        "PROCESS-PAGE-FORWARD"
      ],
      "calls": [],
      "citation": [
        685,
        825
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PAGE-FORWARD",
          "line": 431,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PAGE-FORWARD",
          "line": 415,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "INITIALIZE-AUTH-DATA",
      "summary": null,
      "purpose": "Clears auth list display for new page by varying WS-IDX 1-5, setting protected attr DFHBMPRO on SEL000nA, spaces on all *I fields (TRNID01I-PAMT005I etc.) of COPAU0AI. Consumes nothing specific; produces blanked map lines ready for population. Business logic full clear before load. No conditions/error. No calls.",
      "called_by": [
        "GATHER-DETAILS",
        "PROCESS-PF7-KEY",
        "PROCESS-PF8-KEY"
      ],
      "calls": [],
      "citation": [
        825,
        955
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-DETAILS",
          "line": 352,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF7-KEY",
          "line": 377,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF8-KEY",
          "line": 405,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-DETAILS",
          "line": 342,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF7-KEY",
          "line": 362,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF8-KEY",
          "line": 388,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "RETURN-TO-PREV-SCREEN",
      "summary": null,
      "purpose": "Prepares XCTL return to previous program (PF3 handling): defaults CDEMO-TO-PROGRAM to 'COSGN00C' if blank, sets from-tran/program/context=0, XCTL with commarea. Consumes CDEMO-TO-PROGRAM (set to menu); produces control transfer. Business logic menu fallback. No error. No calls.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [],
      "citation": [
        955,
        980
      ],
      "outgoing_calls": [
        {
          "target": "CDEMO-TO-PROGRAM",
          "call_type": "calls",
          "line": 674
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "MAIN-PARA",
          "line": 169,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "MAIN-PARA",
          "line": 157,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 178,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "SEND-PAULST-SCREEN",
      "summary": null,
      "purpose": "Sends BMS map COPAU0A: if PSB scheduled SYNCPOINT first (unschedule), performs POPULATE-HEADER-INFO, moves message to ERRMSGO AO, conditional ERASE on SEND-ERASE-FLAG with CURSOR. Consumes flags, WS-MESSAGE, header data; produces screen display. Business logic commit before send, erase on init/refresh. Error via prior flags. Calls POPULATE-HEADER-INFO.",
      "called_by": [
        "MAIN-PARA",
        "GET-AUTHORIZATIONS",
        "REPOSITION-AUTHORIZATIONS"
      ],
      "calls": [
        "POPULATE-HEADER-INFO"
      ],
      "citation": [
        980,
        1020
      ],
      "outgoing_calls": [
        {
          "target": "POPULATE-HEADER-INFO",
          "call_type": "performs",
          "line": 690
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 198,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GET-AUTHORIZATIONS",
          "line": 483,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "REPOSITION-AUTHORIZATIONS",
          "line": 516,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GETCARDXREF-BYACCT",
          "line": 845,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GETACCTDATA-BYACCT",
          "line": 895,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GETCUSTDATA-BYCUST",
          "line": 946,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GET-AUTH-SUMMARY",
          "line": 995,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "SCHEDULE-PSB",
          "line": 1029,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 178,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GET-AUTHORIZATIONS",
          "line": 458,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "REPOSITION-AUTHORIZATIONS",
          "line": 488,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GETCARDXREF-BYACCT",
          "line": 812,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GETACCTDATA-BYACCT",
          "line": 865,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GETCUSTDATA-BYCUST",
          "line": 915,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GET-AUTH-SUMMARY",
          "line": 966,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "SCHEDULE-PSB",
          "line": 1001,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "RECEIVE-PAULST-SCREEN",
      "summary": null,
      "purpose": "Receives user input from BMS map COPAU0A into COPAU0AI, captures RESP/RESP2 codes (unused). Consumes screen data; produces filled COPAU0AI fields. No logic/error handling on RESP. No calls.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [],
      "citation": [
        1020,
        1035
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 222,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 178,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "POPULATE-HEADER-INFO",
      "summary": null,
      "purpose": "Populates static screen header: current date via FUNCTION CURRENT-DATE parsed to MM/DD/YY, titles from CSMSG, tran/program names. Consumes date func, WS vars; produces TITLE01O/02O, TRNNAMEO, PGMNAMEO, CURDATEO on COPAU0AO. No conditions/error. No calls.",
      "called_by": [
        "SEND-PAULST-SCREEN"
      ],
      "calls": [],
      "citation": [
        1035,
        1060
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "SEND-AUTHVIEW-SCREEN",
          "line": 375,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "SEND-PAULST-SCREEN",
          "line": 690,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "SEND-AUTHVIEW-SCREEN",
          "line": 373,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "SEND-PAULST-SCREEN",
          "line": 681,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "IMS-RETURN-CODE OTHER than '  ', 'FW', 'GE', 'GB'",
      "action": "SET WS-ERR-FLG 'Y', STRING error message with code into WS-MESSAGE, MOVE -1 ACCTIDL, PERFORM SEND-PAULST-SCREEN",
      "citation": [
        620,
        660
      ]
    },
    {
      "condition": "Invalid AID (not ENTER/PF3/PF7/PF8)",
      "action": "SET WS-ERR-FLG 'Y', MOVE invalid key message, MOVE -1 ACCTIDL, SEND screen",
      "citation": [
        340
      ]
    },
    {
      "condition": "ACCTIDI blank/low or non-numeric on ENTER",
      "action": "SET WS-ERR-FLG 'Y', specific message, MOVE -1 ACCTIDL",
      "citation": [
        360,
        370
      ]
    },
    {
      "condition": "Invalid selection flag (!= 'S'/'s')",
      "action": "MOVE invalid selection message, MOVE -1 ACCTIDL",
      "citation": [
        400
      ]
    },
    {
      "condition": "PF7 at page 1 or PF8 at end",
      "action": "MOVE specific boundary message",
      "citation": [
        490,
        600
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [
    {
      "command": "SEND",
      "resource": "MAP('COPAU0A') MAPSET('COPAU00') FROM(COPAU0AO)",
      "purpose": "Display populated screen, ERASE on init/refresh, always CURSOR",
      "citation": 990
    },
    {
      "command": "RECEIVE",
      "resource": "MAP('COPAU0A') MAPSET('COPAU00') INTO(COPAU0AI)",
      "purpose": "Capture user inputs and AID",
      "citation": 1022
    },
    {
      "command": "RETURN",
      "resource": "TRANSID('CPVS') COMMAREA(CARDDEMO-COMMAREA)",
      "purpose": "Keep transaction active with updated state",
      "citation": 352
    },
    {
      "command": "XCTL",
      "resource": "PROGRAM(CDEMO-TO-PROGRAM) COMMAREA(CARDDEMO-COMMAREA)",
      "purpose": "Transfer to details or menu program",
      "citation": 430
    },
    {
      "command": "SYNCPOINT",
      "resource": null,
      "purpose": "Commit IMS positioning/changes before screen send",
      "citation": 985
    }
  ],
  "open_questions": [
    {
      "question": "Definitions/code for paragraphs: GATHER-ACCOUNT-DETAILS, GET-AUTH-SUMMARY, GETACCTDATA-BYACCT, GETCARDXREF-BYACCT, GETCUSTDATA-BYCUST, SCHEDULE-PSB",
      "context": "Source input truncated; these are PERFORMed but not provided, likely handle VSAM/IMS reads for ACCTDAT/CUSTDAT/CARDDAT/CXACAIX/CCXREF files, PSB schedule, summary seg fetch, set FOUND-* flags",
      "suggestion": "Provide full source or those paragraphs' AST"
    },
    {
      "question": "Role/purpose of VSAM-like filenames (ACCTDAT, CUSTDAT etc.) and related flags (WS-ACCT-MASTER-READ-FLG etc.)",
      "context": "No FILE SECTION or VSAM I/O visible; likely in missing GATHER-ACCOUNT-DETAILS",
      "suggestion": "Check for VSAM opens/reads in full code"
    },
    {
      "question": "How PAUT summary segment read (FOUND-PAUT-SMRY-SEG set)?",
      "context": "GNP on details only visible; summary likely GNP on root PAUTSMY1 or similar",
      "suggestion": "Examine GET-AUTH-SUMMARY or GATHER-ACCOUNT"
    },
    {
      "question": "CICS RESP/RESP2 from RECEIVE handling",
      "context": "Captured but not evaluated",
      "suggestion": "Confirms no explicit handling"
    }
  ],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "exec-001",
      "artifact_type": "function",
      "line": 254,
      "reason": "Function 'exec-001' is never called by any other artifact"
    },
    {
      "name": "exec-002",
      "artifact_type": "function",
      "line": 322,
      "reason": "Function 'exec-002' is never called by any other artifact"
    },
    {
      "name": "exec-003",
      "artifact_type": "function",
      "line": 461,
      "reason": "Function 'exec-003' is never called by any other artifact"
    },
    {
      "name": "exec-004",
      "artifact_type": "function",
      "line": 493,
      "reason": "Function 'exec-004' is never called by any other artifact"
    },
    {
      "name": "exec-005",
      "artifact_type": "function",
      "line": 674,
      "reason": "Function 'exec-005' is never called by any other artifact"
    },
    {
      "name": "exec-006",
      "artifact_type": "function",
      "line": 686,
      "reason": "Function 'exec-006' is never called by any other artifact"
    },
    {
      "name": "exec-007",
      "artifact_type": "function",
      "line": 695,
      "reason": "Function 'exec-007' is never called by any other artifact"
    },
    {
      "name": "exec-008",
      "artifact_type": "function",
      "line": 703,
      "reason": "Function 'exec-008' is never called by any other artifact"
    },
    {
      "name": "exec-009",
      "artifact_type": "function",
      "line": 715,
      "reason": "Function 'exec-009' is never called by any other artifact"
    },
    {
      "name": "exec-010",
      "artifact_type": "function",
      "line": 818,
      "reason": "Function 'exec-010' is never called by any other artifact"
    },
    {
      "name": "exec-011",
      "artifact_type": "function",
      "line": 869,
      "reason": "Function 'exec-011' is never called by any other artifact"
    },
    {
      "name": "exec-012",
      "artifact_type": "function",
      "line": 920,
      "reason": "Function 'exec-012' is never called by any other artifact"
    },
    {
      "name": "exec-013",
      "artifact_type": "function",
      "line": 973,
      "reason": "Function 'exec-013' is never called by any other artifact"
    },
    {
      "name": "exec-014",
      "artifact_type": "function",
      "line": 1002,
      "reason": "Function 'exec-014' is never called by any other artifact"
    },
    {
      "name": "exec-015",
      "artifact_type": "function",
      "line": 1008,
      "reason": "Function 'exec-015' is never called by any other artifact"
    },
    {
      "name": "exec-016",
      "artifact_type": "function",
      "line": 1011,
      "reason": "Function 'exec-016' is never called by any other artifact"
    },
    {
      "name": "COPAU0AI",
      "artifact_type": "record_layout",
      "line": 17,
      "reason": "Record layout 'COPAU0AI' is never used by any program"
    },
    {
      "name": "COPAU0AO",
      "artifact_type": "record_layout",
      "line": 391,
      "reason": "Record layout 'COPAU0AO' is never used by any program"
    },
    {
      "name": "DFHCOMMAREA",
      "artifact_type": "record_layout",
      "line": 172,
      "reason": "Record layout 'DFHCOMMAREA' is never used by any program"
    },
    {
      "name": "PENDING-AUTH-DETAILS",
      "artifact_type": "record_layout",
      "line": 164,
      "reason": "Record layout 'PENDING-AUTH-DETAILS' is never used by any program"
    },
    {
      "name": "PENDING-AUTH-SUMMARY",
      "artifact_type": "record_layout",
      "line": 160,
      "reason": "Record layout 'PENDING-AUTH-SUMMARY' is never used by any program"
    },
    {
      "name": "WS-IMS-VARIABLES",
      "artifact_type": "record_layout",
      "line": 74,
      "reason": "Record layout 'WS-IMS-VARIABLES' is never used by any program"
    },
    {
      "name": "WS-SWITCHES",
      "artifact_type": "record_layout",
      "line": 93,
      "reason": "Record layout 'WS-SWITCHES' is never used by any program"
    },
    {
      "name": "WS-VARIABLES",
      "artifact_type": "record_layout",
      "line": 32,
      "reason": "Record layout 'WS-VARIABLES' is never used by any program"
    }
  ],
  "call_semantics": [
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "GATHER-DETAILS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "RECEIVE-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "PROCESS-ENTER-KEY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "RETURN-TO-PREV-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "PROCESS-PF7-KEY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "PROCESS-PF8-KEY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-ENTER-KEY",
      "callee": "GATHER-DETAILS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-DETAILS",
      "callee": "GATHER-ACCOUNT-DETAILS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-DETAILS",
      "callee": "INITIALIZE-AUTH-DATA",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-DETAILS",
      "callee": "PROCESS-PAGE-FORWARD",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF7-KEY",
      "callee": "GET-AUTH-SUMMARY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF7-KEY",
      "callee": "INITIALIZE-AUTH-DATA",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF7-KEY",
      "callee": "PROCESS-PAGE-FORWARD",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF8-KEY",
      "callee": "GET-AUTH-SUMMARY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF8-KEY",
      "callee": "REPOSITION-AUTHORIZATIONS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF8-KEY",
      "callee": "INITIALIZE-AUTH-DATA",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF8-KEY",
      "callee": "PROCESS-PAGE-FORWARD",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PAGE-FORWARD",
      "callee": "REPOSITION-AUTHORIZATIONS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PAGE-FORWARD",
      "callee": "GET-AUTHORIZATIONS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PAGE-FORWARD",
      "callee": "POPULATE-AUTH-LIST",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PAGE-FORWARD",
      "callee": "GET-AUTHORIZATIONS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GET-AUTHORIZATIONS",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "REPOSITION-AUTHORIZATIONS",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "SEND-PAULST-SCREEN",
      "callee": "POPULATE-HEADER-INFO",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-ACCOUNT-DETAILS",
      "callee": "GETCARDXREF-BYACCT",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-ACCOUNT-DETAILS",
      "callee": "GETACCTDATA-BYACCT",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-ACCOUNT-DETAILS",
      "callee": "GETCUSTDATA-BYCUST",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-ACCOUNT-DETAILS",
      "callee": "GET-AUTH-SUMMARY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETCARDXREF-BYACCT",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETCARDXREF-BYACCT",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETACCTDATA-BYACCT",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETACCTDATA-BYACCT",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETCUSTDATA-BYCUST",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETCUSTDATA-BYCUST",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GET-AUTH-SUMMARY",
      "callee": "SCHEDULE-PSB",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GET-AUTH-SUMMARY",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "SCHEDULE-PSB",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    }
  ],
  "flow_diagram": "flowchart TD\n    %% Title: COPAUS0C.cbl\n    GATHER_ACCOUNT_DETAILS[\"GATHER-ACCOUNT-DETAILS\"]\n    GET_AUTH_SUMMARY[\"GET-AUTH-SUMMARY\"]\n    GETACCTDATA_BYACCT[\"GETACCTDATA-BYACCT\"]\n    GETCARDXREF_BYACCT[\"GETCARDXREF-BYACCT\"]\n    GETCUSTDATA_BYCUST[\"GETCUSTDATA-BYCUST\"]\n    GATHER_DETAILS[\"GATHER-DETAILS\"]\n    INITIALIZE_AUTH_DATA[\"INITIALIZE-AUTH-DATA\"]\n    PROCESS_PAGE_FORWARD[\"PROCESS-PAGE-FORWARD\"]\n    SCHEDULE_PSB[\"SCHEDULE-PSB\"]\n    SEND_PAULST_SCREEN[\"SEND-PAULST-SCREEN\"]\n    GET_AUTHORIZATIONS[\"GET-AUTHORIZATIONS\"]\n    WS_ACCTFILENAME__ext[(\"WS-ACCTFILENAME\")]\n    WS_CARDXREFNAME_ACCT_PATH__ext[(\"WS-CARDXREFNAME-ACCT-PATH\")]\n    WS_CUSTFILENAME__ext[(\"WS-CUSTFILENAME\")]\n    MAIN_PARA[\"MAIN-PARA\"]\n    PROCESS_ENTER_KEY[\"PROCESS-ENTER-KEY\"]\n    PROCESS_PF7_KEY[\"PROCESS-PF7-KEY\"]\n    PROCESS_PF8_KEY[\"PROCESS-PF8-KEY\"]\n    RECEIVE_PAULST_SCREEN[\"RECEIVE-PAULST-SCREEN\"]\n    RETURN_TO_PREV_SCREEN[\"RETURN-TO-PREV-SCREEN\"]\n    POPULATE_AUTH_LIST[\"POPULATE-AUTH-LIST\"]\n    POPULATE_HEADER_INFO[\"POPULATE-HEADER-INFO\"]\n    CDEMO_TO_PROGRAM__ext([\"CDEMO-TO-PROGRAM\"])\n    REPOSITION_AUTHORIZATIONS[\"REPOSITION-AUTHORIZATIONS\"]\n    GATHER_ACCOUNT_DETAILS --> GET_AUTH_SUMMARY\n    GATHER_ACCOUNT_DETAILS --> GETACCTDATA_BYACCT\n    GATHER_ACCOUNT_DETAILS --> GETCARDXREF_BYACCT\n    GATHER_ACCOUNT_DETAILS --> GETCUSTDATA_BYCUST\n    GATHER_DETAILS --> GATHER_ACCOUNT_DETAILS\n    GATHER_DETAILS --> INITIALIZE_AUTH_DATA\n    GATHER_DETAILS --> PROCESS_PAGE_FORWARD\n    GET_AUTH_SUMMARY --> SCHEDULE_PSB\n    GET_AUTH_SUMMARY --> SEND_PAULST_SCREEN\n    GET_AUTHORIZATIONS --> SEND_PAULST_SCREEN\n    GETACCTDATA_BYACCT --> SEND_PAULST_SCREEN\n    GETACCTDATA_BYACCT -.->|reads| WS_ACCTFILENAME__ext\n    GETCARDXREF_BYACCT --> SEND_PAULST_SCREEN\n    GETCARDXREF_BYACCT -.->|reads| WS_CARDXREFNAME_ACCT_PATH__ext\n    GETCUSTDATA_BYCUST --> SEND_PAULST_SCREEN\n    GETCUSTDATA_BYCUST -.->|reads| WS_CUSTFILENAME__ext\n    MAIN_PARA --> GATHER_DETAILS\n    MAIN_PARA --> PROCESS_ENTER_KEY\n    MAIN_PARA --> PROCESS_PF7_KEY\n    MAIN_PARA --> PROCESS_PF8_KEY\n    MAIN_PARA --> RECEIVE_PAULST_SCREEN\n    MAIN_PARA --> RETURN_TO_PREV_SCREEN\n    MAIN_PARA --> SEND_PAULST_SCREEN\n    PROCESS_ENTER_KEY --> GATHER_DETAILS\n    PROCESS_ENTER_KEY -.->|calls| CDEMO_TO_PROGRAM__ext\n    PROCESS_PAGE_FORWARD --> GET_AUTHORIZATIONS\n    PROCESS_PAGE_FORWARD --> POPULATE_AUTH_LIST\n    PROCESS_PAGE_FORWARD --> REPOSITION_AUTHORIZATIONS\n    PROCESS_PF7_KEY --> GET_AUTH_SUMMARY\n    PROCESS_PF7_KEY --> INITIALIZE_AUTH_DATA\n    PROCESS_PF7_KEY --> PROCESS_PAGE_FORWARD\n    PROCESS_PF8_KEY --> GET_AUTH_SUMMARY\n    PROCESS_PF8_KEY --> INITIALIZE_AUTH_DATA\n    PROCESS_PF8_KEY --> PROCESS_PAGE_FORWARD\n    PROCESS_PF8_KEY --> REPOSITION_AUTHORIZATIONS\n    REPOSITION_AUTHORIZATIONS --> SEND_PAULST_SCREEN\n    RETURN_TO_PREV_SCREEN -.->|calls| CDEMO_TO_PROGRAM__ext\n    SCHEDULE_PSB --> SEND_PAULST_SCREEN\n    SEND_PAULST_SCREEN --> POPULATE_HEADER_INFO"
}