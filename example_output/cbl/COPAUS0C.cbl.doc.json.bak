{
  "header": {
    "program_id": "COPAUS0C",
    "file_name": "cbl/COPAUS0C.cbl",
    "file_type": "COBOL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-24T04:02:40.883365",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "COPAUS0C is a CICS online program that provides a paginated summary view of pending authorization messages for a specified account ID in the CardDemo authorization module. It retrieves account, customer, and card cross-reference details from VSAM files, fetches IMS summary and detail segments for authorizations, and displays a list of up to 5 authorizations per page with navigation via PF7 (previous) and PF8 (next). Users can select an authorization with 'S' to XCTL to detail view COPAUS1C.",
    "business_context": "Serves the CardDemo application for viewing authorization summaries to support credit card transaction authorization review and decision-making.",
    "program_type": "ONLINE_CICS",
    "citations": [
      2,
      3,
      4,
      5,
      36,
      178,
      337
    ]
  },
  "inputs": [
    {
      "name": "CARDDEMO-COMMAREA",
      "io_type": "CICS_COMMAREA",
      "description": "Common area containing account ID, program context, transaction details, and pagination keys for authorizations",
      "copybook": "COCOM01Y",
      "citation": [
        116,
        172,
        200
      ]
    },
    {
      "name": "COPAU0AI",
      "io_type": "CICS_MAP",
      "description": "Input map fields for account ID entry (ACCTIDI), selection fields (SEL0001I-SEL0005I), and other screen inputs",
      "copybook": "COPAU00",
      "citation": [
        129,
        715
      ]
    },
    {
      "name": "CXACAIX",
      "io_type": "FILE_VSAM",
      "description": "Card cross-reference file accessed by account ID to get customer ID and card number",
      "copybook": "CVACT03Y",
      "citation": [
        41,
        817
      ]
    },
    {
      "name": "ACCTDAT",
      "io_type": "FILE_VSAM",
      "description": "Account master file read by account ID for credit limits and status",
      "copybook": "CVACT01Y",
      "citation": [
        38,
        868
      ]
    },
    {
      "name": "CUSTDAT",
      "io_type": "FILE_VSAM",
      "description": "Customer master file read by customer ID for name, address, phone",
      "copybook": "CVCUS01Y",
      "citation": [
        39,
        918
      ]
    },
    {
      "name": "PAUTSUM0",
      "io_type": "IMS_SEGMENT",
      "description": "Pending authorization summary root segment qualified by account ID containing counts and balances",
      "copybook": "CIPAUSMY",
      "citation": [
        159,
        971
      ]
    },
    {
      "name": "PAUTDTL1",
      "io_type": "IMS_SEGMENT",
      "description": "Pending authorization details child segments for list population with GNP calls",
      "copybook": "CIPAUDTY",
      "citation": [
        163,
        461
      ]
    }
  ],
  "outputs": [
    {
      "name": "COPAU0AO",
      "io_type": "CICS_MAP",
      "description": "Output map populated with header info, account/customer details, auth summary counts, and paginated auth list",
      "copybook": "COPAU00",
      "citation": [
        129,
        692
      ]
    },
    {
      "name": "CARDDEMO-COMMAREA",
      "io_type": "CICS_COMMAREA",
      "description": "Updated commarea with pagination keys, selected auth key, page num for return or XCTL",
      "copybook": "COCOM01Y",
      "citation": [
        116,
        256
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "COPAUS1C",
      "call_type": "CICS_XCTL",
      "purpose": "Transfer control to authorization details program when user selects an auth with 'S'",
      "parameters": [
        "CARDDEMO-COMMAREA"
      ],
      "citation": 323
    },
    {
      "program_name": "COMEN01C",
      "call_type": "CICS_XCTL",
      "purpose": "Return to menu screen on PF3 via CDEMO-TO-PROGRAM set to WS-PGM-MENU",
      "parameters": [
        "CARDDEMO-COMMAREA"
      ],
      "citation": 236
    },
    {
      "program_name": "COSGN00C",
      "call_type": "CICS_XCTL",
      "purpose": "Fallback to signon screen if no previous program set on return",
      "parameters": [
        "CARDDEMO-COMMAREA"
      ],
      "citation": 669
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [
      "CPVS"
    ],
    "linkage_section": [
      "DFHCOMMAREA"
    ]
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Account ID must be numeric and non-blank to fetch details; otherwise display error message",
      "logic_summary": "Validates ACCTIDI OF COPAU0AI IS NUMERIC and not SPACES/LOW-VALUES",
      "conditions": [
        "IF ACCTIDI = SPACES OR LOW-VALUES",
        "IF ACCTIDI IS NOT NUMERIC"
      ],
      "citation": [
        264,
        273
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Authorization selection must be 'S' or 's' to XCTL to details; invalid shows error",
      "logic_summary": "EVALUATE CDEMO-CPVS-PAU-SEL-FLG WHEN 'S' WHEN 's'",
      "conditions": [
        "CDEMO-CPVS-PAU-SEL-FLG = 'S'",
        "CDEMO-CPVS-PAU-SEL-FLG = 's'"
      ],
      "citation": [
        313,
        316
      ]
    },
    {
      "rule_id": "BR003",
      "description": "Approval status 'A' if PA-AUTH-RESP-CODE = '00', else 'D' for display",
      "logic_summary": "IF PA-AUTH-RESP-CODE = '00' MOVE 'A' ELSE 'D'",
      "conditions": [
        "PA-AUTH-RESP-CODE = '00'"
      ],
      "citation": [
        536
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "CXACAIX",
        "fields_used": [
          "XREF-CUST-ID",
          "XREF-CARD-NUM"
        ],
        "citation": [
          830
        ]
      },
      {
        "source": "ACCTDAT",
        "fields_used": [
          "ACCT-CREDIT-LIMIT",
          "ACCT-CASH-CREDIT-LIMIT"
        ],
        "citation": [
          781,
          783
        ]
      },
      {
        "source": "CUSTDAT",
        "fields_used": [
          "CUST-ID",
          "CUST-FIRST-NAME",
          "CUST-LAST-NAME",
          "CUST-ADDR-LINE-*",
          "CUST-PHONE-NUM-1"
        ],
        "citation": [
          757,
          780
        ]
      },
      {
        "source": "PAUTSUM0",
        "fields_used": [
          "PA-APPROVED-AUTH-CNT",
          "PA-DECLINED-AUTH-CNT",
          "PA-CREDIT-BALANCE"
        ],
        "citation": [
          788
        ]
      },
      {
        "source": "PAUTDTL1",
        "fields_used": [
          "PA-AUTHORIZATION-KEY",
          "PA-TRANSACTION-ID",
          "PA-AUTH-ORIG-DATE",
          "PA-AUTH-ORIG-TIME",
          "PA-AUTH-TYPE",
          "PA-APPROVED-AMT",
          "PA-MATCH-STATUS"
        ],
        "citation": [
          434,
          547
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "COPAU0AO",
        "fields_written": [
          "ACCTIDO",
          "CNAMEO",
          "ADDR001O",
          "ADDR002O",
          "PHONE1O",
          "CREDLIMO",
          "CASHLIMO",
          "APPRCNTO",
          "DECLCNTO",
          "CREDBALO",
          "CASHBALO",
          "APPRAMTO",
          "DECLAMTO",
          "TRNID*1I",
          "PDATE*1I"
        ],
        "citation": [
          757,
          778
        ]
      },
      {
        "destination": "CDEMO-CPVS-AUTH-KEYS",
        "fields_written": [
          "PA-AUTHORIZATION-KEY"
        ],
        "citation": [
          544
        ]
      }
    ],
    "transforms": [
      {
        "input_field": "PA-AUTH-ORIG-TIME",
        "output_field": "WS-AUTH-TIME",
        "transformation_description": "Reformats HHMMSS to HH:MM:SS by substring moves",
        "citation": [
          527
        ]
      },
      {
        "input_field": "PA-AUTH-ORIG-DATE",
        "output_field": "WS-AUTH-DATE",
        "transformation_description": "Reformats YYMMDD to MM/DD/YY using WS-CURDATE-MM-DD-YY",
        "citation": [
          531
        ]
      },
      {
        "input_field": "CUST-FIRST-NAME CUST-MIDDLE-NAME CUST-LAST-NAME",
        "output_field": "CNAMEO",
        "transformation_description": "Concatenates first middle-initial last with spaces using STRING",
        "citation": [
          758
        ]
      }
    ]
  },
  "copybooks_used": [
    {
      "copybook_name": "COCOM01Y",
      "purpose": "Defines CARDDEMO-COMMAREA with common fields like CDEMO-ACCT-ID, CDEMO-CPVS-* for pagination and selection",
      "location": "WORKING_STORAGE",
      "citation": 116
    },
    {
      "copybook_name": "COPAU00",
      "purpose": "BMS mapset for COPAU0A input/output maps with fields like ACCTIDI, SEL0001I, TRNID01O etc.",
      "location": "WORKING_STORAGE",
      "citation": 129
    },
    {
      "copybook_name": "CIPAUSMY",
      "purpose": "IMS pending auth summary segment layout PENDING-AUTH-SUMMARY",
      "location": "WORKING_STORAGE",
      "citation": 161
    },
    {
      "copybook_name": "CIPAUDTY",
      "purpose": "IMS pending auth details segment layout PENDING-AUTH-DETAILS",
      "location": "WORKING_STORAGE",
      "citation": 165
    },
    {
      "copybook_name": "CVACT03Y",
      "purpose": "Card XREF record layout CARD-XREF-RECORD",
      "location": "WORKING_STORAGE",
      "citation": 150
    },
    {
      "copybook_name": "CVACT01Y",
      "purpose": "Account record layout ACCOUNT-RECORD",
      "location": "WORKING_STORAGE",
      "citation": 144
    },
    {
      "copybook_name": "CVCUS01Y",
      "purpose": "Customer record layout CUSTOMER-RECORD",
      "location": "WORKING_STORAGE",
      "citation": 153
    }
  ],
  "paragraphs": [
    {
      "paragraph_name": "MAIN-PARA",
      "summary": null,
      "purpose": "This is the primary entry point and orchestration paragraph that initializes flags, handles first-time entry vs reentry via commarea, receives map data if applicable, and dispatches to key processing based on AID (ENTER, PF3, PF7, PF8). It consumes EIBCALEN, DFHCOMMAREA, and map inputs COPAU0AI, reading account ID and selections. It produces updated commarea CARDDEMO-COMMAREA and screen output via SEND-PAULST-SCREEN. Business logic evaluates EIBAID to route: ENTER processes input and regathers details, PF3 returns to menu, PF7/PF8 handle pagination, invalid AID sets error. Errors set WS-ERR-FLG and display messages. It calls GATHER-DETAILS for data refresh, PROCESS-*-KEY for actions, RECEIVE-PAULST-SCREEN/SEND-PAULST-SCREEN for I/O, and finally CICS RETURN with TRANSID CPVS. On initial call (EIBCALEN=0), initializes and sends first screen.",
      "called_by": [],
      "calls": [
        "GATHER-DETAILS",
        "PROCESS-ENTER-KEY",
        "RECEIVE-PAULST-SCREEN",
        "SEND-PAULST-SCREEN"
      ],
      "citation": [
        178,
        257
      ],
      "outgoing_calls": [
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 198
        },
        {
          "target": "GATHER-DETAILS",
          "call_type": "performs",
          "line": 215
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 219
        },
        {
          "target": "RECEIVE-PAULST-SCREEN",
          "call_type": "performs",
          "line": 222
        },
        {
          "target": "PROCESS-ENTER-KEY",
          "call_type": "performs",
          "line": 226
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 234
        },
        {
          "target": "RETURN-TO-PREV-SCREEN",
          "call_type": "performs",
          "line": 237
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 238
        },
        {
          "target": "PROCESS-PF7-KEY",
          "call_type": "performs",
          "line": 240
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 241
        },
        {
          "target": "PROCESS-PF8-KEY",
          "call_type": "performs",
          "line": 243
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 244
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 249
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "PROCESS-ENTER-KEY",
      "summary": null,
      "purpose": "Handles ENTER key press by validating and processing account ID input and authorization selection from map fields SEL0001I-SEL0005I. It reads ACCTIDI and SEL*IDI from COPAU0AI, checks if account ID is blank/low or non-numeric, sets errors and messages accordingly. If valid, maps selection to CDEMO-CPVS-PAU-SELECTED from CDEMO-CPVS-AUTH-KEYS index, and if 'S'/'s' XCTLs to COPAUS1C details program. Outputs error messages to WS-MESSAGE if invalid, repositions cursor with ACCTIDL=-1. Calls GATHER-DETAILS to refresh screen data post-processing. Error handling includes invalid selection message. Maintains WS-ACCT-ID and commarea updates.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "GATHER-DETAILS"
      ],
      "citation": [
        261,
        339
      ],
      "outgoing_calls": [
        {
          "target": "GATHER-DETAILS",
          "call_type": "performs",
          "line": 337
        },
        {
          "target": "CDEMO-TO-PROGRAM",
          "call_type": "calls",
          "line": 322
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "MAIN-PARA",
          "line": 175,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "GATHER-DETAILS",
      "summary": null,
      "purpose": "Orchestrates fetching and displaying account-related authorization data by first gathering VSAM account/customer/xref details if WS-ACCT-ID valid, then initializing auth list, and processing first page of summaries from IMS. Consumes WS-ACCT-ID to drive GATHER-ACCOUNT-DETAILS and GET-AUTH-SUMMARY. Produces screen fields via subordinate calls populating COPAU0AO indirectly. Business logic checks WS-ACCT-ID <> LOW-VALUES before proceeding, sets page num to 0. Calls GATHER-ACCOUNT-DETAILS, INITIALIZE-AUTH-DATA, PROCESS-PAGE-FORWARD if summary segment found. No explicit error handling here, relies on subordinates.",
      "called_by": [
        "MAIN-PARA",
        "PROCESS-ENTER-KEY"
      ],
      "calls": [
        "GATHER-ACCOUNT-DETAILS",
        "INITIALIZE-AUTH-DATA",
        "PROCESS-PAGE-FORWARD"
      ],
      "citation": [
        342,
        359
      ],
      "outgoing_calls": [
        {
          "target": "GATHER-ACCOUNT-DETAILS",
          "call_type": "performs",
          "line": 350
        },
        {
          "target": "INITIALIZE-AUTH-DATA",
          "call_type": "performs",
          "line": 352
        },
        {
          "target": "PROCESS-PAGE-FORWARD",
          "call_type": "performs",
          "line": 355
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 215,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-ENTER-KEY",
          "line": 337,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "PROCESS-PF7-KEY",
      "summary": null,
      "purpose": "Handles PF7 (previous page) by decrementing page num if >1, repositioning to previous page's first auth key saved in CDEMO-CPVS-PAUKEY-PREV-PG, fetching that summary, and processing forward to repopulate current page. Reads CDEMO-CPVS-PAGE-NUM and PAUKEY-PREV-PG from commarea. Writes updated page num and sets NEXT-PAGE-YES, SEND-ERASE-NO. Logic checks page >1 else error message 'already at top'. Calls GET-AUTH-SUMMARY, INITIALIZE-AUTH-DATA, PROCESS-PAGE-FORWARD. Error handling via WS-MESSAGE.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "GET-AUTH-SUMMARY",
        "INITIALIZE-AUTH-DATA",
        "PROCESS-PAGE-FORWARD"
      ],
      "citation": [
        362,
        386
      ],
      "outgoing_calls": [
        {
          "target": "GET-AUTH-SUMMARY",
          "call_type": "performs",
          "line": 370
        },
        {
          "target": "INITIALIZE-AUTH-DATA",
          "call_type": "performs",
          "line": 377
        },
        {
          "target": "PROCESS-PAGE-FORWARD",
          "call_type": "performs",
          "line": 379
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 240,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "PROCESS-PF8-KEY",
      "summary": null,
      "purpose": "Handles PF8 (next page) by using last key CDEMO-CPVS-PAUKEY-LAST to reposition and fetch next summary, setting flags for forward processing. Consumes CDEMO-CPVS-PAUKEY-LAST, calls GET-AUTH-SUMMARY and REPOSITION-AUTHORIZATIONS. Produces updated pagination data and screen refresh. Logic sets SEND-ERASE-NO, if NEXT-PAGE-YES calls INITIALIZE/PROCESS-PAGE-FORWARD else 'already at bottom' message. Error handling in subordinates.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "GET-AUTH-SUMMARY",
        "REPOSITION-AUTHORIZATIONS",
        "INITIALIZE-AUTH-DATA",
        "PROCESS-PAGE-FORWARD"
      ],
      "citation": [
        388,
        412
      ],
      "outgoing_calls": [
        {
          "target": "GET-AUTH-SUMMARY",
          "call_type": "performs",
          "line": 396
        },
        {
          "target": "REPOSITION-AUTHORIZATIONS",
          "call_type": "performs",
          "line": 397
        },
        {
          "target": "INITIALIZE-AUTH-DATA",
          "call_type": "performs",
          "line": 405
        },
        {
          "target": "PROCESS-PAGE-FORWARD",
          "call_type": "performs",
          "line": 407
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "MAIN-PARA",
          "line": 191,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "PROCESS-PAGE-FORWARD",
      "summary": null,
      "purpose": "Populates one page (5 auths) by looping GET-AUTHORIZATIONS or REPOSITION for first, then POPULATE-AUTH-LIST until 5 or EOF/ERR, peeks one more for NEXT-PAGE flag. Consumes WS-IDX starting 1, IMS PCB via GNP. Writes to CDEMO-CPVS-AUTH-KEYS, COPAU0A* fields (TRNID*1I etc.), PAUKEY-LAST/PREV-PG, PAGE-NUM. Business logic PERFORM UNTIL WS-IDX>5 or EOF/ERR, special REPOSITION if PF7 and IDX=1. Handles errors by breaking loop if ERR-FLG-ON. Calls GET-AUTHORIZATIONS, REPOSITION-AUTHORIZATIONS (conditional), POPULATE-AUTH-LIST.",
      "called_by": [
        "GATHER-DETAILS",
        "PROCESS-PF7-KEY",
        "PROCESS-PF8-KEY"
      ],
      "calls": [
        "REPOSITION-AUTHORIZATIONS",
        "GET-AUTHORIZATIONS",
        "POPULATE-AUTH-LIST"
      ],
      "citation": [
        415,
        455
      ],
      "outgoing_calls": [
        {
          "target": "REPOSITION-AUTHORIZATIONS",
          "call_type": "performs",
          "line": 426
        },
        {
          "target": "GET-AUTHORIZATIONS",
          "call_type": "performs",
          "line": 428
        },
        {
          "target": "POPULATE-AUTH-LIST",
          "call_type": "performs",
          "line": 431
        },
        {
          "target": "GET-AUTHORIZATIONS",
          "call_type": "performs",
          "line": 446
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-DETAILS",
          "line": 355,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF7-KEY",
          "line": 379,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF8-KEY",
          "line": 407,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "GET-AUTHORIZATIONS",
      "summary": null,
      "purpose": "Performs unqualified IMS GNP on PAUTDTL1 details segment into PENDING-AUTH-DETAILS to get next sequential auth. Consumes IMS PCB(PAUT-PCB-NUM). Evaluates IMS-RETURN-CODE (DIBSTAT): OK sets NOT-EOF, GE/GB sets EOF, others ERR-FLG with message and SEND screen. No outputs directly, sets flags for loop control.",
      "called_by": [
        "PROCESS-PAGE-FORWARD"
      ],
      "calls": [
        "SEND-PAULST-SCREEN"
      ],
      "citation": [
        458,
        487
      ],
      "outgoing_calls": [
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 483
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PAGE-FORWARD",
          "line": 428,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "REPOSITION-AUTHORIZATIONS",
      "summary": null,
      "purpose": "Repositions IMS cursor to specific PAUTDTL1 segment using PA-AUTHORIZATION-KEY = WS-AUTH-KEY-SAVE via qualified GNP WHERE PAUT9CTS. Consumes WS-AUTH-KEY-SAVE moved to PA-AUTH-KEY. Sets NOT-EOF on OK, EOF on GE/GB, ERR on others with message and SEND. Used for pagination start points.",
      "called_by": [
        "PROCESS-PF8-KEY",
        "PROCESS-PAGE-FORWARD"
      ],
      "calls": [
        "SEND-PAULST-SCREEN"
      ],
      "citation": [
        488,
        519
      ],
      "outgoing_calls": [
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 516
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF8-KEY",
          "line": 397,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PAGE-FORWARD",
          "line": 426,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "POPULATE-AUTH-LIST",
      "summary": null,
      "purpose": "Transforms current PENDING-AUTH-DETAILS into screen fields for one list entry based on WS-IDX (1-5), reformats date/time/amt, sets status A/D, moves to specific *01I-*05I fields and CDEMO-CPVS-AUTH-KEYS(WS-IDX). Consumes PA-* fields from IMS segment, WS-IDX. Writes to TRNID*1I, PDATE*1I, PTIME*1I, PTYPE*1I, PAPRV*1I, PSTAT*1I, PAMT**1I, SEL000*I A=DFHBMUNP. Business logic EVALUATE WS-IDX WHEN 1-5. No calls, no error handling.",
      "called_by": [
        "PROCESS-PAGE-FORWARD"
      ],
      "calls": [],
      "citation": [
        522,
        606
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PAGE-FORWARD",
          "line": 431,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "INITIALIZE-AUTH-DATA",
      "summary": null,
      "purpose": "Clears the 5 authorization list fields on screen map by VARYING WS-IDX 1-5 setting *I fields to SPACES and SEL000*A to DFHBMPRO (protected). Consumes nothing directly. Writes to TRNID*1I-*05I, PDATE*1I etc., SEL0001A-SEL0005A. No conditions or errors, preparatory for population.",
      "called_by": [
        "GATHER-DETAILS",
        "PROCESS-PF7-KEY",
        "PROCESS-PF8-KEY"
      ],
      "calls": [],
      "citation": [
        608,
        663
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-DETAILS",
          "line": 352,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF7-KEY",
          "line": 377,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF8-KEY",
          "line": 405,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "RETURN-TO-PREV-SCREEN",
      "summary": null,
      "purpose": "Prepares XCTL back to previous or default menu program by setting CDEMO-TO-PROGRAM (fallback COSGN00C), FROM-TRANID/PROGRAM, CONTEXT=0. Consumes CDEMO-TO-PROGRAM if set. Performs XCTL PROGRAM(CDEMO-TO-PROGRAM) COMMAREA. Called on PF3.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [],
      "citation": [
        665,
        678
      ],
      "outgoing_calls": [
        {
          "target": "CDEMO-TO-PROGRAM",
          "call_type": "calls",
          "line": 674
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "MAIN-PARA",
          "line": 169,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "SEND-PAULST-SCREEN",
      "summary": null,
      "purpose": "Sends the COPAU0A map to terminal, erasing if SEND-ERASE-YES (initial/refresh), else no erase for overlays, always CURSOR. First unschedules IMS PSB if scheduled via SYNCPOINT. Calls POPULATE-HEADER-INFO before send, moves WS-MESSAGE to ERRMSGO. Handles IMS cleanup.",
      "called_by": [
        "MAIN-PARA",
        "GET-AUTHORIZATIONS",
        "REPOSITION-AUTHORIZATIONS",
        "GET-AUTH-SUMMARY",
        "SCHEDULE-PSB",
        "GETCARDXREF-BYACCT"
      ],
      "calls": [
        "POPULATE-HEADER-INFO"
      ],
      "citation": [
        681,
        710
      ],
      "outgoing_calls": [
        {
          "target": "POPULATE-HEADER-INFO",
          "call_type": "performs",
          "line": 690
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 198,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GET-AUTHORIZATIONS",
          "line": 483,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "REPOSITION-AUTHORIZATIONS",
          "line": 516,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GETCARDXREF-BYACCT",
          "line": 845,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GETACCTDATA-BYACCT",
          "line": 895,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GETCUSTDATA-BYCUST",
          "line": 946,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GET-AUTH-SUMMARY",
          "line": 995,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "SCHEDULE-PSB",
          "line": 1029,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "RECEIVE-PAULST-SCREEN",
      "summary": null,
      "purpose": "Receives map data from terminal into COPAU0AI with RESP codes. Simple wrapper for CICS RECEIVE MAP('COPAU0A') INTO(COPAU0AI). Called when CDEMO-PGM-REENTER true.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [],
      "citation": [
        712,
        723
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "MAIN-PARA",
          "line": 222,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "POPULATE-HEADER-INFO",
      "summary": null,
      "purpose": "Fills static screen header with current date/time via FUNCTION CURRENT-DATE, transaction/program names, titles from copybooks. Formats date MM/DD/YY, time HH:MM:SS from WS-CURDATE-DATA. Moves to TITLE01O/TITLE02O, TRNNAMEO, PGMNAMEO, CURDATEO, CURTIMEO. No conditions.",
      "called_by": [
        "SEND-PAULST-SCREEN"
      ],
      "calls": [],
      "citation": [
        726,
        748
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "SEND-AUTHVIEW-SCREEN",
          "line": 375,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "SEND-PAULST-SCREEN",
          "line": 690,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "GATHER-ACCOUNT-DETAILS",
      "summary": null,
      "purpose": "Fetches and displays VSAM account/customer/xref data plus IMS summary counts/balances for header. Calls GETCARDXREF-BYACCT, GETACCTDATA-BYACCT, GETCUSTDATA-BYCUST, GET-AUTH-SUMMARY. Transforms customer name/address via STRING to CNAMEO/ADDR*O, moves limits PHONE etc. If summary found, moves counts/amts to APPRCNTO etc., else zeros. Error handling in file reads sends screen.",
      "called_by": [
        "GATHER-DETAILS"
      ],
      "calls": [
        "GETCARDXREF-BYACCT",
        "GETACCTDATA-BYACCT",
        "GETCUSTDATA-BYCUST",
        "GET-AUTH-SUMMARY"
      ],
      "citation": [
        750,
        809
      ],
      "outgoing_calls": [
        {
          "target": "GETCARDXREF-BYACCT",
          "call_type": "performs",
          "line": 753
        },
        {
          "target": "GETACCTDATA-BYACCT",
          "call_type": "performs",
          "line": 754
        },
        {
          "target": "GETCUSTDATA-BYCUST",
          "call_type": "performs",
          "line": 755
        },
        {
          "target": "GET-AUTH-SUMMARY",
          "call_type": "performs",
          "line": 785
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-DETAILS",
          "line": 350,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "GETCARDXREF-BYACCT",
      "summary": null,
      "purpose": "Reads card xref VSAM via alternate path CXACAIX by ACCT-ID into CARD-XREF-RECORD, sets CDEMO-CUST-ID/CARD-NUM. On NORMAL ok, NOTFND/OTHER error message with RESP and SEND screen. Key WS-CARD-RID-ACCT-ID-X.",
      "called_by": [
        "GATHER-ACCOUNT-DETAILS"
      ],
      "calls": [
        "SEND-PAULST-SCREEN"
      ],
      "citation": [
        812,
        863
      ],
      "outgoing_calls": [
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 845
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 860
        },
        {
          "target": "WS-CARDXREFNAME-ACCT-PATH",
          "call_type": "reads",
          "line": 818
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-ACCOUNT-DETAILS",
          "line": 753,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "GETACCTDATA-BYACCT",
      "summary": null,
      "purpose": "Reads account VSAM ACCTDAT by ACCT-ID (from xref) into ACCOUNT-RECORD for limits. NORMAL continue, NOTFND/OTHER error message with RESP and SEND.",
      "called_by": [
        "GATHER-ACCOUNT-DETAILS"
      ],
      "calls": [
        "SEND-PAULST-SCREEN"
      ],
      "citation": [
        865,
        913
      ],
      "outgoing_calls": [
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 895
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 910
        },
        {
          "target": "WS-ACCTFILENAME",
          "call_type": "reads",
          "line": 869
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-ACCOUNT-DETAILS",
          "line": 754,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "GETCUSTDATA-BYCUST",
      "summary": null,
      "purpose": "Reads customer VSAM CUSTDAT by CUST-ID (from xref) into CUSTOMER-RECORD for name/addr/phone. NORMAL continue, NOTFND/OTHER error message with RESP and SEND.",
      "called_by": [
        "GATHER-ACCOUNT-DETAILS"
      ],
      "calls": [
        "SEND-PAULST-SCREEN"
      ],
      "citation": [
        915,
        964
      ],
      "outgoing_calls": [
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 946
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 961
        },
        {
          "target": "WS-CUSTFILENAME",
          "call_type": "reads",
          "line": 920
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-ACCOUNT-DETAILS",
          "line": 755,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "GET-AUTH-SUMMARY",
      "summary": null,
      "purpose": "Schedules PSB if needed, then qualified IMS GU on PAUTSUM0 by PA-ACCT-ID = CDEMO-ACCT-ID into PENDING-AUTH-SUMMARY. Sets FOUND/NFOUND flags on OK/GE, other ERR with message and SEND.",
      "called_by": [
        "GATHER-ACCOUNT-DETAILS",
        "PROCESS-PF7-KEY",
        "PROCESS-PF8-KEY"
      ],
      "calls": [
        "SCHEDULE-PSB",
        "SEND-PAULST-SCREEN"
      ],
      "citation": [
        966,
        998
      ],
      "outgoing_calls": [
        {
          "target": "SCHEDULE-PSB",
          "call_type": "performs",
          "line": 969
        },
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 995
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF7-KEY",
          "line": 370,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "PROCESS-PF8-KEY",
          "line": 396,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GATHER-ACCOUNT-DETAILS",
          "line": 785,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "SCHEDULE-PSB",
      "summary": null,
      "purpose": "Schedules IMS PSB 'PSBPAUTB' via DLI SCHD NODHABEND, terms if already scheduled more than once, sets IMS-PSB-SCHD flag on OK else ERR message and SEND. Handles TC by rescheduling.",
      "called_by": [
        "GET-AUTH-SUMMARY"
      ],
      "calls": [
        "SEND-PAULST-SCREEN"
      ],
      "citation": [
        1001,
        1032
      ],
      "outgoing_calls": [
        {
          "target": "SEND-PAULST-SCREEN",
          "call_type": "performs",
          "line": 1029
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS1C.cbl",
          "function": "READ-AUTH-RECORD",
          "line": 433,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUS0C.cbl",
          "function": "GET-AUTH-SUMMARY",
          "line": 969,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "EIBAID OTHER than ENTER/PF3/PF7/PF8",
      "action": "Set WS-ERR-FLG 'Y', move invalid key message, send screen",
      "citation": [
        246
      ]
    },
    {
      "condition": "CICS READ RESP NOT NORMAL/NOTFND",
      "action": "Build error message with RESP/REAS, set ERR-FLG, send screen",
      "citation": [
        828,
        847
      ]
    },
    {
      "condition": "IMS DIBSTAT NOT OK/GE/GB",
      "action": "Set WS-ERR-FLG 'Y', build message with IMS-RETURN-CODE, send screen",
      "citation": [
        467
      ]
    },
    {
      "condition": "Account ID blank or non-numeric",
      "action": "Set WS-ERR-FLG 'Y', specific message, cursor to ACCTIDL=-1",
      "citation": [
        264,
        273
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [
    {
      "command": "RECEIVE MAP",
      "resource": "COPAU0A",
      "purpose": "Receive user input from screen into COPAU0AI",
      "citation": 715
    },
    {
      "command": "SEND MAP",
      "resource": "COPAU0A",
      "purpose": "Send screen output from COPAU0AO with ERASE or CURSOR",
      "citation": 695
    },
    {
      "command": "XCTL PROGRAM",
      "resource": "COPAUS1C/COMEN01C/COSGN00C",
      "purpose": "Transfer control to details or menu program with commarea",
      "citation": 323
    },
    {
      "command": "RETURN TRANSID",
      "resource": "CPVS",
      "purpose": "Return to CICS with transaction ID and updated commarea",
      "citation": 254
    },
    {
      "command": "READ DATASET",
      "resource": "CXACAIX/ACCTDAT/CUSTDAT",
      "purpose": "Read VSAM files by RIDFLD",
      "citation": 818
    }
  ],
  "open_questions": [],
  "resolved_questions": [],
  "dead_code": [],
  "call_semantics": [
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "GATHER-DETAILS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "RECEIVE-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "PROCESS-ENTER-KEY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "RETURN-TO-PREV-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "PROCESS-PF7-KEY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "PROCESS-PF8-KEY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-ENTER-KEY",
      "callee": "GATHER-DETAILS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-DETAILS",
      "callee": "GATHER-ACCOUNT-DETAILS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-DETAILS",
      "callee": "INITIALIZE-AUTH-DATA",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-DETAILS",
      "callee": "PROCESS-PAGE-FORWARD",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF7-KEY",
      "callee": "GET-AUTH-SUMMARY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF7-KEY",
      "callee": "INITIALIZE-AUTH-DATA",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF7-KEY",
      "callee": "PROCESS-PAGE-FORWARD",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF8-KEY",
      "callee": "GET-AUTH-SUMMARY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF8-KEY",
      "callee": "REPOSITION-AUTHORIZATIONS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF8-KEY",
      "callee": "INITIALIZE-AUTH-DATA",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PF8-KEY",
      "callee": "PROCESS-PAGE-FORWARD",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PAGE-FORWARD",
      "callee": "REPOSITION-AUTHORIZATIONS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PAGE-FORWARD",
      "callee": "GET-AUTHORIZATIONS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PAGE-FORWARD",
      "callee": "POPULATE-AUTH-LIST",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "PROCESS-PAGE-FORWARD",
      "callee": "GET-AUTHORIZATIONS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GET-AUTHORIZATIONS",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "REPOSITION-AUTHORIZATIONS",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "SEND-PAULST-SCREEN",
      "callee": "POPULATE-HEADER-INFO",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-ACCOUNT-DETAILS",
      "callee": "GETCARDXREF-BYACCT",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-ACCOUNT-DETAILS",
      "callee": "GETACCTDATA-BYACCT",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-ACCOUNT-DETAILS",
      "callee": "GETCUSTDATA-BYCUST",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GATHER-ACCOUNT-DETAILS",
      "callee": "GET-AUTH-SUMMARY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETCARDXREF-BYACCT",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETCARDXREF-BYACCT",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETACCTDATA-BYACCT",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETACCTDATA-BYACCT",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETCUSTDATA-BYCUST",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GETCUSTDATA-BYCUST",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GET-AUTH-SUMMARY",
      "callee": "SCHEDULE-PSB",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "GET-AUTH-SUMMARY",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "SCHEDULE-PSB",
      "callee": "SEND-PAULST-SCREEN",
      "inputs": [],
      "outputs": [],
      "purpose": null
    }
  ],
  "flow_diagram": "flowchart TD\n    %% Title: COPAUS0C.cbl\n    GATHER_ACCOUNT_DETAILS[\"GATHER-ACCOUNT-DETAILS\"]\n    GET_AUTH_SUMMARY[\"GET-AUTH-SUMMARY\"]\n    GETACCTDATA_BYACCT[\"GETACCTDATA-BYACCT\"]\n    GETCARDXREF_BYACCT[\"GETCARDXREF-BYACCT\"]\n    GETCUSTDATA_BYCUST[\"GETCUSTDATA-BYCUST\"]\n    GATHER_DETAILS[\"GATHER-DETAILS\"]\n    INITIALIZE_AUTH_DATA[\"INITIALIZE-AUTH-DATA\"]\n    PROCESS_PAGE_FORWARD[\"PROCESS-PAGE-FORWARD\"]\n    SCHEDULE_PSB[\"SCHEDULE-PSB\"]\n    SEND_PAULST_SCREEN[\"SEND-PAULST-SCREEN\"]\n    GET_AUTHORIZATIONS[\"GET-AUTHORIZATIONS\"]\n    WS_ACCTFILENAME__ext[(\"WS-ACCTFILENAME\")]\n    WS_CARDXREFNAME_ACCT_PATH__ext[(\"WS-CARDXREFNAME-ACCT-PATH\")]\n    WS_CUSTFILENAME__ext[(\"WS-CUSTFILENAME\")]\n    MAIN_PARA[\"MAIN-PARA\"]\n    PROCESS_ENTER_KEY[\"PROCESS-ENTER-KEY\"]\n    PROCESS_PF7_KEY[\"PROCESS-PF7-KEY\"]\n    PROCESS_PF8_KEY[\"PROCESS-PF8-KEY\"]\n    RECEIVE_PAULST_SCREEN[\"RECEIVE-PAULST-SCREEN\"]\n    RETURN_TO_PREV_SCREEN[\"RETURN-TO-PREV-SCREEN\"]\n    POPULATE_AUTH_LIST[\"POPULATE-AUTH-LIST\"]\n    POPULATE_HEADER_INFO[\"POPULATE-HEADER-INFO\"]\n    CDEMO_TO_PROGRAM__ext([\"CDEMO-TO-PROGRAM\"])\n    REPOSITION_AUTHORIZATIONS[\"REPOSITION-AUTHORIZATIONS\"]\n    GATHER_ACCOUNT_DETAILS --> GET_AUTH_SUMMARY\n    GATHER_ACCOUNT_DETAILS --> GETACCTDATA_BYACCT\n    GATHER_ACCOUNT_DETAILS --> GETCARDXREF_BYACCT\n    GATHER_ACCOUNT_DETAILS --> GETCUSTDATA_BYCUST\n    GATHER_DETAILS --> GATHER_ACCOUNT_DETAILS\n    GATHER_DETAILS --> INITIALIZE_AUTH_DATA\n    GATHER_DETAILS --> PROCESS_PAGE_FORWARD\n    GET_AUTH_SUMMARY --> SCHEDULE_PSB\n    GET_AUTH_SUMMARY --> SEND_PAULST_SCREEN\n    GET_AUTHORIZATIONS --> SEND_PAULST_SCREEN\n    GETACCTDATA_BYACCT --> SEND_PAULST_SCREEN\n    GETACCTDATA_BYACCT -.->|reads| WS_ACCTFILENAME__ext\n    GETCARDXREF_BYACCT --> SEND_PAULST_SCREEN\n    GETCARDXREF_BYACCT -.->|reads| WS_CARDXREFNAME_ACCT_PATH__ext\n    GETCUSTDATA_BYCUST --> SEND_PAULST_SCREEN\n    GETCUSTDATA_BYCUST -.->|reads| WS_CUSTFILENAME__ext\n    MAIN_PARA --> GATHER_DETAILS\n    MAIN_PARA --> PROCESS_ENTER_KEY\n    MAIN_PARA --> PROCESS_PF7_KEY\n    MAIN_PARA --> PROCESS_PF8_KEY\n    MAIN_PARA --> RECEIVE_PAULST_SCREEN\n    MAIN_PARA --> RETURN_TO_PREV_SCREEN\n    MAIN_PARA --> SEND_PAULST_SCREEN\n    PROCESS_ENTER_KEY --> GATHER_DETAILS\n    PROCESS_ENTER_KEY -.->|calls| CDEMO_TO_PROGRAM__ext\n    PROCESS_PAGE_FORWARD --> GET_AUTHORIZATIONS\n    PROCESS_PAGE_FORWARD --> POPULATE_AUTH_LIST\n    PROCESS_PAGE_FORWARD --> REPOSITION_AUTHORIZATIONS\n    PROCESS_PF7_KEY --> GET_AUTH_SUMMARY\n    PROCESS_PF7_KEY --> INITIALIZE_AUTH_DATA\n    PROCESS_PF7_KEY --> PROCESS_PAGE_FORWARD\n    PROCESS_PF8_KEY --> GET_AUTH_SUMMARY\n    PROCESS_PF8_KEY --> INITIALIZE_AUTH_DATA\n    PROCESS_PF8_KEY --> PROCESS_PAGE_FORWARD\n    PROCESS_PF8_KEY --> REPOSITION_AUTHORIZATIONS\n    REPOSITION_AUTHORIZATIONS --> SEND_PAULST_SCREEN\n    RETURN_TO_PREV_SCREEN -.->|calls| CDEMO_TO_PROGRAM__ext\n    SCHEDULE_PSB --> SEND_PAULST_SCREEN\n    SEND_PAULST_SCREEN --> POPULATE_HEADER_INFO"
}