{
  "batch_idx": 0,
  "total_batches": 2,
  "template": {
    "header": {
      "program_id": "PAUDBLOD",
      "file_name": "PAUDBLOD.CBL",
      "file_type": "COBOL",
      "analyzed_by": "WAR_RIG",
      "analyzed_at": "2026-02-24T17:33:09.258855",
      "iteration_count": 1,
      "final_status": null
    },
    "purpose": {
      "summary": "This COBOL program reads root segment records from INFILE1 and child segment records from INFILE2, then inserts them into an IMS database. It reads each file until the end-of-file is reached, indicated by a status code of '10'.",
      "business_context": "UNKNOWN",
      "program_type": "BATCH",
      "citations": [
        9,
        11,
        14
      ]
    },
    "inputs": [
      {
        "name": "INFILE1",
        "io_type": "FILE_SEQUENTIAL",
        "description": "Input file containing root segment records for pending authorizations.",
        "copybook": "UNKNOWN",
        "citation": [
          34,
          57
        ]
      },
      {
        "name": "INFILE2",
        "io_type": "FILE_SEQUENTIAL",
        "description": "Input file containing child segment records for pending authorizations.",
        "copybook": "UNKNOWN",
        "citation": [
          42,
          104
        ]
      }
    ],
    "outputs": [],
    "called_programs": [
      {
        "program_name": "CBLTDLI",
        "call_type": "STATIC_CALL",
        "purpose": "Inserts root and child segments into the IMS database.",
        "parameters": [
          "FUNC-ISRT",
          "PAUTBPCB",
          "PENDING-AUTH-SUMMARY",
          "ROOT-UNQUAL-SSA"
        ],
        "citation": 77
      },
      {
        "program_name": "IMSFUNCS",
        "call_type": "UNKNOWN",
        "purpose": "UNKNOWN",
        "parameters": [],
        "citation": 0
      },
      {
        "program_name": "CIPAUSMY",
        "call_type": "UNKNOWN",
        "purpose": "UNKNOWN",
        "parameters": [],
        "citation": 0
      },
      {
        "program_name": "CIPAUDTY",
        "call_type": "UNKNOWN",
        "purpose": "UNKNOWN",
        "parameters": [],
        "citation": 0
      },
      {
        "program_name": "PAUTBPCB",
        "call_type": "UNKNOWN",
        "purpose": "UNKNOWN",
        "parameters": [],
        "citation": 0
      }
    ],
    "calling_context": {
      "called_by": [],
      "entry_points": [],
      "linkage_section": []
    },
    "business_rules": [],
    "data_flow": {
      "reads_from": [
        {
          "source": "INFILE1",
          "fields_used": [
            "INFIL1-REC"
          ],
          "citation": [
            57
          ]
        },
        {
          "source": "INFILE2",
          "fields_used": [
            "CHILD-SEG-REC",
            "ROOT-SEG-KEY"
          ],
          "citation": [
            104
          ]
        }
      ],
      "writes_to": [
        {
          "destination": "PENDING-AUTH-SUMMARY",
          "fields_written": [
            "INFIL1-REC"
          ],
          "citation": [
            60
          ]
        },
        {
          "destination": "PENDING-AUTH-DETAILS",
          "fields_written": [
            "CHILD-SEG-REC"
          ],
          "citation": [
            112
          ]
        },
        {
          "destination": "QUAL-SSA-KEY-VALUE",
          "fields_written": [
            "ROOT-SEG-KEY"
          ],
          "citation": [
            109
          ]
        }
      ],
      "transforms": []
    },
    "copybooks_used": [],
    "paragraphs": [
      {
        "paragraph_name": "PAUDBLOD",
        "summary": null,
        "purpose": "This is the program ID paragraph. It does not contain any executable code. It is the entry point of the program, but its functionality is limited to declaring the program's name. It calls IMSFUNCS, CIPAUSMY, CIPAUDTY, and PAUTBPCB, but the purpose of these calls is unclear from the provided code snippet. It does not directly consume any inputs or produce any outputs. There is no business logic or error handling within this paragraph. Its primary role is to identify the program.",
        "called_by": [],
        "calls": [
          "IMSFUNCS",
          "CIPAUSMY",
          "CIPAUDTY",
          "PAUTBPCB"
        ],
        "citation": [
          1,
          1
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "MAIN-PARA",
        "summary": null,
        "purpose": "This paragraph serves as the main control loop of the program. It first calls 1000-INITIALIZE to perform initial setup tasks such as opening files. Then, it enters a loop that repeatedly calls 2000-READ-ROOT-SEG-FILE to read root segment records from INFILE1 until the end-of-file is reached, indicated by END-ROOT-SEG-FILE being set to 'Y'. Subsequently, it enters another loop that calls 3000-READ-CHILD-SEG-FILE to read child segment records from INFILE2 until END-CHILD-SEG-FILE is 'Y'. Finally, it calls 4000-FILE-CLOSE to close the files. The paragraph consumes the END-ROOT-SEG-FILE and END-CHILD-SEG-FILE flags to control the loops and produces no direct outputs other than triggering the subordinate paragraphs. No error handling is performed directly within this paragraph; it relies on the called paragraphs to handle errors. The overall purpose is to orchestrate the reading of input files and the processing of records by other paragraphs.",
        "called_by": [],
        "calls": [
          "1000-INITIALIZE",
          "2000-READ-ROOT-SEG-FILE",
          "3000-READ-CHILD-SEG-FILE",
          "4000-FILE-CLOSE"
        ],
        "citation": [
          169,
          189
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "1000-INITIALIZE",
        "summary": null,
        "purpose": "This paragraph initializes the program by accepting the current date and opening the input files INFILE1 and INFILE2. It retrieves the current date and day from the system using ACCEPT statements and displays the date. It then attempts to open INFILE1 and checks the file status in WS-INFIL1-STATUS. If the file status is not spaces or '00', indicating an error, it displays an error message and calls 9999-ABEND to terminate the program. The same process is repeated for INFILE2, checking WS-INFIL2-STATUS. The paragraph consumes no direct input data but retrieves system date information. It produces no direct output data but opens the input files. The business logic involves checking the file status after opening each file. Error handling is performed by checking the file status and calling 9999-ABEND if an error occurs. The purpose of this paragraph is to prepare the program for processing by opening the necessary input files and ensuring they are opened successfully.",
        "called_by": [],
        "calls": [
          "9999-ABEND",
          "9999-ABEND"
        ],
        "citation": [
          190,
          217
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "1000-EXIT",
        "summary": null,
        "purpose": "This paragraph simply provides an exit point for the 1000-INITIALIZE paragraph. It contains only the EXIT statement and performs no other actions. It does not consume any inputs, produce any outputs, implement any business logic, perform any error handling, or call any other paragraphs. Its sole purpose is to serve as a target for the THRU clause in the PERFORM statement in MAIN-PARA.",
        "called_by": [],
        "calls": [],
        "citation": [
          218,
          221
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "2000-READ-ROOT-SEG-FILE",
        "summary": null,
        "purpose": "This paragraph reads root segment records from INFILE1. It reads a record from INFILE1 and checks the file status in WS-INFIL1-STATUS. If the file status is spaces or '00', indicating a successful read, it moves the INFIL1-REC to PENDING-AUTH-SUMMARY and calls 2100-INSERT-ROOT-SEG to insert the root segment. If the file status is '10', indicating end-of-file, it moves 'Y' to END-ROOT-SEG-FILE. If the file status is anything else, it displays an error message. The paragraph consumes data from INFILE1 and produces data in PENDING-AUTH-SUMMARY. The business logic involves checking the file status and setting the END-ROOT-SEG-FILE flag. Error handling is performed by checking the file status and displaying an error message if an error occurs. The purpose of this paragraph is to read root segment records and either insert them or handle the end-of-file condition.",
        "called_by": [],
        "calls": [
          "2100-INSERT-ROOT-SEG"
        ],
        "citation": [
          222,
          238
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "2000-EXIT",
        "summary": null,
        "purpose": "This paragraph simply provides an exit point for the 2000-READ-ROOT-SEG-FILE paragraph. It contains only the EXIT statement and performs no other actions. It does not consume any inputs, produce any outputs, implement any business logic, perform any error handling, or call any other paragraphs. Its sole purpose is to serve as a target for the THRU clause in the PERFORM statement in MAIN-PARA.",
        "called_by": [],
        "calls": [],
        "citation": [
          239,
          241
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "2100-INSERT-ROOT-SEG",
        "summary": null,
        "purpose": "This paragraph inserts a root segment into the IMS database using the CBLTDLI call. It calls CBLTDLI with the FUNC-ISRT function code, PAUTBPCB, PENDING-AUTH-SUMMARY, and ROOT-UNQUAL-SSA as parameters. After the call, it displays the PCB status. If the PCB status is spaces, it displays 'ROOT INSERT SUCCESS'. If the PCB status is 'II', it displays 'ROOT SEGMENT ALREADY IN DB'. If the PCB status is neither spaces nor 'II', it displays 'ROOT INSERT FAILED' and calls 9999-ABEND to terminate the program. The paragraph consumes data from PENDING-AUTH-SUMMARY and produces an IMS database insert. The business logic involves checking the PCB status after the CBLTDLI call. Error handling is performed by checking the PCB status and calling 9999-ABEND if an error occurs. The purpose of this paragraph is to insert a root segment into the IMS database and handle any errors that occur during the insertion process.",
        "called_by": [],
        "calls": [
          "CBLTDLI",
          "9999-ABEND"
        ],
        "citation": [
          242,
          263
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "2100-EXIT",
        "summary": null,
        "purpose": "This paragraph simply provides an exit point for the 2100-INSERT-ROOT-SEG paragraph. It contains only the EXIT statement and performs no other actions. It does not consume any inputs, produce any outputs, implement any business logic, perform any error handling, or call any other paragraphs. Its sole purpose is to serve as a target for the THRU clause in the PERFORM statement in 2000-READ-ROOT-SEG-FILE.",
        "called_by": [],
        "calls": [],
        "citation": [
          264,
          268
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "3000-READ-CHILD-SEG-FILE",
        "summary": null,
        "purpose": "This paragraph reads child segment records from INFILE2. It reads a record from INFILE2 and checks the file status in WS-INFIL2-STATUS. If the file status is spaces or '00', indicating a successful read, it checks if ROOT-SEG-KEY is numeric. If it is, it moves ROOT-SEG-KEY to QUAL-SSA-KEY-VALUE, moves CHILD-SEG-REC to PENDING-AUTH-DETAILS, and calls 3100-INSERT-CHILD-SEG to insert the child segment. If the file status is '10', indicating end-of-file, it moves 'Y' to END-CHILD-SEG-FILE. If the file status is anything else, it displays an error message. The paragraph consumes data from INFILE2 and produces data in PENDING-AUTH-DETAILS and QUAL-SSA-KEY-VALUE. The business logic involves checking the file status, checking if ROOT-SEG-KEY is numeric, and setting the END-CHILD-SEG-FILE flag. Error handling is performed by checking the file status and displaying an error message if an error occurs. The purpose of this paragraph is to read child segment records and either insert them or handle the end-of-file condition.",
        "called_by": [],
        "calls": [
          "3100-INSERT-CHILD-SEG"
        ],
        "citation": [
          269,
          289
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "3000-EXIT",
        "summary": null,
        "purpose": "This paragraph simply provides an exit point for the 3000-READ-CHILD-SEG-FILE paragraph. It contains only the EXIT statement and performs no other actions. It does not consume any inputs, produce any outputs, implement any business logic, perform any error handling, or call any other paragraphs. Its sole purpose is to serve as a target for the THRU clause in the PERFORM statement in MAIN-PARA.",
        "called_by": [],
        "calls": [],
        "citation": [
          290,
          291
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      }
    ],
    "error_handling": [
      {
        "condition": "WS-INFIL1-STATUS not equal to spaces or '00' when opening INFILE1",
        "action": "DISPLAY 'ERROR IN OPENING INFILE1:' WS-INFIL1-STATUS and PERFORM 9999-ABEND",
        "citation": [
          35,
          38,
          39
        ]
      },
      {
        "condition": "WS-INFIL2-STATUS not equal to spaces or '00' when opening INFILE2",
        "action": "DISPLAY 'ERROR IN OPENING INFILE2:' WS-INFIL2-STATUS and PERFORM 9999-ABEND",
        "citation": [
          43,
          46,
          47
        ]
      },
      {
        "condition": "WS-INFIL1-STATUS not equal to spaces or '00' when reading INFILE1",
        "action": "IF WS-INFIL1-STATUS = '10' MOVE 'Y' TO END-ROOT-SEG-FILE, ELSE DISPLAY 'ERROR READING ROOT SEG INFILE'",
        "citation": [
          59,
          63,
          64,
          66
        ]
      },
      {
        "condition": "PAUT-PCB-STATUS NOT EQUAL TO SPACES AND 'II'",
        "action": "DISPLAY 'ROOT INSERT FAILED  :' PAUT-PCB-STATUS and PERFORM 9999-ABEND",
        "citation": [
          92,
          93,
          94
        ]
      },
      {
        "condition": "WS-INFIL2-STATUS not equal to spaces or '00' when reading INFILE2",
        "action": "IF WS-INFIL2-STATUS = '10' MOVE 'Y' TO END-CHILD-SEG-FILE, ELSE DISPLAY 'ERROR READING CHILD SEG INFILE'",
        "citation": [
          106,
          116,
          117,
          119
        ]
      }
    ],
    "sql_operations": [],
    "cics_operations": [],
    "open_questions": [
      {
        "question": "What is the purpose of the called programs IMSFUNCS, CIPAUSMY, CIPAUDTY, and PAUTBPCB?",
        "context": "The code only shows that these programs are called in the PAUDBLOD paragraph, but their functionality is not apparent from the provided code.",
        "suggestion": "Examine the definitions or documentation of these programs."
      },
      {
        "question": "What is the structure of INFILE1 and INFILE2?",
        "context": "The code reads records from these files, but the structure of the records is not defined in the provided code.",
        "suggestion": "Examine the copybooks or file definitions for INFILE1 and INFILE2."
      },
      {
        "question": "What is the purpose of the ROOT-UNQUAL-SSA parameter in the CBLTDLI call?",
        "context": "The code uses this parameter when inserting root segments, but its purpose is not clear from the provided code.",
        "suggestion": "Examine the documentation for the CBLTDLI call and the IMS database schema."
      },
      {
        "question": "What is the meaning of the PCB status codes?",
        "context": "The code checks the PCB status after the CBLTDLI call, but the meaning of the different status codes is not explained in the provided code.",
        "suggestion": "Examine the IMS database documentation for PCB status codes."
      }
    ],
    "resolved_questions": [],
    "dead_code": [],
    "call_semantics": [],
    "flow_diagram": null
  },
  "saved_at": "2026-02-24T10:33:09.269890"
}