{
  "batch_idx": 1,
  "total_batches": 2,
  "template": {
    "header": {
      "program_id": "PAUDBLOD",
      "file_name": "PAUDBLOD.CBL",
      "file_type": "COBOL",
      "analyzed_by": "WAR_RIG",
      "analyzed_at": "2026-02-24T17:36:53.703440",
      "iteration_count": 1,
      "final_status": null
    },
    "purpose": {
      "summary": "This COBOL program interacts with an IMS database to insert a child segment. It retrieves a root segment and then attempts to insert a child segment related to that root. The program includes error handling to check the status of IMS calls and abends if errors occur.",
      "business_context": null,
      "program_type": "BATCH",
      "citations": [
        5,
        7,
        31,
        33
      ]
    },
    "inputs": [
      {
        "name": "PAUTBPCB",
        "io_type": "IMS_SEGMENT",
        "description": "IMS PCB (Program Communication Block) used for communication with the IMS database.",
        "copybook": null,
        "citation": [
          6,
          32
        ]
      },
      {
        "name": "PENDING-AUTH-SUMMARY",
        "io_type": "IMS_SEGMENT",
        "description": "Data structure representing the root segment to be retrieved.",
        "copybook": null,
        "citation": [
          7
        ]
      },
      {
        "name": "PENDING-AUTH-DETAILS",
        "io_type": "IMS_SEGMENT",
        "description": "Data structure representing the child segment to be inserted.",
        "copybook": null,
        "citation": [
          33
        ]
      },
      {
        "name": "INFILE1",
        "io_type": "FILE_SEQUENTIAL",
        "description": "First input file to be closed.",
        "copybook": null,
        "citation": [
          54
        ]
      },
      {
        "name": "INFILE2",
        "io_type": "FILE_SEQUENTIAL",
        "description": "Second input file to be closed.",
        "copybook": null,
        "citation": [
          61
        ]
      }
    ],
    "outputs": [],
    "called_programs": [
      {
        "program_name": "CBLTDLI",
        "call_type": "STATIC_CALL",
        "purpose": "Interface with IMS DL/I to perform database operations.",
        "parameters": [
          "FUNC-GU",
          "PAUTBPCB",
          "PENDING-AUTH-SUMMARY",
          "ROOT-QUAL-SSA"
        ],
        "citation": 5
      },
      {
        "program_name": "CBLTDLI",
        "call_type": "STATIC_CALL",
        "purpose": "Interface with IMS DL/I to perform database operations.",
        "parameters": [
          "FUNC-ISRT",
          "PAUTBPCB",
          "PENDING-AUTH-DETAILS",
          "CHILD-UNQUAL-SSA"
        ],
        "citation": 31
      }
    ],
    "calling_context": {
      "called_by": [],
      "entry_points": [],
      "linkage_section": []
    },
    "business_rules": [],
    "data_flow": {
      "reads_from": [
        {
          "source": "PAUTBPCB",
          "fields_used": [
            "PAUT-PCB-STATUS"
          ],
          "citation": [
            14,
            19,
            36,
            39,
            42
          ]
        }
      ],
      "writes_to": [],
      "transforms": []
    },
    "copybooks_used": [],
    "paragraphs": [
      {
        "paragraph_name": "3100-INSERT-CHILD-SEG",
        "summary": null,
        "purpose": "This paragraph attempts to insert a child segment into an IMS database. It first initializes PAUT-PCB-STATUS, then calls CBLTDLI with FUNC-GU to retrieve a root segment using the PAUTBPCB, PENDING-AUTH-SUMMARY, and ROOT-QUAL-SSA. It checks the PAUT-PCB-STATUS after the call. If the status is spaces, indicating success, it performs 3200-INSERT-IMS-CALL to insert the child segment. If the status is not spaces or 'II', it displays an error message and calls 9999-ABEND to terminate the program. The paragraph uses DISPLAY statements for debugging purposes. The purpose of retrieving the root segment is to ensure that the parent exists before attempting to insert the child.",
        "called_by": [],
        "calls": [
          "CBLTDLI",
          "3200-INSERT-IMS-CALL",
          "9999-ABEND"
        ],
        "citation": [
          1,
          23
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "3100-EXIT",
        "summary": null,
        "purpose": "This paragraph simply contains an EXIT statement and serves as the exit point for the 3100-INSERT-CHILD-SEG paragraph. It provides a clean and structured way to leave the paragraph after processing is complete. No data is read or written in this paragraph, and no business logic or error handling is performed. This paragraph is called by 3100-INSERT-CHILD-SEG after the child segment insertion process is complete or an error occurs.",
        "called_by": [
          "3100-INSERT-CHILD-SEG"
        ],
        "calls": [],
        "citation": [
          25,
          26
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "3200-INSERT-IMS-CALL",
        "summary": null,
        "purpose": "This paragraph attempts to insert a child segment into the IMS database. It calls CBLTDLI with FUNC-ISRT, PAUTBPCB, PENDING-AUTH-DETAILS, and CHILD-UNQUAL-SSA to perform the insertion. It then checks the PAUT-PCB-STATUS. If the status is spaces, it displays a success message. If the status is 'II', it displays a message indicating the segment already exists. If the status is neither spaces nor 'II', it displays an error message and calls 9999-ABEND. The purpose of this paragraph is to handle the actual insertion of the child segment after the root segment has been successfully retrieved. The paragraph uses DISPLAY statements for debugging purposes.",
        "called_by": [
          "3100-INSERT-CHILD-SEG"
        ],
        "calls": [
          "CBLTDLI",
          "9999-ABEND"
        ],
        "citation": [
          28,
          46
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "3200-EXIT",
        "summary": null,
        "purpose": "This paragraph simply contains an EXIT statement and serves as the exit point for the 3200-INSERT-IMS-CALL paragraph. It provides a clean and structured way to leave the paragraph after processing is complete. No data is read or written in this paragraph, and no business logic or error handling is performed. This paragraph is called by 3200-INSERT-IMS-CALL after the child segment insertion process is complete or an error occurs.",
        "called_by": [
          "3200-INSERT-IMS-CALL"
        ],
        "calls": [],
        "citation": [
          49,
          50
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "4000-FILE-CLOSE",
        "summary": null,
        "purpose": "This paragraph closes two input files, INFILE1 and INFILE2. It displays a message indicating that the files are being closed. After closing each file, it checks the corresponding file status (WS-INFIL1-STATUS and WS-INFIL2-STATUS). If the status is spaces or '00', it continues. Otherwise, it displays an error message indicating the error in closing the file. The purpose of this paragraph is to ensure that the input files are properly closed after they are no longer needed, preventing potential resource leaks or data corruption. The paragraph uses DISPLAY statements for debugging purposes.",
        "called_by": [],
        "calls": [],
        "citation": [
          52,
          67
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "4000-EXIT",
        "summary": null,
        "purpose": "This paragraph simply contains an EXIT statement and serves as the exit point for the 4000-FILE-CLOSE paragraph. It provides a clean and structured way to leave the paragraph after processing is complete. No data is read or written in this paragraph, and no business logic or error handling is performed. This paragraph is called by 4000-FILE-CLOSE after the file closing process is complete or an error occurs.",
        "called_by": [
          "4000-FILE-CLOSE"
        ],
        "calls": [],
        "citation": [
          69,
          70
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "9999-ABEND",
        "summary": null,
        "purpose": "This paragraph handles program termination due to an error condition. It displays a message indicating that the IMS load is abending. It then moves the value 16 to RETURN-CODE and executes a GOBACK statement, terminating the program and setting the return code to 16. The purpose of this paragraph is to provide a consistent and controlled way to terminate the program when an unrecoverable error occurs. The return code can be used by calling programs or systems to determine the reason for the program's termination.",
        "called_by": [
          "3100-INSERT-CHILD-SEG",
          "3200-INSERT-IMS-CALL"
        ],
        "calls": [],
        "citation": [
          72,
          78
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "9999-EXIT",
        "summary": null,
        "purpose": "This paragraph simply contains an EXIT statement and serves as an exit point, although it is never called in the provided code. It would provide a clean and structured way to leave a paragraph if it were used. No data is read or written in this paragraph, and no business logic or error handling is performed.",
        "called_by": [],
        "calls": [],
        "citation": [
          80,
          81
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      }
    ],
    "error_handling": [
      {
        "condition": "PAUT-PCB-STATUS NOT EQUAL TO SPACES AND 'II' (in 3100-INSERT-CHILD-SEG)",
        "action": "DISPLAY error message and ABEND",
        "citation": [
          19,
          20,
          21,
          22
        ]
      },
      {
        "condition": "PAUT-PCB-STATUS NOT EQUAL TO SPACES AND 'II' (in 3200-INSERT-IMS-CALL)",
        "action": "DISPLAY error message and ABEND",
        "citation": [
          42,
          43,
          44,
          45
        ]
      },
      {
        "condition": "WS-INFIL1-STATUS not equal to SPACES or '00'",
        "action": "DISPLAY error message",
        "citation": [
          56,
          59
        ]
      },
      {
        "condition": "WS-INFIL2-STATUS not equal to SPACES or '00'",
        "action": "DISPLAY error message",
        "citation": [
          63,
          66
        ]
      }
    ],
    "sql_operations": [],
    "cics_operations": [],
    "open_questions": [
      {
        "question": "What is the purpose of ROOT-QUAL-SSA and CHILD-UNQUAL-SSA?",
        "context": "The code uses these variables in the CBLTDLI calls, but their structure and content are not defined in the provided snippet.",
        "suggestion": "Examine the copybooks or data definitions to understand the structure and purpose of these SSA (Segment Search Arguments)."
      },
      {
        "question": "What is the structure of PAUTBPCB, PENDING-AUTH-SUMMARY and PENDING-AUTH-DETAILS?",
        "context": "The code uses these variables as parameters for the CBLTDLI calls, but their structure and content are not defined in the provided snippet.",
        "suggestion": "Examine the copybooks or data definitions to understand the structure of these segments."
      }
    ],
    "resolved_questions": [],
    "dead_code": [],
    "call_semantics": [],
    "flow_diagram": null
  },
  "saved_at": "2026-02-24T10:36:53.707409"
}