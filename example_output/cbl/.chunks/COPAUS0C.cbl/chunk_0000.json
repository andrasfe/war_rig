{
  "batch_idx": 0,
  "total_batches": 3,
  "template": {
    "header": {
      "program_id": "COPAUS0C",
      "file_name": "COPAUS0C.cbl",
      "file_type": "COBOL",
      "analyzed_by": "WAR_RIG",
      "analyzed_at": "2026-02-24T17:34:07.401873",
      "iteration_count": 1,
      "final_status": null
    },
    "purpose": {
      "summary": "COPAUS0C is a CICS program that displays pending authorization details for a given account. It retrieves authorization summaries and details from an IMS database and presents them on a CICS screen, allowing users to navigate through multiple pages of authorizations and select an authorization for further details.",
      "business_context": null,
      "program_type": "ONLINE_CICS",
      "citations": [
        3,
        23,
        276
      ]
    },
    "inputs": [
      {
        "name": "DFHCOMMAREA",
        "io_type": "CICS_COMMAREA",
        "description": "Communication area passed between CICS transactions, contains account ID and program context information.",
        "copybook": "CARDDEMO-COMMAREA",
        "citation": [
          25,
          81
        ]
      },
      {
        "name": "PAUTDTL1",
        "io_type": "IMS_SEGMENT",
        "description": "IMS segment containing pending authorization details.",
        "copybook": "PENDING-AUTH-DETAILS",
        "citation": [
          277,
          309
        ]
      },
      {
        "name": "COPAU0AI",
        "io_type": "CICS_MAP",
        "description": "CICS Map Input, receives data entered by the user on the screen.",
        "copybook": null,
        "citation": [
          87,
          96,
          109,
          113,
          117,
          121,
          125
        ]
      }
    ],
    "outputs": [
      {
        "name": "COPAU0AO",
        "io_type": "CICS_MAP",
        "description": "CICS Map Output, displays authorization details and messages to the user.",
        "copybook": null,
        "citation": [
          11,
          20,
          30,
          34,
          36,
          54,
          56
        ]
      },
      {
        "name": "CARDDEMO-COMMAREA",
        "io_type": "CICS_COMMAREA",
        "description": "Updated communication area passed back to CICS.",
        "copybook": "CARDDEMO-COMMAREA",
        "citation": [
          81
        ]
      }
    ],
    "called_programs": [
      {
        "program_name": "CDEMO-TO-PROGRAM",
        "call_type": "CICS_XCTL",
        "purpose": "Transfers control to the authorization details program when an authorization is selected.",
        "parameters": [
          "CARDDEMO-COMMAREA"
        ],
        "citation": 146
      }
    ],
    "calling_context": {
      "called_by": [],
      "entry_points": [],
      "linkage_section": []
    },
    "business_rules": [
      {
        "rule_id": "BR001",
        "description": "If the entered account ID is not numeric, an error message is displayed.",
        "logic_summary": "Checks if ACCTIDI of COPAU0AI is numeric.",
        "conditions": [
          "ACCTIDI OF COPAU0AI IS NOT NUMERIC"
        ],
        "citation": [
          96,
          101
        ]
      },
      {
        "rule_id": "BR002",
        "description": "If the user selects an authorization, control is transferred to the authorization details program.",
        "logic_summary": "Evaluates the selected authorization flag (CDEMO-CPVS-PAU-SEL-FLG) and the selected authorization key (CDEMO-CPVS-PAU-SELECTED).",
        "conditions": [
          "CDEMO-CPVS-PAU-SEL-FLG NOT = SPACES AND LOW-VALUES",
          "CDEMO-CPVS-PAU-SELECTED NOT = SPACES AND LOW-VALUES"
        ],
        "citation": [
          133,
          135,
          136
        ]
      },
      {
        "rule_id": "BR003",
        "description": "If the user presses PF7 and is not on the first page, the previous page of authorizations is displayed.",
        "logic_summary": "Decrements the page number (CDEMO-CPVS-PAGE-NUM) and retrieves the previous page's authorization key.",
        "conditions": [
          "CDEMO-CPVS-PAGE-NUM > 1"
        ],
        "citation": [
          184,
          185,
          187
        ]
      },
      {
        "rule_id": "BR004",
        "description": "If the user presses PF8 and is not on the last page, the next page of authorizations is displayed.",
        "logic_summary": "Checks if the last authorization key (CDEMO-CPVS-PAUKEY-LAST) is spaces or low-values.",
        "conditions": [
          "CDEMO-CPVS-PAUKEY-LAST = SPACES OR LOW-VALUES"
        ],
        "citation": [
          209,
          210,
          212
        ]
      }
    ],
    "data_flow": {
      "reads_from": [
        {
          "source": "COPAU0AI",
          "fields_used": [
            "ACCTIDI",
            "SEL0001I",
            "SEL0002I",
            "SEL0003I",
            "SEL0004I",
            "SEL0005I"
          ],
          "citation": [
            87,
            96,
            109,
            113,
            117,
            121,
            125
          ]
        },
        {
          "source": "PENDING-AUTH-DETAILS",
          "fields_used": [
            "PA-AUTHORIZATION-KEY",
            "PA-APPROVED-AMT",
            "PA-AUTH-ORIG-TIME",
            "PA-AUTH-ORIG-DATE",
            "PA-AUTH-RESP-CODE",
            "PA-TRANSACTION-ID",
            "PA-AUTH-TYPE",
            "PA-MATCH-STATUS"
          ],
          "citation": [
            309,
            339,
            341,
            345,
            350,
            361,
            364,
            366
          ]
        }
      ],
      "writes_to": [
        {
          "destination": "COPAU0AO",
          "fields_written": [
            "ACCTIDO",
            "ERRMSGO",
            "TRNID01I",
            "PDATE01I",
            "PTIME01I",
            "PTYPE01I",
            "PAPRV01I",
            "PSTAT01I",
            "PAMT001I",
            "SEL0001A",
            "TRNID02I",
            "PDATE02I",
            "PTIME02I",
            "PTYPE02I",
            "PAPRV02I",
            "PSTAT02I",
            "PAMT002I",
            "SEL0002A",
            "TRNID03I",
            "PDATE03I",
            "PTIME03I",
            "PTYPE03I",
            "PAPRV03I",
            "PSTAT03I",
            "PAMT003I",
            "SEL0003A",
            "TRNID04I",
            "PDATE04I",
            "PTIME04I",
            "PTYPE04I",
            "PAPRV04I",
            "PSTAT04I",
            "PAMT004I",
            "SEL0004A",
            "TRNID05I",
            "PDATE05I",
            "PTIME05I",
            "PTYPE05I",
            "PAPRV05I",
            "PSTAT05I",
            "PAMT005I",
            "SEL0005A"
          ],
          "citation": [
            11,
            34,
            36,
            54,
            56,
            361,
            362,
            363,
            364,
            365,
            366,
            367,
            368,
            373,
            374,
            375,
            376,
            377,
            378,
            379,
            380,
            385,
            386,
            387,
            388,
            389,
            390,
            391,
            392,
            397,
            398,
            399,
            400,
            401,
            402,
            403,
            404,
            409,
            410,
            411,
            412,
            413,
            414,
            415,
            416
          ]
        }
      ],
      "transforms": [
        {
          "input_field": "PA-APPROVED-AMT",
          "output_field": "WS-AUTH-AMT",
          "transformation_description": "Moves the approved amount to the working storage field.",
          "citation": [
            339
          ]
        },
        {
          "input_field": "PA-AUTH-ORIG-TIME",
          "output_field": "WS-AUTH-TIME",
          "transformation_description": "Formats the authorization time.",
          "citation": [
            341,
            342,
            343
          ]
        },
        {
          "input_field": "PA-AUTH-ORIG-DATE",
          "output_field": "WS-AUTH-DATE",
          "transformation_description": "Formats the authorization date.",
          "citation": [
            345,
            346,
            347,
            348
          ]
        },
        {
          "input_field": "PA-AUTH-RESP-CODE",
          "output_field": "WS-AUTH-APRV-STAT",
          "transformation_description": "Sets the authorization approval status based on the response code.",
          "citation": [
            350,
            351,
            353
          ]
        }
      ]
    },
    "copybooks_used": [
      {
        "copybook_name": "CARDDEMO-COMMAREA",
        "purpose": "Defines the communication area passed between CICS transactions.",
        "location": "LINKAGE",
        "citation": 16
      },
      {
        "copybook_name": "COPAU0AI",
        "purpose": "Defines the input map structure for the CICS screen.",
        "location": "WORKING_STORAGE",
        "citation": 87
      },
      {
        "copybook_name": "COPAU0AO",
        "purpose": "Defines the output map structure for the CICS screen.",
        "location": "WORKING_STORAGE",
        "citation": 11
      },
      {
        "copybook_name": "PENDING-AUTH-DETAILS",
        "purpose": "Defines the structure of the IMS segment containing pending authorization details.",
        "location": "WORKING_STORAGE",
        "citation": 278
      }
    ],
    "paragraphs": [
      {
        "paragraph_name": "COPAUS0C",
        "summary": null,
        "purpose": "This is the main paragraph and entry point of the CICS program. It determines whether the program is being called for the first time or re-entered. If it's the first time, it initializes the CARDDEMO-COMMAREA and sets the CDEMO-TO-PROGRAM to WS-PGM-AUTH-SMRY. If it's a re-entry, it moves the DFHCOMMAREA to CARDDEMO-COMMAREA. It then checks if CDEMO-PGM-REENTER is set. If not, it initializes the COPAU0AO map and moves the CDEMO-ACCT-ID to WS-ACCT-ID and ACCTIDO of COPAU0AO. It calls GATHER-DETAILS to retrieve account and authorization details. Finally, it calls SEND-PAULST-SCREEN to display the initial screen. The paragraph ends by returning control to CICS using EXEC CICS RETURN.",
        "called_by": [],
        "calls": [
          "SEND-PAULST-SCREEN",
          "COCOM01Y",
          "COPAU00",
          "COTTL01Y",
          "CSDAT01Y",
          "CSMSG01Y",
          "CSNBK01",
          "CSNBL01",
          "CSNBT01",
          "CSNBU01",
          "CSNBY01",
          "CSZOS01"
        ],
        "citation": [
          23,
          23
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "MAIN-PARA",
        "summary": null,
        "purpose": "This paragraph serves as the main control logic for the CICS transaction. It first initializes flags and variables, including setting ERR-FLG-OFF, AUTHS-NOT-EOF, and NEXT-PAGE-NO to TRUE, and moving SPACES to WS-MESSAGE. It checks if the EIBCALEN is 0, indicating a first-time call. If so, it initializes the CARDDEMO-COMMAREA, sets CDEMO-TO-PROGRAM to WS-PGM-AUTH-SMRY, and moves LOW-VALUES to COPAU0AO. If not, it moves the DFHCOMMAREA to CARDDEMO-COMMAREA. It then checks if CDEMO-PGM-REENTER is set. If not, it moves LOW-VALUES to COPAU0AO and calls GATHER-DETAILS to retrieve account details and authorization summaries. If CDEMO-PGM-REENTER is set, it receives the screen data using RECEIVE-PAULST-SCREEN and evaluates the EIBAID to determine the action to perform based on the user's input (ENTER, PF3, PF7, PF8). Depending on the key pressed, it calls different paragraphs (PROCESS-ENTER-KEY, RETURN-TO-PREV-SCREEN, PROCESS-PF7-KEY, PROCESS-PF8-KEY) to handle the user's request. Finally, it returns control to CICS with the updated CARDDEMO-COMMAREA.",
        "called_by": [],
        "calls": [
          "SEND-PAULST-SCREEN",
          "GATHER-DETAILS",
          "SEND-PAULST-SCREEN",
          "RECEIVE-PAULST-SCREEN",
          "PROCESS-ENTER-KEY",
          "RETURN-TO-PREV-SCREEN",
          "PROCESS-PF7-KEY",
          "PROCESS-PF8-KEY",
          "SEND-PAULST-SCREEN"
        ],
        "citation": [
          178,
          260
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "PROCESS-ENTER-KEY",
        "summary": null,
        "purpose": "This paragraph processes the user's input when the ENTER key is pressed. It first checks if the account ID entered on the screen (ACCTIDI of COPAU0AI) is spaces or LOW-VALUES. If so, it sets an error flag and displays an error message. If the account ID is not numeric, it also sets an error flag and displays an error message. Otherwise, it moves the entered account ID to WS-ACCT-ID and CDEMO-ACCT-ID. It then evaluates the selection fields (SEL0001I to SEL0005I) to determine if an authorization has been selected. If an authorization is selected, it moves the corresponding authorization key to CDEMO-CPVS-PAU-SELECTED. If a valid selection is made (CDEMO-CPVS-PAU-SEL-FLG is 'S'), it sets the program context and transfers control to the authorization details program (CDEMO-TO-PROGRAM) using EXEC CICS XCTL. If the selection is invalid, it displays an error message. Finally, it calls GATHER-DETAILS to refresh the account and authorization details.",
        "called_by": [],
        "calls": [
          "GATHER-DETAILS",
          "CDEMO-TO-PROGRAM"
        ],
        "citation": [
          261,
          341
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "GATHER-DETAILS",
        "summary": null,
        "purpose": "This paragraph gathers account and authorization details. It first moves -1 to ACCTIDL of COPAU0AI and 0 to CDEMO-CPVS-PAGE-NUM. If WS-ACCT-ID is not LOW-VALUES, it calls GATHER-ACCOUNT-DETAILS to retrieve account-specific information. It then calls INITIALIZE-AUTH-DATA to initialize authorization data. If FOUND-PAUT-SMRY-SEG is set, indicating that authorization summary data was found, it calls PROCESS-PAGE-FORWARD to retrieve and display the authorization details. This paragraph orchestrates the retrieval and initialization of data related to the account and its authorizations, preparing the data for display on the screen.",
        "called_by": [],
        "calls": [
          "GATHER-ACCOUNT-DETAILS",
          "INITIALIZE-AUTH-DATA",
          "PROCESS-PAGE-FORWARD"
        ],
        "citation": [
          342,
          361
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "PROCESS-PF7-KEY",
        "summary": null,
        "purpose": "This paragraph handles the processing when the PF7 key (previous page) is pressed. It first checks if the current page number (CDEMO-CPVS-PAGE-NUM) is greater than 1. If it is, it decrements the page number by 1 using `COMPUTE CDEMO-CPVS-PAGE-NUM = CDEMO-CPVS-PAGE-NUM - 1` (line 366). It then moves the authorization key for the previous page from CDEMO-CPVS-PAUKEY-PREV-PG to WS-AUTH-KEY-SAVE. It calls GET-AUTH-SUMMARY to retrieve the authorization summary for the previous page. It sets SEND-ERASE-NO to TRUE to prevent the screen from being erased and sets NEXT-PAGE-YES to TRUE. It calls INITIALIZE-AUTH-DATA to initialize the authorization data and then calls PROCESS-PAGE-FORWARD to retrieve and display the authorization details for the previous page. If the current page number is not greater than 1, it displays a message indicating that the user is already at the top of the page and sets SEND-ERASE-NO to TRUE.",
        "called_by": [],
        "calls": [
          "GET-AUTH-SUMMARY",
          "INITIALIZE-AUTH-DATA",
          "PROCESS-PAGE-FORWARD"
        ],
        "citation": [
          362,
          387
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "PROCESS-PF8-KEY",
        "summary": null,
        "purpose": "This paragraph handles the processing when the PF8 key (next page) is pressed. It first checks if the last authorization key (CDEMO-CPVS-PAUKEY-LAST) is spaces or LOW-VALUES. If it is, it moves LOW-VALUES to WS-AUTH-KEY-SAVE. Otherwise, it moves CDEMO-CPVS-PAUKEY-LAST to WS-AUTH-KEY-SAVE and calls GET-AUTH-SUMMARY and REPOSITION-AUTHORIZATIONS. It sets SEND-ERASE-NO to TRUE to prevent the screen from being erased. If NEXT-PAGE-YES is set, it calls INITIALIZE-AUTH-DATA and PROCESS-PAGE-FORWARD to retrieve and display the authorization details for the next page. If NEXT-PAGE-YES is not set, it displays a message indicating that the user is already at the bottom of the page.",
        "called_by": [],
        "calls": [
          "GET-AUTH-SUMMARY",
          "REPOSITION-AUTHORIZATIONS",
          "INITIALIZE-AUTH-DATA",
          "PROCESS-PAGE-FORWARD"
        ],
        "citation": [
          388,
          414
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "PROCESS-PAGE-FORWARD",
        "summary": null,
        "purpose": "This paragraph processes the retrieval and display of authorization details for a page. It first checks if ERR-FLG-OFF is set. If it is, it moves 1 to WS-IDX and LOW-VALUES to CDEMO-CPVS-PAUKEY-LAST. It then enters a loop that continues until WS-IDX is greater than 5, AUTHS-EOF is set, or ERR-FLG-ON is set. Inside the loop, it checks if EIBAID is DFHPF7 and WS-IDX is 1. If so, it calls REPOSITION-AUTHORIZATIONS. Otherwise, it calls GET-AUTHORIZATIONS. If AUTHS-NOT-EOF and ERR-FLG-OFF are set, it calls POPULATE-AUTH-LIST to populate the authorization list on the screen, increments WS-IDX using `COMPUTE WS-IDX = WS-IDX + 1` (line 432), moves PA-AUTHORIZATION-KEY to CDEMO-CPVS-PAUKEY-LAST, and checks if WS-IDX is 2. If it is, it increments CDEMO-CPVS-PAGE-NUM using `COMPUTE CDEMO-CPVS-PAGE-NUM = CDEMO-CPVS-PAGE-NUM + 1` (line 437) and moves PA-AUTHORIZATION-KEY to CDEMO-CPVS-PAUKEY-PREV-PG. After the loop, it checks if AUTHS-NOT-EOF and ERR-FLG-OFF are set. If so, it calls GET-AUTHORIZATIONS and checks if AUTHS-NOT-EOF and ERR-FLG-OFF are still set. If they are, it sets NEXT-PAGE-YES to TRUE. Otherwise, it sets NEXT-PAGE-NO to TRUE. The loop terminates when WS-IDX > 5 (line 424), AUTHS-EOF or ERR-FLG-ON.",
        "called_by": [],
        "calls": [
          "REPOSITION-AUTHORIZATIONS",
          "GET-AUTHORIZATIONS",
          "POPULATE-AUTH-LIST",
          "GET-AUTHORIZATIONS"
        ],
        "citation": [
          415,
          457
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "GET-AUTHORIZATIONS",
        "summary": null,
        "purpose": "This paragraph retrieves authorization details from the IMS database. It executes a GNP (Get Next within Parent) command using EXEC DLI GNP to retrieve the next PAUTDTL1 segment from the IMS database, placing the data into PENDING-AUTH-DETAILS. It then moves the DIBSTAT value to IMS-RETURN-CODE. It evaluates the IMS-RETURN-CODE to determine the status of the retrieval. If the status is STATUS-OK, it sets AUTHS-NOT-EOF to TRUE. If the status is SEGMENT-NOT-FOUND or END-OF-DB, it sets AUTHS-EOF to TRUE. If the status is OTHER, it sets WS-ERR-FLG to 'Y', constructs an error message containing the IMS-RETURN-CODE, moves -1 to ACCTIDL of COPAU0AI, and calls SEND-PAULST-SCREEN to display the error message.",
        "called_by": [],
        "calls": [
          "SEND-PAULST-SCREEN"
        ],
        "citation": [
          458,
          487
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "REPOSITION-AUTHORIZATIONS",
        "summary": null,
        "purpose": "This paragraph repositions the IMS cursor to a specific authorization. It moves WS-AUTH-KEY-SAVE to PA-AUTHORIZATION-KEY. It then executes a GNP (Get Next within Parent) command using EXEC DLI GNP to retrieve the PAUTDTL1 segment from the IMS database where PAUT9CTS matches PA-AUTHORIZATION-KEY. The retrieved data is placed into PENDING-AUTH-DETAILS. It moves the DIBSTAT value to IMS-RETURN-CODE. It evaluates the IMS-RETURN-CODE to determine the status of the retrieval. If the status is STATUS-OK, it sets AUTHS-NOT-EOF to TRUE. If the status is SEGMENT-NOT-FOUND or END-OF-DB, it sets AUTHS-EOF to TRUE. If the status is OTHER, it sets WS-ERR-FLG to 'Y', constructs an error message containing the IMS-RETURN-CODE, moves -1 to ACCTIDL of COPAU0AI, and calls SEND-PAULST-SCREEN to display the error message.",
        "called_by": [],
        "calls": [
          "SEND-PAULST-SCREEN"
        ],
        "citation": [
          488,
          521
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "POPULATE-AUTH-LIST",
        "summary": null,
        "purpose": "This paragraph populates the authorization list on the CICS screen with data from the PENDING-AUTH-DETAILS segment. It moves PA-APPROVED-AMT to WS-AUTH-AMT, formats the authorization time by moving portions of PA-AUTH-ORIG-TIME to WS-AUTH-TIME, and formats the authorization date by moving portions of PA-AUTH-ORIG-DATE to WS-CURDATE-YY, WS-CURDATE-MM and WS-CURDATE-DD, then moving WS-CURDATE-MM-DD-YY to WS-AUTH-DATE. It determines the authorization approval status by checking PA-AUTH-RESP-CODE. If it's '00', it moves 'A' to WS-AUTH-APRV-STAT; otherwise, it moves 'D' to WS-AUTH-APRV-STAT. It then evaluates WS-IDX to determine which row on the screen to populate. For each value of WS-IDX (1 to 5), it moves PA-AUTHORIZATION-KEY to the corresponding CDEMO-CPVS-AUTH-KEYS element and moves PA-TRANSACTION-ID, WS-AUTH-DATE, WS-AUTH-TIME, PA-AUTH-TYPE, WS-AUTH-APRV-STAT, PA-MATCH-STATUS, and WS-AUTH-AMT to the corresponding fields in the COPAU0AI map. It also moves DFHBMUNP to the corresponding SEL000xA field to allow the user to select the authorization. The paragraph effectively transforms and moves data from the IMS segment to the CICS screen for display. The loop terminates implicitly when WS-IDX exceeds 5 in PROCESS-PAGE-FORWARD (line 424).",
        "called_by": [],
        "calls": [],
        "citation": [
          522,
          607
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      }
    ],
    "error_handling": [
      {
        "condition": "ACCTIDI OF COPAU0AI = SPACES OR LOW-VALUES",
        "action": "Sets WS-ERR-FLG to 'Y' and displays an error message.",
        "citation": [
          87,
          90,
          92
        ]
      },
      {
        "condition": "ACCTIDI OF COPAU0AI IS NOT NUMERIC",
        "action": "Sets WS-ERR-FLG to 'Y' and displays an error message.",
        "citation": [
          96,
          99,
          101
        ]
      },
      {
        "condition": "Invalid selection (CDEMO-CPVS-PAU-SEL-FLG not = 'S')",
        "action": "Displays an error message.",
        "citation": [
          150,
          152
        ]
      },
      {
        "condition": "DIBSTAT not STATUS-OK, SEGMENT-NOT-FOUND, or END-OF-DB in GET-AUTHORIZATIONS",
        "action": "Sets WS-ERR-FLG to 'Y' and displays an error message with the IMS return code.",
        "citation": [
          288,
          291,
          293
        ]
      },
      {
        "condition": "DIBSTAT not STATUS-OK, SEGMENT-NOT-FOUND, or END-OF-DB in REPOSITION-AUTHORIZATIONS",
        "action": "Sets WS-ERR-FLG to 'Y' and displays an error message with the IMS return code.",
        "citation": [
          322,
          325,
          326
        ]
      }
    ],
    "sql_operations": [],
    "cics_operations": [
      {
        "command": "RETURN",
        "resource": null,
        "purpose": "Returns control to CICS.",
        "citation": 79
      },
      {
        "command": "XCTL",
        "resource": "CDEMO-TO-PROGRAM",
        "purpose": "Transfers control to another CICS program.",
        "citation": 146
      }
    ],
    "open_questions": [
      {
        "question": "What is the purpose of the called programs COCOM01Y, COPAU00, COTTL01Y, CSDAT01Y, CSMSG01Y, CSNBK01, CSNBL01, CSNBT01, CSNBU01, CSNBY01, CSZOS01?",
        "context": "These programs are called in paragraph COPAUS0C, but their purpose is not clear from the code.",
        "suggestion": "Need to analyze these programs to understand their functionality."
      },
      {
        "question": "What is the structure and purpose of the CARDDEMO-COMMAREA?",
        "context": "The copybook CARDDEMO-COMMAREA is used for communication between CICS programs, but its exact structure and the meaning of its fields are not clear from this code alone.",
        "suggestion": "Need to examine the CARDDEMO-COMMAREA copybook definition."
      }
    ],
    "resolved_questions": [],
    "dead_code": [],
    "call_semantics": [],
    "flow_diagram": null
  },
  "saved_at": "2026-02-24T10:34:07.403041"
}