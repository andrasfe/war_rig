{
  "batch_idx": 1,
  "total_batches": 3,
  "template": {
    "header": {
      "program_id": "COPAUS0C",
      "file_name": "COPAUS0C.cbl",
      "file_type": "COBOL",
      "analyzed_by": "WAR_RIG",
      "analyzed_at": "2026-02-24T17:37:43.364384",
      "iteration_count": 1,
      "final_status": null
    },
    "purpose": {
      "summary": "This CICS COBOL program retrieves and displays account, customer, and authorization summary information on a CICS screen. It receives an account ID, retrieves related data from VSAM files and an IMS database, formats the data, and sends it to the COPAU0A screen.",
      "business_context": "This program is likely used by customer service representatives to view customer account details and authorization history.",
      "program_type": "ONLINE_CICS",
      "citations": [
        139,
        140,
        141,
        171
      ]
    },
    "inputs": [
      {
        "name": "COPAU0AI",
        "io_type": "CICS_MAP",
        "description": "Input map containing account ID and other screen input fields.",
        "copybook": "COPAU0AI",
        "citation": [
          107
        ]
      },
      {
        "name": "CARDDEMO-COMMAREA",
        "io_type": "CICS_COMMAREA",
        "description": "Communication area used to pass data to other programs.",
        "copybook": "CARDDEMO-COMMAREA",
        "citation": [
          68
        ]
      }
    ],
    "outputs": [
      {
        "name": "COPAU0AO",
        "io_type": "CICS_MAP",
        "description": "Output map containing formatted account, customer, and authorization summary information for display on the screen.",
        "copybook": "COPAU0AO",
        "citation": [
          88,
          96
        ]
      }
    ],
    "called_programs": [
      {
        "program_name": "COSGN00C",
        "call_type": "CICS_XCTL",
        "purpose": "Returns control to the calling program, likely a menu or another account management screen.",
        "parameters": [
          "CARDDEMO-COMMAREA"
        ],
        "citation": 67
      }
    ],
    "calling_context": {
      "called_by": [],
      "entry_points": [],
      "linkage_section": []
    },
    "business_rules": [
      {
        "rule_id": "BR001",
        "description": "If the card cross-reference record is not found, display an error message on the screen.",
        "logic_summary": "Checks WS-RESP-CD for DFHRESP(NOTFND) after reading CARD-XREF-RECORD.",
        "conditions": [
          "WS-RESP-CD = DFHRESP(NOTFND)"
        ],
        "citation": [
          212,
          216
        ]
      },
      {
        "rule_id": "BR002",
        "description": "If the account record is not found, display an error message on the screen.",
        "logic_summary": "Checks WS-RESP-CD for DFHRESP(NOTFND) after reading ACCOUNT-RECORD.",
        "conditions": [
          "WS-RESP-CD = DFHRESP(NOTFND)"
        ],
        "citation": [
          262,
          265
        ]
      },
      {
        "rule_id": "BR003",
        "description": "If the customer record is not found, display an error message on the screen.",
        "logic_summary": "Checks WS-RESP-CD for DFHRESP(NOTFND) after reading CUSTOMER-RECORD.",
        "conditions": [
          "WS-RESP-CD = DFHRESP(NOTFND)"
        ],
        "citation": [
          312,
          315
        ]
      },
      {
        "rule_id": "BR004",
        "description": "If the pending authorization summary segment is not found in IMS, the output fields are set to zero.",
        "logic_summary": "Checks DIBSTAT for SEGMENT-NOT-FOUND after the IMS call.",
        "conditions": [
          "DIBSTAT = SEGMENT-NOT-FOUND"
        ],
        "citation": [
          360,
          364,
          187
        ]
      }
    ],
    "data_flow": {
      "reads_from": [
        {
          "source": "COPAU0AI",
          "fields_used": [
            "ACCTIDL"
          ],
          "citation": [
            228,
            243,
            277,
            292,
            327,
            342,
            375
          ]
        },
        {
          "source": "CARD-XREF-RECORD",
          "fields_used": [
            "XREF-CUST-ID",
            "XREF-CARD-NUM"
          ],
          "citation": [
            214,
            215
          ]
        },
        {
          "source": "ACCOUNT-RECORD",
          "fields_used": [
            "ACCT-CREDIT-LIMIT",
            "ACCT-CASH-CREDIT-LIMIT"
          ],
          "citation": [
            166,
            168
          ]
        },
        {
          "source": "CUSTOMER-RECORD",
          "fields_used": [
            "CUST-ID",
            "CUST-FIRST-NAME",
            "CUST-MIDDLE-NAME",
            "CUST-LAST-NAME",
            "CUST-ADDR-LINE-1",
            "CUST-ADDR-LINE-2",
            "CUST-ADDR-LINE-3",
            "CUST-ADDR-STATE-CD",
            "CUST-ADDR-ZIP",
            "CUST-PHONE-NUM-1"
          ],
          "citation": [
            143,
            144,
            146,
            148,
            152,
            154,
            157,
            159,
            161,
            165
          ]
        },
        {
          "source": "PENDING-AUTH-SUMMARY",
          "fields_used": [
            "PA-APPROVED-AUTH-CNT",
            "PA-DECLINED-AUTH-CNT",
            "PA-CREDIT-BALANCE",
            "PA-CASH-BALANCE",
            "PA-APPROVED-AUTH-AMT",
            "PA-DECLINED-AUTH-AMT"
          ],
          "citation": [
            174,
            176,
            178,
            180,
            182,
            184
          ]
        }
      ],
      "writes_to": [
        {
          "destination": "COPAU0AO",
          "fields_written": [
            "TITLE01O",
            "TITLE02O",
            "TRNNAMEO",
            "PGMNAMEO",
            "CURDATEO",
            "CURTIMEO",
            "ERRMSGO",
            "CUSTIDO",
            "CNAMEO",
            "ADDR001O",
            "ADDR002O",
            "PHONE1O",
            "CREDLIMO",
            "CASHLIMO",
            "APPRCNTO",
            "DECLCNTO",
            "CREDBALO",
            "CASHBALO",
            "APPRAMTO",
            "DECLAMTO"
          ],
          "citation": [
            118,
            119,
            120,
            121,
            127,
            133,
            82,
            143,
            149,
            155,
            162,
            165,
            167,
            169,
            175,
            177,
            179,
            181,
            183,
            185
          ]
        }
      ],
      "transforms": [
        {
          "input_field": "ACCT-CREDIT-LIMIT",
          "output_field": "CREDLIMO",
          "transformation_description": "Move ACCT-CREDIT-LIMIT to WS-DISPLAY-AMT12, then move WS-DISPLAY-AMT12 to CREDLIMO for display formatting.",
          "citation": [
            166,
            167
          ]
        },
        {
          "input_field": "ACCT-CASH-CREDIT-LIMIT",
          "output_field": "CASHLIMO",
          "transformation_description": "Move ACCT-CASH-CREDIT-LIMIT to WS-DISPLAY-AMT9, then move WS-DISPLAY-AMT9 to CASHLIMO for display formatting.",
          "citation": [
            168,
            169
          ]
        },
        {
          "input_field": "PA-APPROVED-AUTH-CNT",
          "output_field": "APPRCNTO",
          "transformation_description": "Move PA-APPROVED-AUTH-CNT to WS-DISPLAY-COUNT, then move WS-DISPLAY-COUNT to APPRCNTO for display formatting.",
          "citation": [
            174,
            175
          ]
        },
        {
          "input_field": "PA-DECLINED-AUTH-CNT",
          "output_field": "DECLCNTO",
          "transformation_description": "Move PA-DECLINED-AUTH-CNT to WS-DISPLAY-COUNT, then move WS-DISPLAY-COUNT to DECLCNTO for display formatting.",
          "citation": [
            176,
            177
          ]
        },
        {
          "input_field": "PA-CREDIT-BALANCE",
          "output_field": "CREDBALO",
          "transformation_description": "Move PA-CREDIT-BALANCE to WS-DISPLAY-AMT12, then move WS-DISPLAY-AMT12 to CREDBALO for display formatting.",
          "citation": [
            178,
            179
          ]
        },
        {
          "input_field": "PA-CASH-BALANCE",
          "output_field": "CASHBALO",
          "transformation_description": "Move PA-CASH-BALANCE to WS-DISPLAY-AMT9, then move WS-DISPLAY-AMT9 to CASHBALO for display formatting.",
          "citation": [
            180,
            181
          ]
        },
        {
          "input_field": "PA-APPROVED-AUTH-AMT",
          "output_field": "APPRAMTO",
          "transformation_description": "Move PA-APPROVED-AUTH-AMT to WS-DISPLAY-AMT9, then move WS-DISPLAY-AMT9 to APPRAMTO for display formatting.",
          "citation": [
            182,
            183
          ]
        },
        {
          "input_field": "PA-DECLINED-AUTH-AMT",
          "output_field": "DECLAMTO",
          "transformation_description": "Move PA-DECLINED-AUTH-AMT to WS-DISPLAY-AMT9, then move WS-DISPLAY-AMT9 to DECLAMTO for display formatting.",
          "citation": [
            184,
            185
          ]
        }
      ]
    },
    "copybooks_used": [
      {
        "copybook_name": "COPAU0AI",
        "purpose": "Defines the input map structure for the COPAU0A screen.",
        "location": "WORKING_STORAGE",
        "citation": 7
      },
      {
        "copybook_name": "COPAU0AO",
        "purpose": "Defines the output map structure for the COPAU0A screen.",
        "location": "WORKING_STORAGE",
        "citation": 82
      },
      {
        "copybook_name": "CARDDEMO-COMMAREA",
        "purpose": "Defines the communication area used for passing data between programs.",
        "location": "LINKAGE",
        "citation": 68
      }
    ],
    "paragraphs": [
      {
        "paragraph_name": "INITIALIZE-AUTH-DATA",
        "summary": null,
        "purpose": "This paragraph initializes the authorization data fields in the COPAU0AI map. It iterates through five authorization slots (WS-IDX from 1 to 5) and sets the selection field (SEL000xA), transaction ID (TRNID0xI), date (PDATE0xI), time (PTIME0xI), type (PTYPE0xI), approval code (PAPRV0xI), status (PSTAT0xI), and amount (PAMT00xI) fields to either 'DFHBMPRO' or spaces. The purpose is to clear any previous authorization data displayed on the screen and prepare the fields for new data. It consumes WS-IDX as the loop counter and uses the COPAU0AI map as the target for initialization. It produces initialized fields within the COPAU0AI map. There is no explicit business logic or error handling within this paragraph. It does not call any other paragraphs or programs.",
        "called_by": [],
        "calls": [],
        "citation": [
          1,
          55
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "RETURN-TO-PREV-SCREEN",
        "summary": null,
        "purpose": "This paragraph returns control to the previous screen using a CICS XCTL command. It first checks if CDEMO-TO-PROGRAM is empty (LOW-VALUES or SPACES). If it is, it defaults the target program to 'COSGN00C'. Then, it moves the current transaction ID (WS-CICS-TRANID) to CDEMO-FROM-TRANID, the current program name (WS-PGM-AUTH-SMRY) to CDEMO-FROM-PROGRAM, and zeros to CDEMO-PGM-CONTEXT. Finally, it executes a CICS XCTL command to transfer control to the program specified in CDEMO-TO-PROGRAM, passing the CARDDEMO-COMMAREA. The purpose is to navigate back to the calling screen, preserving context information. It consumes WS-CICS-TRANID and WS-PGM-AUTH-SMRY. It produces values in CDEMO-FROM-TRANID, CDEMO-FROM-PROGRAM, and CDEMO-PGM-CONTEXT. There is a conditional check for CDEMO-TO-PROGRAM. It calls the CDEMO-TO-PROGRAM via CICS XCTL.",
        "called_by": [],
        "calls": [
          "CDEMO-TO-PROGRAM"
        ],
        "citation": [
          57,
          70
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "SEND-PAULST-SCREEN",
        "summary": null,
        "purpose": "This paragraph sends the COPAU0A screen to the terminal. It first checks if IMS-PSB-SCHD is set to TRUE. If so, it sets IMS-PSB-NOT-SCHD to TRUE and issues a CICS SYNCPOINT command. Then, it performs the POPULATE-HEADER-INFO paragraph to populate the header fields of the output map. It moves the contents of WS-MESSAGE to the ERRMSGO field in the output map. Finally, it sends the COPAU0A screen using a CICS SEND MAP command, either with the ERASE option (if SEND-ERASE-YES is TRUE) or without it. The purpose is to display the formatted data on the screen. It consumes IMS-PSB-SCHD, WS-MESSAGE, and SEND-ERASE-YES. It produces the displayed screen. There is a conditional check for IMS-PSB-SCHD and SEND-ERASE-YES. It calls POPULATE-HEADER-INFO.",
        "called_by": [
          "GETCARDXREF-BYACCT",
          "GETACCTDATA-BYACCT",
          "GETCUSTDATA-BYCUST",
          "GET-AUTH-SUMMARY"
        ],
        "calls": [
          "POPULATE-HEADER-INFO"
        ],
        "citation": [
          71,
          99
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "RECEIVE-PAULST-SCREEN",
        "summary": null,
        "purpose": "This paragraph receives data from the COPAU0A screen. It executes a CICS RECEIVE MAP command to receive the data from the COPAU0A mapset COPAU00 into the COPAU0AI input map. It also captures the CICS response code (RESP) and reason code (RESP2) into WS-RESP-CD and WS-REAS-CD, respectively. The primary purpose is to retrieve the account ID entered by the user on the screen. It consumes the COPAU0A screen input. It produces data in the COPAU0AI map, WS-RESP-CD, and WS-REAS-CD. There is no business logic or error handling within this paragraph (error handling is likely done by checking WS-RESP-CD after the RECEIVE). It does not call any other paragraphs or programs.",
        "called_by": [],
        "calls": [],
        "citation": [
          101,
          111
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "POPULATE-HEADER-INFO",
        "summary": null,
        "purpose": "This paragraph populates the header information in the output map (COPAU0AO). It moves the current date and time to the corresponding fields in the map. It moves CCDA-TITLE01 to TITLE01O, CCDA-TITLE02 to TITLE02O, WS-CICS-TRANID to TRNNAMEO, and WS-PGM-AUTH-SMRY to PGMNAMEO. It formats the current date and time into WS-CURDATE-MM-DD-YY and WS-CURTIME-HH-MM-SS, respectively, and then moves them to CURDATEO and CURTIMEO in the output map. The purpose is to display the current date, time, transaction ID, and program name on the screen. It consumes CCDA-TITLE01, CCDA-TITLE02, WS-CICS-TRANID, WS-PGM-AUTH-SMRY, and the current date and time. It produces populated header fields in the COPAU0AO map. There is no business logic or error handling within this paragraph. It does not call any other paragraphs or programs.",
        "called_by": [
          "SEND-PAULST-SCREEN"
        ],
        "calls": [],
        "citation": [
          113,
          134
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "GATHER-ACCOUNT-DETAILS",
        "summary": null,
        "purpose": "This paragraph orchestrates the retrieval of account, customer, and authorization summary data. It performs GETCARDXREF-BYACCT to retrieve the card cross-reference record, GETACCTDATA-BYACCT to retrieve the account data, and GETCUSTDATA-BYCUST to retrieve the customer data. It then moves the customer ID to CUSTIDO and concatenates the customer's first, middle initial, and last name into CNAMEO. It also concatenates the customer's address lines into ADDR001O and ADDR002O. It moves the customer's phone number to PHONE1O, the account credit limit to CREDLIMO, and the account cash credit limit to CASHLIMO. Finally, it performs GET-AUTH-SUMMARY to retrieve the authorization summary data. The purpose is to gather all the necessary data for displaying the account details on the screen. It consumes data from CARD-XREF-RECORD, ACCOUNT-RECORD, CUSTOMER-RECORD, and PENDING-AUTH-SUMMARY (indirectly through called paragraphs). It produces populated fields in the COPAU0AO map. There is a conditional check for FOUND-PAUT-SMRY-SEG. It calls GETCARDXREF-BYACCT, GETACCTDATA-BYACCT, GETCUSTDATA-BYCUST, and GET-AUTH-SUMMARY.",
        "called_by": [],
        "calls": [
          "GETCARDXREF-BYACCT",
          "GETACCTDATA-BYACCT",
          "GETCUSTDATA-BYCUST",
          "GET-AUTH-SUMMARY"
        ],
        "citation": [
          136,
          194
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "GETCARDXREF-BYACCT",
        "summary": null,
        "purpose": "This paragraph retrieves the card cross-reference record from the VSAM file specified by WS-CARDXREFNAME-ACCT-PATH using the account ID. It moves the account ID (WS-ACCT-ID) to WS-CARD-RID-ACCT-ID-X. It then executes a CICS READ command to read the CARD-XREF-RECORD from the VSAM file. If the read is successful (DFHRESP(NORMAL)), it moves the customer ID (XREF-CUST-ID) to CDEMO-CUST-ID and the card number (XREF-CARD-NUM) to CDEMO-CARD-NUM. If the record is not found (DFHRESP(NOTFND)), it constructs an error message and calls SEND-PAULST-SCREEN to display the error. If any other error occurs, it sets WS-ERR-FLG to 'Y', constructs an error message, and calls SEND-PAULST-SCREEN. The purpose is to retrieve the customer ID and card number associated with the given account ID. It consumes WS-ACCT-ID and WS-CARDXREFNAME-ACCT-PATH. It produces CDEMO-CUST-ID and CDEMO-CARD-NUM if the record is found, or an error message on the screen if not. There are conditional checks for DFHRESP(NORMAL), DFHRESP(NOTFND), and OTHER. It calls SEND-PAULST-SCREEN.",
        "called_by": [
          "GATHER-ACCOUNT-DETAILS"
        ],
        "calls": [
          "SEND-PAULST-SCREEN",
          "WS-CARDXREFNAME-ACCT-PATH"
        ],
        "citation": [
          196,
          246
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "GETACCTDATA-BYACCT",
        "summary": null,
        "purpose": "This paragraph retrieves the account record from the VSAM file specified by WS-ACCTFILENAME using the account ID. It moves the account ID (XREF-ACCT-ID) to WS-CARD-RID-ACCT-ID-X. It then executes a CICS READ command to read the ACCOUNT-RECORD from the VSAM file. If the read is successful (DFHRESP(NORMAL)), it continues processing. If the record is not found (DFHRESP(NOTFND)), it constructs an error message and calls SEND-PAULST-SCREEN to display the error. If any other error occurs, it sets WS-ERR-FLG to 'Y', constructs an error message, and calls SEND-PAULST-SCREEN. The purpose is to retrieve the account data associated with the given account ID. It consumes XREF-ACCT-ID and WS-ACCTFILENAME. It produces ACCOUNT-RECORD if the record is found, or an error message on the screen if not. There are conditional checks for DFHRESP(NORMAL), DFHRESP(NOTFND), and OTHER. It calls SEND-PAULST-SCREEN.",
        "called_by": [
          "GATHER-ACCOUNT-DETAILS"
        ],
        "calls": [
          "SEND-PAULST-SCREEN",
          "WS-ACCTFILENAME"
        ],
        "citation": [
          248,
          295
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "GETCUSTDATA-BYCUST",
        "summary": null,
        "purpose": "This paragraph retrieves the customer record from the VSAM file specified by WS-CUSTFILENAME using the customer ID. It moves the customer ID (XREF-CUST-ID) to WS-CARD-RID-CUST-ID. It then executes a CICS READ command to read the CUSTOMER-RECORD from the VSAM file. If the read is successful (DFHRESP(NORMAL)), it continues processing. If the record is not found (DFHRESP(NOTFND)), it constructs an error message and calls SEND-PAULST-SCREEN to display the error. If any other error occurs, it sets WS-ERR-FLG to 'Y', constructs an error message, and calls SEND-PAULST-SCREEN. The purpose is to retrieve the customer data associated with the given customer ID. It consumes XREF-CUST-ID and WS-CUSTFILENAME. It produces CUSTOMER-RECORD if the record is found, or an error message on the screen if not. There are conditional checks for DFHRESP(NORMAL), DFHRESP(NOTFND), and OTHER. It calls SEND-PAULST-SCREEN.",
        "called_by": [
          "GATHER-ACCOUNT-DETAILS"
        ],
        "calls": [
          "SEND-PAULST-SCREEN",
          "WS-CUSTFILENAME"
        ],
        "citation": [
          297,
          345
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      },
      {
        "paragraph_name": "GET-AUTH-SUMMARY",
        "summary": null,
        "purpose": "This paragraph retrieves the authorization summary from the IMS database. It first performs SCHEDULE-PSB to schedule the PSB. It then moves the account ID (CDEMO-ACCT-ID) to PA-ACCT-ID. It executes a DLI GU (Get Unique) command using the PAUT-PCB-NUM PCB to retrieve the PAUTSUM0 segment from the IMS database, placing the data into PENDING-AUTH-SUMMARY. It checks the IMS return code (DIBSTAT). If the segment is found (STATUS-OK), it sets FOUND-PAUT-SMRY-SEG to TRUE. If the segment is not found (SEGMENT-NOT-FOUND), it sets NFOUND-PAUT-SMRY-SEG to TRUE. If any other error occurs, it sets WS-ERR-FLG to 'Y', constructs an error message, and calls SEND-PAULST-SCREEN. The purpose is to retrieve the authorization summary data for the given account ID. It consumes CDEMO-ACCT-ID and PAUT-PCB-NUM. It produces PENDING-AUTH-SUMMARY if the segment is found, or an error message on the screen if not. There are conditional checks for STATUS-OK, SEGMENT-NOT-FOUND, and OTHER. It calls SCHEDULE-PSB and SEND-PAULST-SCREEN.",
        "called_by": [
          "GATHER-ACCOUNT-DETAILS"
        ],
        "calls": [
          "SCHEDULE-PSB",
          "SEND-PAULST-SCREEN"
        ],
        "citation": [
          347,
          378
        ],
        "outgoing_calls": [],
        "incoming_calls": [],
        "is_dead_code": false,
        "dead_code_reason": null,
        "metadata": null
      }
    ],
    "error_handling": [
      {
        "condition": "CARD-XREF-RECORD not found",
        "action": "Display error message and set ACCTIDL to -1",
        "citation": [
          216,
          220,
          228
        ]
      },
      {
        "condition": "System error reading CARD-XREF-RECORD",
        "action": "Set WS-ERR-FLG to 'Y', display error message, and set ACCTIDL to -1",
        "citation": [
          230,
          235,
          243
        ]
      },
      {
        "condition": "ACCOUNT-RECORD not found",
        "action": "Display error message and set ACCTIDL to -1",
        "citation": [
          265,
          269,
          277
        ]
      },
      {
        "condition": "System error reading ACCOUNT-RECORD",
        "action": "Set WS-ERR-FLG to 'Y', display error message, and set ACCTIDL to -1",
        "citation": [
          279,
          284,
          292
        ]
      },
      {
        "condition": "CUSTOMER-RECORD not found",
        "action": "Display error message and set ACCTIDL to -1",
        "citation": [
          315,
          319,
          327
        ]
      },
      {
        "condition": "System error reading CUSTOMER-RECORD",
        "action": "Set WS-ERR-FLG to 'Y', display error message, and set ACCTIDL to -1",
        "citation": [
          329,
          334,
          342
        ]
      },
      {
        "condition": "System error reading AUTH Summary",
        "action": "Set WS-ERR-FLG to 'Y', display error message, and set ACCTIDL to -1",
        "citation": [
          366,
          369,
          375
        ]
      }
    ],
    "sql_operations": [],
    "cics_operations": [
      {
        "command": "XCTL PROGRAM",
        "resource": "CDEMO-TO-PROGRAM",
        "purpose": "Transfer control to another CICS program.",
        "citation": 67
      },
      {
        "command": "SEND MAP",
        "resource": "COPAU0A",
        "purpose": "Send the COPAU0A map to the terminal.",
        "citation": 86
      },
      {
        "command": "RECEIVE MAP",
        "resource": "COPAU0A",
        "purpose": "Receive data from the COPAU0A map.",
        "citation": 105
      },
      {
        "command": "READ DATASET",
        "resource": "WS-CARDXREFNAME-ACCT-PATH",
        "purpose": "Read the card cross-reference record.",
        "citation": 203
      },
      {
        "command": "READ DATASET",
        "resource": "WS-ACCTFILENAME",
        "purpose": "Read the account record.",
        "citation": 253
      },
      {
        "command": "READ DATASET",
        "resource": "WS-CUSTFILENAME",
        "purpose": "Read the customer record.",
        "citation": 303
      }
    ],
    "open_questions": [
      {
        "question": "What is the purpose of SCHEDULE-PSB?",
        "context": "The code calls SCHEDULE-PSB but the source is not provided.",
        "suggestion": "Need to see the source code for SCHEDULE-PSB to understand its function."
      },
      {
        "question": "What is the purpose of the CICS SYNCPOINT command?",
        "context": "The code executes a CICS SYNCPOINT command conditionally, but the reason for this is unclear.",
        "suggestion": "Need more information about the IMS-PSB-SCHD and IMS-PSB-NOT-SCHD flags to understand the purpose of the SYNCPOINT command."
      }
    ],
    "resolved_questions": [],
    "dead_code": [],
    "call_semantics": [],
    "flow_diagram": null
  },
  "saved_at": "2026-02-24T10:37:43.365449"
}