{
  "header": {
    "program_id": "DBUNLDGS",
    "file_name": "DBUNLDGS.CBL",
    "file_type": "COBOL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-27T23:04:45.279416",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "The COBOL program DBUNLDGS extracts pending authorization summary and detail records from an IMS database and writes them to output files. It reads the PAUTSUM0 and PAUTDTL1 segments from the IMS database, and writes them to GSAM datasets.",
    "business_context": "This program is likely used for reporting or auditing purposes, extracting pending authorization data for analysis or transfer to another system.",
    "program_type": "BATCH",
    "citations": [
      18,
      147,
      211
    ]
  },
  "inputs": [
    {
      "name": "IMS Database (PAUTSUM0, PAUTDTL1 Segments)",
      "io_type": "IMS_SEGMENT",
      "description": "Pending authorization summary and detail segments from an IMS database.",
      "copybook": "CIPAUSMY, CIPAUDTY",
      "citation": [
        224,
        243,
        269,
        282
      ]
    },
    {
      "name": "PAUTBPCB",
      "io_type": "PARAMETER",
      "description": "IMS Program Communication Block for PAUTSUM0 segment.",
      "copybook": "PAUTBPCB",
      "citation": [
        159,
        165
      ]
    },
    {
      "name": "PASFLPCB",
      "io_type": "PARAMETER",
      "description": "IMS Program Communication Block for GSAM output of PAUTSUM0 segment.",
      "copybook": "PASFLPCB",
      "citation": [
        160,
        166,
        303
      ]
    },
    {
      "name": "PADFLPCB",
      "io_type": "PARAMETER",
      "description": "IMS Program Communication Block for GSAM output of PAUTDTL1 segment.",
      "copybook": "PADFLPCB",
      "citation": [
        161,
        167,
        322
      ]
    }
  ],
  "outputs": [
    {
      "name": "GSAM Output for PAUTSUM0",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Sequential file containing extracted pending authorization summary records.",
      "copybook": null,
      "citation": [
        217,
        243
      ]
    },
    {
      "name": "GSAM Output for PAUTDTL1",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Sequential file containing extracted pending authorization detail records.",
      "copybook": null,
      "citation": [
        255,
        282
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to retrieve and insert segments.",
      "parameters": [
        "FUNC-GN",
        "PAUTBPCB",
        "PENDING-AUTH-SUMMARY",
        "ROOT-UNQUAL-SSA"
      ],
      "citation": 197
    },
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to retrieve the next child segment.",
      "parameters": [
        "FUNC-GNP",
        "PAUTBPCB",
        "PENDING-AUTH-DETAILS",
        "CHILD-UNQUAL-SSA"
      ],
      "citation": 241
    },
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to insert the parent segment into GSAM dataset.",
      "parameters": [
        "FUNC-ISRT",
        "PASFLPCB",
        "PENDING-AUTH-SUMMARY"
      ],
      "citation": 2710400
    },
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to insert the child segment into GSAM dataset.",
      "parameters": [
        "FUNC-ISRT",
        "PADFLPCB",
        "PENDING-AUTH-DETAILS"
      ],
      "citation": 2721200
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [
      "DLITCBL"
    ],
    "linkage_section": [
      "PAUTBPCB",
      "PASFLPCB",
      "PADFLPCB"
    ]
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "The program extracts pending authorization summary records from the IMS database.",
      "logic_summary": "The program uses the GN (Get Next) DL/I call to retrieve the next pending authorization summary record.",
      "conditions": [
        "PAUT-PCB-STATUS = SPACES"
      ],
      "citation": [
        207,
        234
      ]
    },
    {
      "rule_id": "BR002",
      "description": "The program extracts pending authorization detail records for each summary record.",
      "logic_summary": "The program uses the GNP (Get Next within Parent) DL/I call to retrieve the next pending authorization detail record for the current summary record.",
      "conditions": [
        "PAUT-PCB-STATUS = SPACES"
      ],
      "citation": [
        250,
        277
      ]
    },
    {
      "rule_id": "BR003",
      "description": "The program only writes records to the output file if the PA-ACCT-ID is numeric.",
      "logic_summary": "The program checks if PA-ACCT-ID is numeric before writing the record.",
      "conditions": [
        "PA-ACCT-ID IS NUMERIC"
      ],
      "citation": [
        216,
        241
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "IMS Database (PAUTSUM0)",
        "fields_used": [
          "PA-ACCT-ID",
          "PENDING-AUTH-SUMMARY"
        ],
        "citation": [
          214,
          211,
          224
        ]
      },
      {
        "source": "IMS Database (PAUTDTL1)",
        "fields_used": [
          "PENDING-AUTH-DETAILS"
        ],
        "citation": [
          243,
          269
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "GSAM Output for PAUTSUM0",
        "fields_written": [
          "OPFIL1-REC"
        ],
        "citation": [
          217,
          243
        ]
      },
      {
        "destination": "GSAM Output for PAUTDTL1",
        "fields_written": [
          "ROOT-SEG-KEY",
          "CHILD-SEG-REC"
        ],
        "citation": [
          255,
          282
        ]
      }
    ],
    "transforms": []
  },
  "copybooks_used": [
    {
      "copybook_name": "IMSFUNCS",
      "purpose": "Contains definitions for IMS function codes.",
      "location": "WORKING_STORAGE",
      "citation": 116
    },
    {
      "copybook_name": "CIPAUSMY",
      "purpose": "Defines the layout of the PENDING-AUTH-SUMMARY segment.",
      "location": "WORKING_STORAGE",
      "citation": 123
    },
    {
      "copybook_name": "CIPAUDTY",
      "purpose": "Defines the layout of the PENDING-AUTH-DETAILS segment.",
      "location": "WORKING_STORAGE",
      "citation": 127
    },
    {
      "copybook_name": "PAUTBPCB",
      "purpose": "Defines the Program Communication Block (PCB) for the PAUTSUM0 segment.",
      "location": "LINKAGE",
      "citation": 134
    },
    {
      "copybook_name": "PASFLPCB",
      "purpose": "Defines the Program Communication Block (PCB) for the GSAM output of PAUTSUM0 segment.",
      "location": "LINKAGE",
      "citation": 1341000
    },
    {
      "copybook_name": "PADFLPCB",
      "purpose": "Defines the Program Communication Block (PCB) for the GSAM output of PAUTDTL1 segment.",
      "location": "LINKAGE",
      "citation": 1342000
    }
  ],
  "paragraphs": [
    {
      "paragraph_name": "MAIN-PARA",
      "summary": null,
      "purpose": "This is the main entry point of the program. It first performs the 1000-INITIALIZE paragraph to set up the program environment. Then, it enters a loop, repeatedly performing 2000-FIND-NEXT-AUTH-SUMMARY until the end of the authorization database is reached, indicated by WS-END-OF-ROOT-SEG being set to 'Y'. Finally, it performs 4000-FILE-CLOSE to close the output files and terminates the program. The paragraph uses the DLITCBL entry point to receive the PCBs via the linkage section.",
      "called_by": [],
      "calls": [
        "1000-INITIALIZE",
        "2000-FIND-NEXT-AUTH-SUMMARY",
        "4000-FILE-CLOSE"
      ],
      "citation": [
        141,
        179
      ],
      "outgoing_calls": [
        {
          "target": "1000-INITIALIZE",
          "call_type": "performs",
          "line": 170
        },
        {
          "target": "2000-FIND-NEXT-AUTH-SUMMARY",
          "call_type": "performs",
          "line": 172
        },
        {
          "target": "4000-FILE-CLOSE",
          "call_type": "performs",
          "line": 175
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-INITIALIZE",
      "summary": null,
      "purpose": "This paragraph initializes the program environment. It accepts the current date and day from the system. It then displays a starting message to the console, including the current date. The commented-out code suggests that it was originally intended to open output files OPFILE1 and OPFILE2, but this functionality is currently disabled. If the file opening failed, the program would have abended. The paragraph does not consume any specific input files, but it does initialize working storage variables such as WS-OUTFL1-STATUS and WS-OUTFL2-STATUS. It does not call any other programs.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [],
      "citation": [
        157,
        188
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "MAIN-PARA",
          "line": 138,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "MAIN-PARA",
          "line": 222,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "MAIN-PARA",
          "line": 170,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "MAIN-PARA",
          "line": 175,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "MAIN-PARA",
          "line": 161,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-FIND-NEXT-AUTH-SUMMARY",
      "summary": null,
      "purpose": "This paragraph retrieves the next pending authorization summary record from the IMS database. It initializes the PAUT-PCB-STATUS and then calls the CBLTDLI routine with the FUNC-GN (Get Next) function code to retrieve the next summary segment (PAUTSUM0) using the ROOT-UNQUAL-SSA. If the call is successful (PAUT-PCB-STATUS is spaces), it increments counters, moves the summary record to OPFIL1-REC, and then calls 3000-FIND-NEXT-AUTH-DTL to process the detail records for the current summary record. If the PA-ACCT-ID is numeric, it calls 3100-INSERT-PARENT-SEG-GSAM to write the summary record to the GSAM dataset. If the end of the database is reached (PAUT-PCB-STATUS is 'GB'), it sets the WS-END-OF-ROOT-SEG flag to 'Y'. If any other error occurs, the program abends.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "3000-FIND-NEXT-AUTH-DTL",
        "3100-INSERT-PARENT-SEG-GSAM"
      ],
      "citation": [
        191,
        259
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 222
        },
        {
          "target": "3100-INSERT-PARENT-SEG-GSAM",
          "call_type": "performs",
          "line": 243
        },
        {
          "target": "3000-FIND-NEXT-AUTH-DTL",
          "call_type": "performs",
          "line": 245
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 256
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "MAIN-PARA",
          "line": 140,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "MAIN-PARA",
          "line": 165,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "MAIN-PARA",
          "line": 172,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "MAIN-PARA",
          "line": 163,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3000-FIND-NEXT-AUTH-DTL",
      "summary": null,
      "purpose": "This paragraph retrieves the next pending authorization detail record for the current summary record from the IMS database. It calls the CBLTDLI routine with the FUNC-GNP (Get Next within Parent) function code to retrieve the next detail segment (PAUTDTL1) using the CHILD-UNQUAL-SSA. If the call is successful (PAUT-PCB-STATUS is spaces), it sets the MORE-AUTHS flag to TRUE, increments counters, and moves the detail record to CHILD-SEG-REC. It then calls 3200-INSERT-CHILD-SEG-GSAM to write the detail record to the GSAM dataset. If the end of the detail records is reached (PAUT-PCB-STATUS is 'GE'), it sets the WS-END-OF-CHILD-SEG flag to 'Y'. If any other error occurs, the program abends. The paragraph initializes PAUT-PCB-STATUS before exiting.",
      "called_by": [
        "2000-FIND-NEXT-AUTH-SUMMARY"
      ],
      "calls": [
        "3200-INSERT-CHILD-SEG-GSAM"
      ],
      "citation": [
        237,
        296
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 267
        },
        {
          "target": "3200-INSERT-CHILD-SEG-GSAM",
          "call_type": "performs",
          "line": 282
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 293
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "MAIN-PARA",
          "line": 144,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "MAIN-PARA",
          "line": 153,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "2000-FIND-NEXT-AUTH-SUMMARY",
          "line": 245,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "2000-FIND-NEXT-AUTH-SUMMARY",
          "line": 235,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-INSERT-PARENT-SEG-GSAM",
      "summary": null,
      "purpose": "This paragraph inserts the parent segment (PENDING-AUTH-SUMMARY) into the GSAM dataset. It calls the CBLTDLI routine with the FUNC-ISRT (Insert) function code, using the PASFLPCB. If the call is not successful (PASFL-PCB-STATUS is not spaces), the program displays an error message and abends. This paragraph is called from 2000-FIND-NEXT-AUTH-SUMMARY after a parent segment has been successfully read from the IMS database, and the PA-ACCT-ID is numeric. It consumes the PENDING-AUTH-SUMMARY record and writes it to the GSAM dataset. It does not make any decisions based on business logic, but it does perform error handling by checking the PASFL-PCB-STATUS.",
      "called_by": [
        "2000-FIND-NEXT-AUTH-SUMMARY"
      ],
      "calls": [],
      "citation": [
        2710200,
        2711801
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 302
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 314
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "2000-FIND-NEXT-AUTH-SUMMARY",
          "line": 243,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3200-INSERT-CHILD-SEG-GSAM",
      "summary": null,
      "purpose": "This paragraph inserts the child segment (PENDING-AUTH-DETAILS) into the GSAM dataset. It calls the CBLTDLI routine with the FUNC-ISRT (Insert) function code, using the PADFLPCB. If the call is not successful (PADFL-PCB-STATUS is not spaces), the program displays an error message and abends. This paragraph is called from 3000-FIND-NEXT-AUTH-DTL after a child segment has been successfully read from the IMS database. It consumes the PENDING-AUTH-DETAILS record and writes it to the GSAM dataset. It does not make any decisions based on business logic, but it does perform error handling by checking the PADFL-PCB-STATUS.",
      "called_by": [
        "3000-FIND-NEXT-AUTH-DTL"
      ],
      "calls": [],
      "citation": [
        2721000,
        2722601
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 321
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 333
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "3000-FIND-NEXT-AUTH-DTL",
          "line": 282,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "4000-FILE-CLOSE",
      "summary": null,
      "purpose": "This paragraph is responsible for closing the output files. It displays a message indicating that the files are being closed. The actual CLOSE statements are commented out, so this paragraph currently does nothing other than display the message. Originally, it would have closed OPFILE1 and OPFILE2 and checked the WS-OUTFL1-STATUS and WS-OUTFL2-STATUS for errors. If any errors were encountered during the close operation, the program would not abend. The paragraph does not consume any input data, nor does it produce any output other than the display message. It does not call any other paragraphs or programs.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [],
      "citation": [
        2730000,
        2900000
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "MAIN-PARA",
          "line": 175,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "MAIN-PARA",
          "line": 183,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "MAIN-PARA",
          "line": 166,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9999-ABEND",
      "summary": null,
      "purpose": "This paragraph is the error handling routine for the program. It displays a message indicating that the program is abending. It then sets the RETURN-CODE to 16 and terminates the program using the GOBACK statement. This routine is called when a critical error is encountered, such as a failed DL/I call or a file I/O error. It does not take any input parameters and does not produce any output other than the display message and the return code. It does not call any other paragraphs or programs.",
      "called_by": [
        "1000-INITIALIZE",
        "2000-FIND-NEXT-AUTH-SUMMARY",
        "3000-FIND-NEXT-AUTH-DTL",
        "3100-INSERT-PARENT-SEG-GSAM",
        "3200-INSERT-CHILD-SEG-GSAM"
      ],
      "calls": [],
      "citation": [
        2920000,
        2980000
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "2000-FIND-NEXT-AUTH-SUMMARY",
          "line": 240,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "3000-FIND-NEXT-AUTH-DTL",
          "line": 270,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "5000-DELETE-AUTH-DTL",
          "line": 320,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "6000-DELETE-AUTH-SUMMARY",
          "line": 345,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "9000-TAKE-CHECKPOINT",
          "line": 369,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "2000-FIND-NEXT-AUTH-SUMMARY",
          "line": 256,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "3000-FIND-NEXT-AUTH-DTL",
          "line": 293,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "3100-INSERT-PARENT-SEG-GSAM",
          "line": 314,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "3200-INSERT-CHILD-SEG-GSAM",
          "line": 333,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "1000-INITIALIZE",
          "line": 206,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "1000-INITIALIZE",
          "line": 214,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "2100-INSERT-ROOT-SEG",
          "line": 261,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "3100-INSERT-CHILD-SEG",
          "line": 313,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "3200-INSERT-IMS-CALL",
          "line": 335,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "1000-INITIALIZE",
          "line": 191,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "1000-INITIALIZE",
          "line": 199,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "2000-FIND-NEXT-AUTH-SUMMARY",
          "line": 246,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "3000-FIND-NEXT-AUTH-DTL",
          "line": 282,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "PAUT-PCB-STATUS NOT EQUAL TO SPACES AND 'GB' (Summary Segment)",
      "action": "DISPLAY error message and ABEND",
      "citation": [
        227,
        230
      ]
    },
    {
      "condition": "PAUT-PCB-STATUS NOT EQUAL TO SPACES AND 'GE' (Detail Segment)",
      "action": "DISPLAY error message and ABEND",
      "citation": [
        263,
        266
      ]
    },
    {
      "condition": "PASFL-PCB-STATUS NOT EQUAL TO SPACES (GSAM Parent Insert)",
      "action": "DISPLAY error message and ABEND",
      "citation": [
        311,
        314
      ]
    },
    {
      "condition": "PADFL-PCB-STATUS NOT EQUAL TO SPACES (GSAM Child Insert)",
      "action": "DISPLAY error message and ABEND",
      "citation": [
        330,
        333
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What is the purpose of the commented-out code related to OPFILE1 and OPFILE2?",
      "context": "The code suggests that the program was originally intended to write to sequential files, but this functionality is currently disabled.",
      "suggestion": "Investigate the program's history or related documentation to determine the original purpose of these files."
    },
    {
      "question": "What are the exact layouts of the GSAM output files?",
      "context": "The program writes segments to GSAM datasets, but the exact format of these datasets is not explicitly defined in the code.",
      "suggestion": "Examine the GSAM DBD definitions or related documentation to determine the layout of the output files."
    },
    {
      "question": "What are the values passed to the program via SYSIN?",
      "context": "Line 163 is commented out, but it suggests that parameters were passed to the program. It is not clear what these parameters are.",
      "suggestion": "Check the JCL or other execution scripts to determine what parameters are passed to the program."
    }
  ],
  "dead_code": [],
  "flow_diagram": "flowchart TD\n    %% Title: DBUNLDGS.CBL\n    1000_EXIT[\"1000-EXIT\"]\n    1000_INITIALIZE[\"1000-INITIALIZE\"]\n    2000_EXIT[\"2000-EXIT\"]\n    2000_FIND_NEXT_AUTH_SUMMARY[\"2000-FIND-NEXT-AUTH-SUMMARY\"]\n    3000_FIND_NEXT_AUTH_DTL[\"3000-FIND-NEXT-AUTH-DTL\"]\n    3100_INSERT_PARENT_SEG_GSAM[\"3100-INSERT-PARENT-SEG-GSAM\"]\n    9999_ABEND[\"9999-ABEND\"]\n    CBLTDLI__ext([\"CBLTDLI\"])\n    3000_EXIT[\"3000-EXIT\"]\n    3200_INSERT_CHILD_SEG_GSAM[\"3200-INSERT-CHILD-SEG-GSAM\"]\n    3100_EXIT[\"3100-EXIT\"]\n    3200_EXIT[\"3200-EXIT\"]\n    4000_EXIT[\"4000-EXIT\"]\n    4000_FILE_CLOSE[\"4000-FILE-CLOSE\"]\n    9999_EXIT[\"9999-EXIT\"]\n    MAIN_PARA[\"MAIN-PARA\"]\n    2000_FIND_NEXT_AUTH_SUMMARY --> 3000_FIND_NEXT_AUTH_DTL\n    2000_FIND_NEXT_AUTH_SUMMARY --> 3100_INSERT_PARENT_SEG_GSAM\n    2000_FIND_NEXT_AUTH_SUMMARY --> 9999_ABEND\n    2000_FIND_NEXT_AUTH_SUMMARY -.->|calls| CBLTDLI__ext\n    3000_FIND_NEXT_AUTH_DTL --> 3200_INSERT_CHILD_SEG_GSAM\n    3000_FIND_NEXT_AUTH_DTL --> 9999_ABEND\n    3000_FIND_NEXT_AUTH_DTL -.->|calls| CBLTDLI__ext\n    3100_INSERT_PARENT_SEG_GSAM --> 9999_ABEND\n    3100_INSERT_PARENT_SEG_GSAM -.->|calls| CBLTDLI__ext\n    3200_INSERT_CHILD_SEG_GSAM --> 9999_ABEND\n    3200_INSERT_CHILD_SEG_GSAM -.->|calls| CBLTDLI__ext\n    MAIN_PARA --> 1000_INITIALIZE\n    MAIN_PARA --> 2000_FIND_NEXT_AUTH_SUMMARY\n    MAIN_PARA --> 4000_FILE_CLOSE"
}