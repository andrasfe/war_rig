{
  "header": {
    "program_id": "COPAUA0C",
    "file_name": "cbl/COPAUA0C.cbl",
    "file_type": "COBOL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-25T15:21:23.456223",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "COPAUA0C is a CICS COBOL program that processes authorization requests from an IBM MQ request queue in a loop until a processing limit is reached or no more messages are available. It initializes by retrieving MQ trigger message data via CICS RETRIEVE, opens the request queue using MQOPEN, schedules an IMS PSB, extracts and processes each auth request involving IMS database reads and updates, commits via SYNCPOINT, and terminates by closing resources. The program logs errors to a common routine and returns to CICS upon completion.",
    "business_context": "Serves credit card or payment authorization processing, validating card/account status from IMS databases (XREF, ACCT, CUST, AUTH-SUMMARY), making approve/decline decisions, and inserting auth records.",
    "program_type": "ONLINE_CICS",
    "citations": [
      23,
      220,
      230,
      323
    ]
  },
  "inputs": [
    {
      "name": "MQTM",
      "io_type": "CICS_COMMAREA",
      "description": "MQ trigger message containing queue name (MQTM-QNAME) and trigger data (MQTM-TRIGGERDATA) retrieved via CICS RETRIEVE to initialize request queue name",
      "copybook": "MQTM",
      "citation": [
        237
      ]
    },
    {
      "name": "WS-REQUEST-QNAME (MQ Request Queue)",
      "io_type": "OTHER",
      "description": "IBM MQ queue for authorization request messages, read via MQGET in 3100-READ-REQUEST-MQ",
      "copybook": null,
      "citation": [
        323,
        389
      ]
    },
    {
      "name": "IMS Databases (XREF, ACCT, CUST, AUTH-SUMMARY)",
      "io_type": "IMS_SEGMENT",
      "description": "IMS DL/I segments read for card cross-reference, account, customer, and auth summary records during auth processing",
      "copybook": null,
      "citation": [
        510,
        520,
        530,
        550
      ]
    }
  ],
  "outputs": [
    {
      "name": "Response MQ Queue",
      "io_type": "OTHER",
      "description": "IBM MQ queue for sending authorization responses via MQPUT in 7100-SEND-RESPONSE",
      "copybook": null,
      "citation": [
        710
      ]
    },
    {
      "name": "IMS AUTH Records",
      "io_type": "IMS_SEGMENT",
      "description": "Updated/inserted authorization records and summary in IMS databases",
      "copybook": null,
      "citation": [
        840,
        850
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "MQOPEN",
      "call_type": "DYNAMIC_CALL",
      "purpose": "Opens the MQ request queue for input-shared access",
      "parameters": [
        "W01-HCONN-REQUEST",
        "MQM-OD-REQUEST",
        "WS-OPTIONS",
        "W01-HOBJ-REQUEST"
      ],
      "citation": 260
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Approve or decline auth based on account status, available balance, and card validity",
      "logic_summary": "Reads XREF/ACCT/CUST, computes available amount, checks limits in 5000-PROCESS-AUTH and 6000-MAKE-DECISION",
      "conditions": [
        "CARD-FOUND-XREF",
        "FOUND-ACCT-IN-MSTR",
        "WS-AVAILABLE-AMT >= PA-RQ-TRANSACTION-AMT"
      ],
      "citation": [
        500,
        600,
        666
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Limit processing to WS-REQSTS-PROCESS-LIMIT messages per run",
      "logic_summary": "Increment WS-MSG-PROCESSED and exit loop if exceeds limit",
      "conditions": [
        "WS-MSG-PROCESSED > WS-REQSTS-PROCESS-LIMIT"
      ],
      "citation": [
        323
      ]
    },
    {
      "rule_id": "BR003",
      "description": "Log critical errors (MQ open fail, IMS PSB sched fail) and continue or abend based on ERR-CRITICAL",
      "logic_summary": "Set error flags and PERFORM 9500-LOG-ERROR on compcode != OK or status != OK",
      "conditions": [
        "WS-COMPCODE = MQCC-OK",
        "STATUS-OK"
      ],
      "citation": [
        260,
        292
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "MQTM",
        "fields_used": [
          "MQTM-QNAME",
          "MQTM-TRIGGERDATA"
        ],
        "citation": [
          237
        ]
      },
      {
        "source": "MQ Request Queue",
        "fields_used": [
          "Request message data"
        ],
        "citation": [
          310
        ]
      },
      {
        "source": "IMS XREF/ACCT/CUST/AUTH-SUMMARY",
        "fields_used": [
          "XREF-CARD-NUM",
          "PA-ACCT-ID",
          "WS-CARD-RID-CUST-ID"
        ],
        "citation": [
          510,
          520,
          530,
          550
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "IMS AUTH-SUMMARY",
        "fields_written": [
          "XREF-ACCT-ID",
          "PA-ACCT-ID"
        ],
        "citation": [
          840
        ]
      },
      {
        "destination": "IMS AUTH Records",
        "fields_written": [
          "PA-CARD-NUM",
          "PA-RL-AUTH-RESP-CODE",
          "PA-RL-AUTH-RESP-REASON"
        ],
        "citation": [
          850
        ]
      }
    ],
    "transforms": [
      {
        "input_field": "MQTM-QNAME",
        "output_field": "WS-REQUEST-QNAME",
        "transformation_description": "Direct MOVE from retrieved MQ trigger message to working storage queue name",
        "citation": [
          237
        ]
      },
      {
        "input_field": "MQOO-INPUT-SHARED",
        "output_field": "WS-OPTIONS",
        "transformation_description": "COMPUTE for MQ open options",
        "citation": [
          260
        ]
      },
      {
        "input_field": "PA-RQ-TRANSACTION-AMT raw",
        "output_field": "PA-RQ-TRANSACTION-AMT",
        "transformation_description": "COMPUTE transaction amount from request message",
        "citation": [
          376
        ]
      },
      {
        "input_field": "Account balance fields",
        "output_field": "WS-AVAILABLE-AMT",
        "transformation_description": "COMPUTE available amount for auth decision (lines 666 and 674)",
        "citation": [
          666
        ]
      }
    ]
  },
  "copybooks_used": [
    {
      "copybook_name": "MQTM",
      "purpose": "Defines MQ trigger message structure with QNAME and TRIGGERDATA",
      "location": "WORKING_STORAGE",
      "citation": 237
    },
    {
      "copybook_name": "MQM-OD-REQUEST",
      "purpose": "MQ object descriptor for request queue open (MQOD-OBJECTTYPE, MQOD-OBJECTNAME)",
      "location": "WORKING_STORAGE",
      "citation": 255
    }
  ],
  "paragraphs": [
    {
      "paragraph_name": "COPAUA0C",
      "summary": null,
      "purpose": "This is the program entry point paragraph identified at line 23, likely the initial control section before MAIN-PARA. Its primary purpose is to serve as the starting point for program execution under CICS. It consumes no specific inputs beyond environment variables like EIB. It produces no direct outputs but transfers control to MAIN-PARA. No business logic or decisions are implemented here based on available analysis. No error handling is performed. It calls multiple MQ-related subroutines like CMQODV, CMQMDV, CMQV (11+ total), likely for MQ structure initialization or validation before main processing. These calls support MQ environment setup for queue operations.",
      "called_by": [],
      "calls": [
        "CMQODV",
        "CMQMDV",
        "CMQV"
      ],
      "citation": [
        23,
        23
      ],
      "outgoing_calls": [
        {
          "target": "CMQODV",
          "call_type": "includes",
          "line": 149
        },
        {
          "target": "CMQMDV",
          "call_type": "includes",
          "line": 152
        },
        {
          "target": "CMQODV",
          "call_type": "includes",
          "line": 155
        },
        {
          "target": "CMQMDV",
          "call_type": "includes",
          "line": 158
        },
        {
          "target": "CMQV",
          "call_type": "includes",
          "line": 161
        },
        {
          "target": "CMQTML",
          "call_type": "includes",
          "line": 164
        },
        {
          "target": "CMQPMOV",
          "call_type": "includes",
          "line": 167
        },
        {
          "target": "CMQGMOV",
          "call_type": "includes",
          "line": 170
        },
        {
          "target": "CCPAURQY",
          "call_type": "includes",
          "line": 178
        },
        {
          "target": "CCPAURLY",
          "call_type": "includes",
          "line": 182
        },
        {
          "target": "CCPAUERY",
          "call_type": "includes",
          "line": 185
        },
        {
          "target": "CIPAUSMY",
          "call_type": "includes",
          "line": 193
        },
        {
          "target": "CIPAUDTY",
          "call_type": "includes",
          "line": 197
        },
        {
          "target": "CVACT03Y",
          "call_type": "includes",
          "line": 203
        },
        {
          "target": "CVACT01Y",
          "call_type": "includes",
          "line": 206
        },
        {
          "target": "CVCUS01Y",
          "call_type": "includes",
          "line": 209
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "MAIN-PARA",
      "summary": null,
      "purpose": "MAIN-PARA is the primary orchestration paragraph that controls the overall program flow from lines 220-229. It begins by performing 1000-INITIALIZE THRU 1000-EXIT to set up MQ queue and IMS PSB. Next, it performs 2000-MAIN-PROCESS THRU 2000-EXIT to handle the message processing loop. Finally, it performs 9000-TERMINATE THRU 9000-EXIT for cleanup, followed by EXEC CICS RETURN to end the transaction. It consumes no direct data inputs but relies on initialization results like WS-REQUEST-QNAME. It produces program completion status via return to CICS. No specific business decisions are made here; it delegates all logic. Errors from subordinates are handled downstream via 9500-LOG-ERROR. It calls 1000-INITIALIZE, 2000-MAIN-PROCESS, and 9000-TERMINATE sequentially for structured flow.",
      "called_by": [
        "COPAUA0C"
      ],
      "calls": [
        "1000-INITIALIZE",
        "2000-MAIN-PROCESS",
        "9000-TERMINATE"
      ],
      "citation": [
        220,
        229
      ],
      "outgoing_calls": [
        {
          "target": "1000-INITIALIZE",
          "call_type": "performs",
          "line": 222
        },
        {
          "target": "2000-MAIN-PROCESS",
          "call_type": "performs",
          "line": 223
        },
        {
          "target": "9000-TERMINATE",
          "call_type": "performs",
          "line": 224
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-INITIALIZE",
      "summary": null,
      "purpose": "1000-INITIALIZE handles program startup setup from lines 230-248. It consumes MQ trigger data via EXEC CICS RETRIEVE INTO(MQTM) NOHANDLE. If EIBRESP = NORMAL (decision point 1), it moves MQTM-QNAME to WS-REQUEST-QNAME and MQTM-TRIGGERDATA to WS-TRIGGER-DATA (transforms 3 variables). It sets WS-WAIT-INTERVAL to 5000. It then performs 1100-OPEN-REQUEST-QUEUE THRU 1100-EXIT to open MQ queue and 3100-READ-REQUEST-MQ THRU 3100-EXIT for initial read. Outputs are initialized working storage flags and queue handle. Business logic checks CICS response for normal retrieval (line 237 error handling hint). Errors set via NOHANDLE but checked. Calls subordinates for MQ open/read setup.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "1100-OPEN-REQUEST-QUEUE",
        "3100-READ-REQUEST-MQ"
      ],
      "citation": [
        230,
        248
      ],
      "outgoing_calls": [
        {
          "target": "1100-OPEN-REQUEST-QUEUE",
          "call_type": "performs",
          "line": 244
        },
        {
          "target": "3100-READ-REQUEST-MQ",
          "call_type": "performs",
          "line": 246
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-EXIT",
      "summary": null,
      "purpose": "1000-EXIT is the exit routine for 1000-INITIALIZE from lines 249-254. Its primary purpose is to return control to the calling paragraph after initialization completes. It consumes no inputs or data. It produces no outputs or modifications. No business logic, decisions, or conditions are evaluated. No error handling is performed as errors are managed prior. It is called exclusively by 1000-INITIALIZE at its end. It simply executes EXIT with no further actions.",
      "called_by": [
        "1000-INITIALIZE"
      ],
      "calls": [],
      "citation": [
        249,
        254
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1100-OPEN-REQUEST-QUEUE",
      "summary": null,
      "purpose": "1100-OPEN-REQUEST-QUEUE opens the MQ request queue from lines 255-285. It consumes WS-REQUEST-QNAME and sets MQOD-OBJECTTYPE to MQOT-Q, MQOD-OBJECTNAME (transforms 12 variables including WS-CODE-DISPLAY, MQOT-Q). Computes WS-OPTIONS = MQOO-INPUT-SHARED (line 260). Calls MQOPEN USING connection, descriptor, options, obtaining handle. If WS-COMPCODE = MQCC-OK (decision 1), sets WS-REQUEST-MQ-OPEN TRUE. Else (decision 2-3), sets ERR-LOCATION 'M001', ERR-CRITICAL TRUE, ERR-MQ TRUE, moves codes to ERR-CODE-1/2, ERR-MESSAGE 'REQ MQ OPEN ERROR', performs 9500-LOG-ERROR. Outputs queue handle or error flags. Business logic ensures shared input access for concurrent reads. Errors trigger logging without abend.",
      "called_by": [
        "1000-INITIALIZE"
      ],
      "calls": [
        "MQOPEN",
        "9500-LOG-ERROR"
      ],
      "citation": [
        255,
        285
      ],
      "outgoing_calls": [
        {
          "target": "MQOPEN",
          "call_type": "calls",
          "line": 262
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 282
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1000-INITIALIZE",
          "line": 244,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1000-INITIALIZE",
          "line": 230,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1100-EXIT",
      "summary": null,
      "purpose": "1100-EXIT is the exit routine for 1100-OPEN-REQUEST-QUEUE from lines 286-291. Its role is to cleanly return control after queue open attempt. No data consumed or produced. No logic, conditions, or errors handled. Called only by 1100-OPEN-REQUEST-QUEUE. Executes simple EXIT.",
      "called_by": [
        "1100-OPEN-REQUEST-QUEUE"
      ],
      "calls": [],
      "citation": [
        286,
        291
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1200-SCHEDULE-PSB",
      "summary": null,
      "purpose": "1200-SCHEDULE-PSB schedules the IMS PSB from lines 292-318. It consumes PSB-NAME and executes DLI SCHD NODHABEND, moves DIBSTAT to IMS-RETURN-CODE (transforms 8 variables). If PSB-SCHEDULED-MORE-THAN-ONCE (decision 1), executes DLI TERM then SCHD again, updates IMS-RETURN-CODE. If STATUS-OK (decision 2), sets IMS-PSB-SCHD TRUE. Else (decision 3), sets ERR-LOCATION 'I001', ERR-CRITICAL/ERR-IMS TRUE, moves code to ERR-CODE-1, ERR-MESSAGE 'IMS SCHD FAILED', performs 9500-LOG-ERROR. Outputs PSB schedule status flag. Business logic handles rescheduling if multiply scheduled. Errors logged without immediate abend.",
      "called_by": [
        "1000-INITIALIZE"
      ],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        292,
        318
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 316
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 443,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 438,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1200-EXIT",
      "summary": null,
      "purpose": "1200-EXIT serves as exit for 1200-SCHEDULE-PSB from lines 319-322. Purpose is control return post-PSB scheduling. No inputs/outputs/modifications. No decisions or error handling. Called by 1200-SCHEDULE-PSB. Simple EXIT.",
      "called_by": [
        "1200-SCHEDULE-PSB"
      ],
      "calls": [],
      "citation": [
        319,
        322
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-MAIN-PROCESS",
      "summary": null,
      "purpose": "2000-MAIN-PROCESS manages the core message processing loop from lines 323-346. It loops PERFORM UNTIL NO-MORE-MSG-AVAILABLE OR WS-LOOP-END (has loops, 4 decisions). For each iteration, performs 2100-EXTRACT-REQUEST-MSG THRU EXIT to parse message, 5000-PROCESS-AUTH THRU EXIT for auth logic (transforms IMS-PSB-NOT-SCHD, WS-LOOP-END, WS-MSG-PROCESSED). Adds 1 to WS-MSG-PROCESSED. Executes CICS SYNCPOINT for commit. Sets IMS-PSB-NOT-SCHD TRUE (unschedules PSB?). If WS-MSG-PROCESSED > WS-REQSTS-PROCESS-LIMIT (decision), sets WS-LOOP-END TRUE; else performs 3100-READ-REQUEST-MQ THRU EXIT. Inputs are MQ messages; outputs processed counts, IMS updates, response queue msgs. Business logic limits batch size, commits per message. Errors delegated to callees.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "2100-EXTRACT-REQUEST-MSG",
        "5000-PROCESS-AUTH",
        "3100-READ-REQUEST-MQ"
      ],
      "citation": [
        323,
        346
      ],
      "outgoing_calls": [
        {
          "target": "2100-EXTRACT-REQUEST-MSG",
          "call_type": "performs",
          "line": 328
        },
        {
          "target": "5000-PROCESS-AUTH",
          "call_type": "performs",
          "line": 330
        },
        {
          "target": "3100-READ-REQUEST-MQ",
          "call_type": "performs",
          "line": 342
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "MAIN-PARA",
          "line": 223,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "MAIN-PARA",
          "line": 220,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-EXIT",
      "summary": null,
      "purpose": "2000-EXIT exits the main process loop from lines 347-350. Role is to return control after loop termination. No data I/O or logic. No errors or calls. Called by 2000-MAIN-PROCESS. EXIT only.",
      "called_by": [
        "2000-MAIN-PROCESS"
      ],
      "calls": [],
      "citation": [
        347,
        350
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2100-EXTRACT-REQUEST-MSG",
      "summary": null,
      "purpose": "This paragraph parses the incoming MQ request buffer into individual authorization request fields using UNSTRING delimited by commas. It consumes the raw buffer data from W01-GET-BUFFER after MQGET in prior paragraph, extracting fields like PA-RQ-AUTH-DATE, PA-RQ-CARD-NUM, merchant details, and transaction amount as alphanumeric. It produces populated PA-RQ-* working storage fields, including numeric conversion of transaction amount via FUNCTION NUMVAL into PA-RQ-TRANSACTION-AMT and WS-TRANSACTION-AMT. No business decisions or error handling here; it's pure data extraction. No calls to other paragraphs. Control flows to 2100-EXIT.",
      "called_by": [],
      "calls": [],
      "citation": [
        351,
        381
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 328,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 323,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2100-EXIT",
      "summary": null,
      "purpose": "This is an exit paragraph that simply executes EXIT to return control to the calling paragraph. It consumes no inputs and produces no outputs. No business logic, decisions, error handling, or calls. Serves as a thru-exit point for 2100-EXTRACT-REQUEST-MSG.",
      "called_by": [],
      "calls": [],
      "citation": [
        382,
        385
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-READ-REQUEST-MQ",
      "summary": null,
      "purpose": "This paragraph reads the next authorization request message from the MQ queue using CALL 'MQGET' with options for no-syncpoint, wait interval, convert, and fail-if-quiescing. It consumes MQ connection/handle (W01-HCONN-REQUEST, W01-HOBJ-REQUEST) and sets message descriptor fields like MQMD-FORMAT to STRING. On success (MQCC-OK), it saves correlid and reply-to queue name, populates W01-DATALEN and buffer for subsequent parsing. On failure, if no message available (MQRC-NO-MSG-AVAILABLE), sets NO-MORE-MSG-AVAILABLE flag; otherwise, logs critical CICS error via 9500-LOG-ERROR with codes and 'FAILED TO READ REQUEST MQ' message using PA-CARD-NUM as key. Error handling distinguishes non-critical EOF from critical MQ errors. Calls 9500-LOG-ERROR on MQ failures.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        386,
        433
      ],
      "outgoing_calls": [
        {
          "target": "MQGET",
          "call_type": "calls",
          "line": 400
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 429
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1000-INITIALIZE",
          "line": 246,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 342,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1000-INITIALIZE",
          "line": 230,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 323,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-EXIT",
      "summary": null,
      "purpose": "This is an exit paragraph that simply executes EXIT to return control to the calling paragraph. It consumes no inputs and produces no outputs. No business logic, decisions, error handling, or calls. Serves as a thru-exit point for 3100-READ-REQUEST-MQ.",
      "called_by": [],
      "calls": [],
      "citation": [
        434,
        437
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5000-PROCESS-AUTH",
      "summary": null,
      "purpose": "This is the main authorization processing orchestration paragraph that handles a single request after extraction. It consumes parsed PA-RQ-* fields and flags like CARD-FOUND-XREF, setting initial APPROVE-AUTH to TRUE. It first performs 1200-SCHEDULE-PSB for PSB setup, then assumes/sets card and account found flags, and conditionally reads XREF, ACCT, CUST, AUTH-SUMMARY, PROFILE based on CARD-FOUND-XREF. After reads, it performs decision making (6000-MAKE-DECISION), sends response (7100-SEND-RESPONSE), and if card found, writes auth to DB (8000-WRITE-AUTH-TO-DB). No direct error handling here; relies on subordinate paragraphs. Calls multiple read and processing paragraphs to gather data for auth decision.",
      "called_by": [],
      "calls": [
        "1200-SCHEDULE-PSB",
        "5100-READ-XREF-RECORD",
        "5200-READ-ACCT-RECORD",
        "5300-READ-CUST-RECORD",
        "5500-READ-AUTH-SUMMRY",
        "5600-READ-PROFILE-DATA",
        "6000-MAKE-DECISION",
        "7100-SEND-RESPONSE",
        "8000-WRITE-AUTH-TO-DB"
      ],
      "citation": [
        438,
        467
      ],
      "outgoing_calls": [
        {
          "target": "1200-SCHEDULE-PSB",
          "call_type": "performs",
          "line": 443
        },
        {
          "target": "5100-READ-XREF-RECORD",
          "call_type": "performs",
          "line": 448
        },
        {
          "target": "5200-READ-ACCT-RECORD",
          "call_type": "performs",
          "line": 451
        },
        {
          "target": "5300-READ-CUST-RECORD",
          "call_type": "performs",
          "line": 452
        },
        {
          "target": "5500-READ-AUTH-SUMMRY",
          "call_type": "performs",
          "line": 454
        },
        {
          "target": "5600-READ-PROFILE-DATA",
          "call_type": "performs",
          "line": 456
        },
        {
          "target": "6000-MAKE-DECISION",
          "call_type": "performs",
          "line": 459
        },
        {
          "target": "7100-SEND-RESPONSE",
          "call_type": "performs",
          "line": 461
        },
        {
          "target": "8000-WRITE-AUTH-TO-DB",
          "call_type": "performs",
          "line": 464
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 330,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 323,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5000-EXIT",
      "summary": null,
      "purpose": "This is an exit paragraph that simply executes EXIT to return control to the calling paragraph. It consumes no inputs and produces no outputs. No business logic, decisions, error handling, or calls. Serves as a thru-exit point for 5000-PROCESS-AUTH.",
      "called_by": [],
      "calls": [],
      "citation": [
        468,
        471
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5100-READ-XREF-RECORD",
      "summary": null,
      "purpose": "This paragraph reads the card cross-reference record from VSAM file WS-CCXREF-FILE using CICS READ DATASET with key XREF-CARD-NUM from PA-RQ-CARD-NUM. It consumes PA-RQ-CARD-NUM moved to XREF-CARD-NUM and populates CARD-XREF-RECORD area. On NORMAL resp, sets CARD-FOUND-XREF TRUE; on NOTFND, sets CARD-NFOUND-XREF and NFOUND-ACCT-IN-MSTR TRUE, logs WARNING 'A001' 'CARD NOT FOUND IN XREF'; on other errors, logs CRITICAL 'C001' CICS error with resp/reas codes. Error handling via EVALUATE on WS-RESP-CD triggers 9500-LOG-ERROR with appropriate severity and event key. Provides XREF-ACCT-ID for subsequent account read. Calls 9500-LOG-ERROR on errors.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        472,
        515
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 500
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 512
        },
        {
          "target": "WS-CCXREF-FILE",
          "call_type": "reads",
          "line": 477
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 448,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 438,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5100-EXIT",
      "summary": null,
      "purpose": "This is an exit paragraph that simply executes EXIT to return control to the calling paragraph. It consumes no inputs and produces no outputs. No business logic, decisions, error handling, or calls. Serves as a thru-exit point for 5100-READ-XREF-RECORD.",
      "called_by": [],
      "calls": [],
      "citation": [
        516,
        519
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5200-READ-ACCT-RECORD",
      "summary": null,
      "purpose": "This paragraph reads the account record from VSAM file WS-ACCTFILENAME using CICS READ DATASET with RIDFLD constructed from XREF-ACCT-ID. It consumes XREF-ACCT-ID moved to WS-CARD-RID-ACCT-ID-X and populates ACCOUNT-RECORD area. On NORMAL resp, sets FOUND-ACCT-IN-MSTR TRUE; on NOTFND, sets NFOUND-ACCT-IN-MSTR TRUE, logs WARNING 'A002' 'ACCT NOT FOUND IN XREF'; on other errors, logs CRITICAL 'C002' CICS error with resp/reas codes and event key WS-CARD-RID-ACCT-ID-X. Error handling via EVALUATE on WS-RESP-CD triggers 9500-LOG-ERROR. Provides account data for further processing like customer read.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        520,
        563
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 547
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 560
        },
        {
          "target": "WS-ACCTFILENAME",
          "call_type": "reads",
          "line": 525
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 451,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 438,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5200-EXIT",
      "summary": null,
      "purpose": "This is an exit paragraph that simply executes EXIT to return control to the calling paragraph. It consumes no inputs and produces no outputs. No business logic, decisions, error handling, or calls. Serves as a thru-exit point for 5200-READ-ACCT-RECORD.",
      "called_by": [],
      "calls": [],
      "citation": [
        564,
        567
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5300-READ-CUST-RECORD",
      "summary": null,
      "purpose": "This paragraph reads the customer record from the VSAM customer master file using CICS READ with key derived from XREF-CUST-ID. It moves XREF-CUST-ID to WS-CARD-RID-CUST-ID and uses WS-CARD-RID-CUST-ID-X as RIDFLD into CUSTOMER-RECORD. On normal response (DFHRESP(NORMAL)), sets FOUND-CUST-IN-MSTR to TRUE. On NOTFND, sets NFOUND-CUST-IN-MSTR, logs warning error 'A003' with message 'CUST NOT FOUND IN XREF' via 9500-LOG-ERROR. For other responses, logs critical CICS error 'C003' with codes and message 'FAILED TO READ CUST FILE' via 9500-LOG-ERROR. No outputs are written; flags and error structures are updated for caller. It implements error handling for file not found and I/O failures, distinguishing warnings from critical errors. Called from main flow to fetch customer data before decision making.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        568,
        611
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 595
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 608
        },
        {
          "target": "WS-CUSTFILENAME",
          "call_type": "reads",
          "line": 573
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 452,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 438,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5300-EXIT",
      "summary": null,
      "purpose": "This is the exit paragraph for 5300-READ-CUST-RECORD. It executes a simple EXIT statement to return control to the calling paragraph. No inputs are consumed or outputs produced in this paragraph. No business logic, conditions, validations, or error handling is performed. No other paragraphs or programs are called. It serves solely as a procedural exit point after the read and error handling logic completes, ensuring clean flow return.",
      "called_by": [],
      "calls": [],
      "citation": [
        612,
        615
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5500-READ-AUTH-SUMMRY",
      "summary": null,
      "purpose": "This paragraph retrieves the pending authorization summary segment from IMS using EXEC DLI GU on PAUT-PCB-NUM with key PA-ACCT-ID from XREF-ACCT-ID into PENDING-AUTH-SUMMARY. It moves XREF-ACCT-ID to PA-ACCT-ID before the call. Evaluates DIBSTAT/IMS-RETURN-CODE: sets FOUND-PAUT-SMRY-SEG on STATUS-OK, NFOUND-PAUT-SMRY-SEG on SEGMENT-NOT-FOUND. On other statuses, logs critical IMS error 'I002' with IMS return code and message 'IMS GET SUMMARY FAILED' via 9500-LOG-ERROR. Inputs are PCB and key data; outputs flags and potential error log. Error handling treats non-OK/non-NOTFND as critical failures. Used to fetch summary credit data for limit checks.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        616,
        642
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 639
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 454,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 438,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5500-EXIT",
      "summary": null,
      "purpose": "This is the exit paragraph for 5500-READ-AUTH-SUMMRY. It executes a simple EXIT statement to return control to the calling paragraph. No inputs are consumed or outputs produced. No business logic, conditions, or error handling occurs. No calls are made. It functions purely as an exit point post-IMS retrieval and evaluation.",
      "called_by": [],
      "calls": [],
      "citation": [
        643,
        646
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5600-READ-PROFILE-DATA",
      "summary": null,
      "purpose": "This paragraph is intended to read profile data but currently contains only a CONTINUE statement, performing no actual I/O or data operations. It consumes no inputs and produces no outputs or modifications. No conditions are checked, no business logic implemented, and no error handling present. No flags are set or other paragraphs called. Likely a placeholder for future profile retrieval logic in the authorization process. As-is, it does nothing substantive upon invocation.",
      "called_by": [],
      "calls": [],
      "citation": [
        647,
        652
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 456,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 438,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5600-EXIT",
      "summary": null,
      "purpose": "This is the exit paragraph for 5600-READ-PROFILE-DATA. It executes EXIT to return control to caller. No data I/O, logic, or changes occur. No errors handled or calls made. Standard exit point after non-functional continue.",
      "called_by": [],
      "calls": [],
      "citation": [
        653,
        656
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "6000-MAKE-DECISION",
      "summary": null,
      "purpose": "This paragraph orchestrates the authorization decision logic. It first copies request data to response linkage fields: PA-RQ-CARD-NUM to PA-RL-CARD-NUM, etc. If IMS summary found, computes WS-AVAILABLE-AMT as PA-CREDIT-LIMIT minus PA-CREDIT-BALANCE; declines if WS-TRANSACTION-AMT exceeds it, setting INSUFFICIENT-FUND. Falls back to account master if no summary and account found, computing from ACCT-CREDIT-LIMIT minus ACCT-CURR-BAL. Declines if no account found. Sets AUTH-RESP-DECLINED/APPROVED, response code '05'/'00', approved amt to 0 or transaction amt. Assigns reason '3100' for not-founds, '4100' insufficient, etc., via EVALUATE. Edits WS-APPROVED-AMT-DISPLAY and STRINGs response fields into W02-PUT-BUFFER with length. Inputs from prior reads/flags/WS-TRANSACTION-AMT; outputs updated PA-RL-* and buffer for MQ. Implements core business rules for credit checks without explicit error handling beyond flags.",
      "called_by": [],
      "calls": [],
      "citation": [
        657,
        733
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 459,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 438,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "6000-EXIT",
      "summary": null,
      "purpose": "This is the exit paragraph for 6000-MAKE-DECISION. Executes EXIT to return control. No inputs/outputs modified, no logic or errors handled. No calls. Exit after decision and buffer prep.",
      "called_by": [],
      "calls": [],
      "citation": [
        734,
        737
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "7100-SEND-RESPONSE",
      "summary": null,
      "purpose": "This paragraph sends the authorization response via MQPUT1 to reply queue WS-REPLY-QNAME. Sets MQMD/MQOD fields: object type queue, msg type reply, correl ID from saved, format STRING, non-persistent, etc. Computes options NO-SYNCPOINT + DEFAULT-CONTEXT. Calls MQPUT1 with connection, OD, MD, options, buffer length, buffer, capturing compcode/reason. On non-MQCC-OK, logs critical MQ error 'M004' with codes and 'FAILED TO PUT ON REPLY MQ' via 9500-LOG-ERROR. Inputs MQ structures and W02-PUT-BUFFER from prior; outputs message to queue or error log. Handles MQ put failures as critical errors. Final step to return decision to requester.",
      "called_by": [],
      "calls": [
        "MQPUT1",
        "9500-LOG-ERROR"
      ],
      "citation": [
        738,
        781
      ],
      "outgoing_calls": [
        {
          "target": "MQPUT1",
          "call_type": "calls",
          "line": 758
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 778
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 461,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 438,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "7100-EXIT",
      "summary": null,
      "purpose": "Exit paragraph for 7100-SEND-RESPONSE. Simple EXIT to caller. No data changes, logic, or handling. No calls. Post-MQ send exit.",
      "called_by": [],
      "calls": [],
      "citation": [
        782,
        785
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8000-WRITE-AUTH-TO-DB",
      "summary": null,
      "purpose": "This paragraph orchestrates the writing of authorization data to the IMS PAUT database after processing. It consumes working storage data including cross-reference IDs, account limits, approval status, and amounts from prior paragraphs. It produces calls to update/insert summary and details segments in IMS. The primary role is to ensure both summary statistics and detail records are persisted atomically in sequence. No direct business decisions here; it delegates to subordinates. Error handling is performed in callees via logging. It calls 8400-UPDATE-SUMMARY THRU 8400-EXIT to handle summary accumulation and IMS update/insert, then 8500-INSERT-AUTH THRU 8500-EXIT to insert the detail record with timestamps. Control then exits via 8000-EXIT.",
      "called_by": [],
      "calls": [
        "8400-UPDATE-SUMMARY",
        "8500-INSERT-AUTH"
      ],
      "citation": [
        786,
        793
      ],
      "outgoing_calls": [
        {
          "target": "8400-UPDATE-SUMMARY",
          "call_type": "performs",
          "line": 790
        },
        {
          "target": "8500-INSERT-AUTH",
          "call_type": "performs",
          "line": 791
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 464,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 438,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the dedicated exit point for the 8000-WRITE-AUTH-TO-DB procedure. It consumes no inputs and produces no outputs or modifications. Its sole role is to execute an EXIT statement, returning control to the originating PERFORM statement. There are no business logic decisions, validations, error checks, or subordinate calls. It ensures modular flow control by cleanly terminating the procedure after subordinate processing completes. It is invoked implicitly via THRU 8000-EXIT in the PERFORM statements of 8000-WRITE-AUTH-TO-DB. This prevents fall-through and maintains program structure.",
      "called_by": [],
      "calls": [],
      "citation": [
        794,
        797
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8400-UPDATE-SUMMARY",
      "summary": null,
      "purpose": "This paragraph manages the update or insertion of the pending authorization summary segment in IMS PAUTSUM0. It reads flags NFOUND-PAUT-SMRY-SEG and FOUND-PAUT-SMRY-SEG from prior IMS positioning, XREF-ACCT-ID/CUST-ID, ACCT credit limits, AUTH-RESP-APPROVED, WS-APPROVED-AMT, and PA-TRANSACTION-AMT. It produces an updated or new PENDING-AUTH-SUMMARY record written to IMS via REPL or ISRT, accumulating stats in PA-APPROVED-AUTH-CNT/AMT, PA-DECLINED-AUTH-CNT/AMT, PA-CREDIT-BALANCE, PA-CASH-BALANCE. Business logic: if not found, initialize summary and set IDs; always set limits; if approved add to approved stats and adjust balances, else add to declined; then REPL if found else ISRT. Error handling: if DLI fails (STATUS-OK false), set 'I003' error, CRITICAL/IMS flags, IMS-RETURN-CODE, message, card num key, PERFORM 9500-LOG-ERROR. Calls 9500-LOG-ERROR on IMS failure. Exits via 8400-EXIT.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        798,
        849
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 846
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8000-WRITE-AUTH-TO-DB",
          "line": 790,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8000-WRITE-AUTH-TO-DB",
          "line": 786,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8400-EXIT",
      "summary": null,
      "purpose": "This paragraph acts as the exit for 8400-UPDATE-SUMMARY. It performs no data reads, writes, or modifications. Its purpose is to issue an EXIT statement returning control to the caller. No conditions, validations, or error handling occur. No calls are made. It supports THRU clause usage for bounded procedure execution. Ensures no unintended code execution post-summary update.",
      "called_by": [],
      "calls": [],
      "citation": [
        850,
        853
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8500-INSERT-AUTH",
      "summary": null,
      "purpose": "This paragraph inserts the authorization detail record into IMS PAUTDTL1 under PAUTSUM0. It consumes PA-RQ-* request fields, PA-RL-* response fields, XREF-ACCT-ID, and computes timestamps from CICS time. It produces a new PENDING-AUTH-DETAILS segment with all auth details, orig dates/times, match status. Business logic: get/format current time via CICS ASKTIME/FORMATTIME, compute inverted date/time stamps, move all request/response/merchant fields, set match pending/declined based on approval, clear fraud fields, set acct ID. Performs DLI ISRT with WHERE ACCNTID. Error handling: if STATUS-OK false, set 'I004' error, CRITICAL/IMS, codes/message/card key, PERFORM 9500-LOG-ERROR. Calls CICS for time and 9500-LOG-ERROR on failure.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        854,
        934
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 931
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8000-WRITE-AUTH-TO-DB",
          "line": 791,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8000-WRITE-AUTH-TO-DB",
          "line": 786,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8500-EXIT",
      "summary": null,
      "purpose": "This is the exit paragraph for 8500-INSERT-AUTH. It executes only an EXIT statement with no data consumption or production. Role is to return control post-insert. No logic, conditions, errors, or calls. Supports THRU for procedure scoping. Prevents flow beyond detail insert.",
      "called_by": [],
      "calls": [],
      "citation": [
        935,
        939
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9000-TERMINATE",
      "summary": null,
      "purpose": "This paragraph handles program termination procedures. It consumes IMS-PSB-SCHD flag and WS-REQUEST-MQ-OPEN status. It produces IMS TERM if scheduled and closes MQ queue. Business logic: if PSB scheduled, EXEC DLI TERM; always PERFORM 9100-CLOSE-REQUEST-QUEUE THRU EXIT. No direct validations beyond flags. Errors deferred to 9100. Calls 9100-CLOSE-REQUEST-QUEUE for MQ cleanup. Exits via 9000-EXIT.",
      "called_by": [],
      "calls": [
        "9100-CLOSE-REQUEST-QUEUE"
      ],
      "citation": [
        940,
        949
      ],
      "outgoing_calls": [
        {
          "target": "9100-CLOSE-REQUEST-QUEUE",
          "call_type": "performs",
          "line": 947
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "MAIN-PARA",
          "line": 224,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9990-END-ROUTINE",
          "line": 1019,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "MAIN-PARA",
          "line": 220,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9990-END-ROUTINE",
          "line": 1016,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9000-EXIT",
      "summary": null,
      "purpose": "Exit point for 9000-TERMINATE with single EXIT. No inputs/outputs/logic/calls. Returns control after termination steps. Supports THRU usage.",
      "called_by": [],
      "calls": [],
      "citation": [
        950,
        952
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9100-CLOSE-REQUEST-QUEUE",
      "summary": null,
      "purpose": "This paragraph closes the MQ request queue connection. It reads WS-REQUEST-MQ-OPEN flag. Produces MQ close via CALL 'MQCLOSE', sets WS-REQUEST-MQ-CLSE if OK. Business logic: if open, CALL MQCLOSE with HCONN/HOBJ/NONE, check COMPCODE=MQCC-OK. Error handling: if fail, set 'M005' WARNING/MQ errors, codes/message, PERFORM 9500-LOG-ERROR. Calls 'MQCLOSE' API and 9500-LOG-ERROR on failure. Ensures resource cleanup.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        953,
        978
      ],
      "outgoing_calls": [
        {
          "target": "MQCLOSE",
          "call_type": "calls",
          "line": 956
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 975
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9000-TERMINATE",
          "line": 947,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9000-TERMINATE",
          "line": 940,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9100-EXIT",
      "summary": null,
      "purpose": "Exit for 9100-CLOSE-REQUEST-QUEUE via EXIT only. No data ops or logic. Returns post-MQ close.",
      "called_by": [],
      "calls": [],
      "citation": [
        979,
        982
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9500-LOG-ERROR",
      "summary": null,
      "purpose": "This paragraph serves as the primary error logging routine in the program, invoked when an error condition occurs to record details for auditing and support. It consumes working storage variables such as WS-CICS-TRANID, WS-PGM-AUTH, and ERR-CRITICAL, along with timestamp data obtained via CICS ASKTIME and FORMATTIME. It produces a populated ERROR-LOG-RECORD by moving the transaction ID to ERR-APPLICATION, program authority to ERR-PROGRAM, formatted date to ERR-DATE, and time to ERR-TIME. The business logic involves unconditionally writing the error record to the CICS TD queue 'CSSL' using WRITEQ with NOHANDLE, ensuring logging even if CICS fails. It then evaluates the ERR-CRITICAL flag; if true, it performs 9990-END-ROUTINE to terminate the program gracefully. Error handling relies on NOHANDLE for CICS calls, suppressing exceptions without explicit checks. This paragraph is called from other parts of the program where errors are detected, ensuring consistent logging before potential exit.",
      "called_by": [],
      "calls": [
        "9990-END-ROUTINE"
      ],
      "citation": [
        983,
        1011
      ],
      "outgoing_calls": [
        {
          "target": "9990-END-ROUTINE",
          "call_type": "performs",
          "line": 1009
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1100-OPEN-REQUEST-QUEUE",
          "line": 282,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1200-SCHEDULE-PSB",
          "line": 316,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "3100-READ-REQUEST-MQ",
          "line": 429,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5100-READ-XREF-RECORD",
          "line": 500,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5200-READ-ACCT-RECORD",
          "line": 547,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5300-READ-CUST-RECORD",
          "line": 595,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5500-READ-AUTH-SUMMRY",
          "line": 639,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "7100-SEND-RESPONSE",
          "line": 778,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8400-UPDATE-SUMMARY",
          "line": 846,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8500-INSERT-AUTH",
          "line": 931,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9100-CLOSE-REQUEST-QUEUE",
          "line": 975,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1100-OPEN-REQUEST-QUEUE",
          "line": 255,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1200-SCHEDULE-PSB",
          "line": 292,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "3100-READ-REQUEST-MQ",
          "line": 386,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5100-READ-XREF-RECORD",
          "line": 472,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5200-READ-ACCT-RECORD",
          "line": 520,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5300-READ-CUST-RECORD",
          "line": 568,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5500-READ-AUTH-SUMMRY",
          "line": 616,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "7100-SEND-RESPONSE",
          "line": 738,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8400-UPDATE-SUMMARY",
          "line": 798,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8500-INSERT-AUTH",
          "line": 854,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9100-CLOSE-REQUEST-QUEUE",
          "line": 953,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9500-EXIT",
      "summary": null,
      "purpose": "This paragraph acts as the exit point for the 9500-LOG-ERROR routine, providing a standard control flow termination. It consumes no inputs or data explicitly, serving solely as a flow control marker. It produces no outputs or modifications to data structures. There is no business logic, decisions, or conditions implemented here. No error handling is present as it is a simple exit. It calls no other paragraphs or programs, simply executing an EXIT statement to return control to the caller. This ensures clean delineation of the logging routine's scope in the overall program flow.",
      "called_by": [
        "9500-LOG-ERROR"
      ],
      "calls": [],
      "citation": [
        1012,
        1015
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9990-END-ROUTINE",
      "summary": null,
      "purpose": "This paragraph handles final program termination invoked specifically for critical errors after logging. It consumes no explicit inputs but relies on prior setup from callers like 9500-LOG-ERROR. It produces program exit by performing 9000-TERMINATE for cleanup (files, resources) and issuing EXEC CICS RETURN to end the CICS task. The business logic is straightforward: always perform termination and return, with no conditional branching. Error handling is implicit via the PERFORM to 9000-TERMINATE, assuming that handles any final errors. It calls 9000-TERMINATE to ensure orderly shutdown before returning control to CICS, preventing resource leaks in the online environment.",
      "called_by": [
        "9500-LOG-ERROR"
      ],
      "calls": [
        "9000-TERMINATE"
      ],
      "citation": [
        1016,
        1023
      ],
      "outgoing_calls": [
        {
          "target": "9000-TERMINATE",
          "call_type": "performs",
          "line": 1019
        }
      ],
      "incoming_calls": [
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9500-LOG-ERROR",
          "line": 1009,
          "call_type": "performs"
        },
        {
          "file": "/Users/andraslferenczi/war_rig/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9500-LOG-ERROR",
          "line": 983,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9990-EXIT",
      "summary": null,
      "purpose": "This paragraph provides the exit point for the 9990-END-ROUTINE, marking the end of termination logic. It reads no data and makes no modifications. No outputs are produced beyond flow control. There are no decisions, validations, or business rules applied. Error handling is not applicable in this minimal stub. It invokes no subroutines, relying solely on the EXIT statement to return to the prior context, maintaining structured control flow.",
      "called_by": [
        "9990-END-ROUTINE"
      ],
      "calls": [],
      "citation": [
        1024,
        1026
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "EIBRESP != DFHRESP(NORMAL) after CICS RETRIEVE",
      "action": "NOHANDLE ignores, skips moves (partial handling)",
      "citation": [
        237
      ]
    },
    {
      "condition": "WS-COMPCODE != MQCC-OK after MQOPEN",
      "action": "Set error flags, log via 9500-LOG-ERROR",
      "citation": [
        260
      ]
    },
    {
      "condition": "STATUS != OK after IMS PSB SCHD",
      "action": "Set error flags, log via 9500-LOG-ERROR",
      "citation": [
        292
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [
    {
      "command": "RETRIEVE",
      "resource": "MQTM",
      "purpose": "Retrieve MQ trigger message data into working storage",
      "citation": 237
    },
    {
      "command": "RETURN",
      "resource": null,
      "purpose": "Return control to CICS after termination",
      "citation": 229
    },
    {
      "command": "SYNCPOINT",
      "resource": null,
      "purpose": "Commit IMS and CICS updates per message",
      "citation": 323
    }
  ],
  "open_questions": [
    {
      "question": "Full details of unshown paragraphs (2100-EXTRACT-REQUEST-MSG, 3100-READ-REQUEST-MQ, 5000-PROCESS-AUTH, etc.)",
      "context": "AST snippet incomplete; only up to 2000-EXIT provided",
      "suggestion": "Provide full AST or source for remaining paragraphs"
    },
    {
      "question": "Exact copybook names and locations for all structures (e.g., PA-RL-AUTH-RESP-REASON, IMS segments)",
      "context": "Inferred from variable usage but not explicitly COPY statements in AST",
      "suggestion": "Scan for COPY statements in full source"
    },
    {
      "question": "Response queue name and exact MQPUT details",
      "context": "Inferred from 7100-SEND-RESPONSE but not in AST snippet",
      "suggestion": "Analyze 7100-SEND-RESPONSE AST"
    },
    {
      "question": "Calling transaction ID or commarea details",
      "context": "CICS RETRIEVE source unclear (TS queue? commarea?)",
      "suggestion": "Check EIB fields or full WORKING-STORAGE"
    }
  ],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "exec-017",
      "artifact_type": "function",
      "line": 986,
      "reason": "Function 'exec-017' is never called by any other artifact"
    },
    {
      "name": "exec-018",
      "artifact_type": "function",
      "line": 990,
      "reason": "Function 'exec-018' is never called by any other artifact"
    },
    {
      "name": "exec-019",
      "artifact_type": "function",
      "line": 1001,
      "reason": "Function 'exec-019' is never called by any other artifact"
    },
    {
      "name": "exec-020",
      "artifact_type": "function",
      "line": 1021,
      "reason": "Function 'exec-020' is never called by any other artifact"
    },
    {
      "name": "ERROR-LOG-RECORD",
      "artifact_type": "record_layout",
      "line": 19,
      "reason": "Record layout 'ERROR-LOG-RECORD' is never used by any program"
    },
    {
      "name": "MQM-CONSTANTS",
      "artifact_type": "record_layout",
      "line": 160,
      "reason": "Record layout 'MQM-CONSTANTS' is never used by any program"
    },
    {
      "name": "MQM-GET-MESSAGE-OPTIONS",
      "artifact_type": "record_layout",
      "line": 169,
      "reason": "Record layout 'MQM-GET-MESSAGE-OPTIONS' is never used by any program"
    },
    {
      "name": "MQM-MD-REPLY",
      "artifact_type": "record_layout",
      "line": 157,
      "reason": "Record layout 'MQM-MD-REPLY' is never used by any program"
    },
    {
      "name": "MQM-MD-REQUEST",
      "artifact_type": "record_layout",
      "line": 151,
      "reason": "Record layout 'MQM-MD-REQUEST' is never used by any program"
    },
    {
      "name": "MQM-OD-REPLY",
      "artifact_type": "record_layout",
      "line": 154,
      "reason": "Record layout 'MQM-OD-REPLY' is never used by any program"
    },
    {
      "name": "MQM-OD-REQUEST",
      "artifact_type": "record_layout",
      "line": 148,
      "reason": "Record layout 'MQM-OD-REQUEST' is never used by any program"
    },
    {
      "name": "MQM-PUT-MESSAGE-OPTIONS",
      "artifact_type": "record_layout",
      "line": 166,
      "reason": "Record layout 'MQM-PUT-MESSAGE-OPTIONS' is never used by any program"
    },
    {
      "name": "MQM-TRIGGER-DATA",
      "artifact_type": "record_layout",
      "line": 163,
      "reason": "Record layout 'MQM-TRIGGER-DATA' is never used by any program"
    },
    {
      "name": "PENDING-AUTH-REQUEST",
      "artifact_type": "record_layout",
      "line": 177,
      "reason": "Record layout 'PENDING-AUTH-REQUEST' is never used by any program"
    },
    {
      "name": "PENDING-AUTH-RESPONSE",
      "artifact_type": "record_layout",
      "line": 181,
      "reason": "Record layout 'PENDING-AUTH-RESPONSE' is never used by any program"
    },
    {
      "name": "W01-BUFFLEN",
      "artifact_type": "record_layout",
      "line": 101,
      "reason": "Record layout 'W01-BUFFLEN' is never used by any program"
    },
    {
      "name": "W01-DATALEN",
      "artifact_type": "record_layout",
      "line": 102,
      "reason": "Record layout 'W01-DATALEN' is never used by any program"
    },
    {
      "name": "W01-GET-BUFFER",
      "artifact_type": "record_layout",
      "line": 103,
      "reason": "Record layout 'W01-GET-BUFFER' is never used by any program"
    },
    {
      "name": "W01-HCONN-REQUEST",
      "artifact_type": "record_layout",
      "line": 99,
      "reason": "Record layout 'W01-HCONN-REQUEST' is never used by any program"
    },
    {
      "name": "W01-HOBJ-REQUEST",
      "artifact_type": "record_layout",
      "line": 100,
      "reason": "Record layout 'W01-HOBJ-REQUEST' is never used by any program"
    },
    {
      "name": "W02-BUFFLEN",
      "artifact_type": "record_layout",
      "line": 106,
      "reason": "Record layout 'W02-BUFFLEN' is never used by any program"
    },
    {
      "name": "W02-DATALEN",
      "artifact_type": "record_layout",
      "line": 107,
      "reason": "Record layout 'W02-DATALEN' is never used by any program"
    },
    {
      "name": "W02-HCONN-REPLY",
      "artifact_type": "record_layout",
      "line": 105,
      "reason": "Record layout 'W02-HCONN-REPLY' is never used by any program"
    },
    {
      "name": "W02-PUT-BUFFER",
      "artifact_type": "record_layout",
      "line": 108,
      "reason": "Record layout 'W02-PUT-BUFFER' is never used by any program"
    }
  ],
  "call_semantics": [
    {
      "caller": "MAIN-PARA",
      "callee": "1000-INITIALIZE",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "2000-MAIN-PROCESS",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "MAIN-PARA",
      "callee": "9000-TERMINATE",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "1000-INITIALIZE",
      "callee": "1100-OPEN-REQUEST-QUEUE",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "1000-INITIALIZE",
      "callee": "3100-READ-REQUEST-MQ",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "1100-OPEN-REQUEST-QUEUE",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "1200-SCHEDULE-PSB",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "2000-MAIN-PROCESS",
      "callee": "2100-EXTRACT-REQUEST-MSG",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "2000-MAIN-PROCESS",
      "callee": "5000-PROCESS-AUTH",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "2000-MAIN-PROCESS",
      "callee": "3100-READ-REQUEST-MQ",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "3100-READ-REQUEST-MQ",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "1200-SCHEDULE-PSB",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5100-READ-XREF-RECORD",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5200-READ-ACCT-RECORD",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5300-READ-CUST-RECORD",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5500-READ-AUTH-SUMMRY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5600-READ-PROFILE-DATA",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "6000-MAKE-DECISION",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "7100-SEND-RESPONSE",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "8000-WRITE-AUTH-TO-DB",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5100-READ-XREF-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5100-READ-XREF-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5200-READ-ACCT-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5200-READ-ACCT-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5300-READ-CUST-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5300-READ-CUST-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5500-READ-AUTH-SUMMRY",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "7100-SEND-RESPONSE",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "8000-WRITE-AUTH-TO-DB",
      "callee": "8400-UPDATE-SUMMARY",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "8000-WRITE-AUTH-TO-DB",
      "callee": "8500-INSERT-AUTH",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "8400-UPDATE-SUMMARY",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "8500-INSERT-AUTH",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "9000-TERMINATE",
      "callee": "9100-CLOSE-REQUEST-QUEUE",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "9100-CLOSE-REQUEST-QUEUE",
      "callee": "9500-LOG-ERROR",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "9500-LOG-ERROR",
      "callee": "9990-END-ROUTINE",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "9990-END-ROUTINE",
      "callee": "9000-TERMINATE",
      "inputs": [],
      "outputs": [],
      "purpose": null
    }
  ],
  "flow_diagram": "flowchart TD\n    %% Title: COPAUA0C.cbl\n    1000_EXIT[\"1000-EXIT\"]\n    1000_INITIALIZE[\"1000-INITIALIZE\"]\n    1100_OPEN_REQUEST_QUEUE[\"1100-OPEN-REQUEST-QUEUE\"]\n    3100_READ_REQUEST_MQ[\"3100-READ-REQUEST-MQ\"]\n    1100_EXIT[\"1100-EXIT\"]\n    9500_LOG_ERROR[\"9500-LOG-ERROR\"]\n    MQOPEN__ext([\"MQOPEN\"])\n    1200_EXIT[\"1200-EXIT\"]\n    1200_SCHEDULE_PSB[\"1200-SCHEDULE-PSB\"]\n    2000_EXIT[\"2000-EXIT\"]\n    2000_MAIN_PROCESS[\"2000-MAIN-PROCESS\"]\n    2100_EXTRACT_REQUEST_MSG[\"2100-EXTRACT-REQUEST-MSG\"]\n    5000_PROCESS_AUTH[\"5000-PROCESS-AUTH\"]\n    2100_EXIT[\"2100-EXIT\"]\n    3100_EXIT[\"3100-EXIT\"]\n    MQGET__ext([\"MQGET\"])\n    5000_EXIT[\"5000-EXIT\"]\n    5100_READ_XREF_RECORD[\"5100-READ-XREF-RECORD\"]\n    5200_READ_ACCT_RECORD[\"5200-READ-ACCT-RECORD\"]\n    5300_READ_CUST_RECORD[\"5300-READ-CUST-RECORD\"]\n    5500_READ_AUTH_SUMMRY[\"5500-READ-AUTH-SUMMRY\"]\n    5600_READ_PROFILE_DATA[\"5600-READ-PROFILE-DATA\"]\n    6000_MAKE_DECISION[\"6000-MAKE-DECISION\"]\n    7100_SEND_RESPONSE[\"7100-SEND-RESPONSE\"]\n    8000_WRITE_AUTH_TO_DB[\"8000-WRITE-AUTH-TO-DB\"]\n    5100_EXIT[\"5100-EXIT\"]\n    WS_CCXREF_FILE__ext[(\"WS-CCXREF-FILE\")]\n    5200_EXIT[\"5200-EXIT\"]\n    WS_ACCTFILENAME__ext[(\"WS-ACCTFILENAME\")]\n    5300_EXIT[\"5300-EXIT\"]\n    WS_CUSTFILENAME__ext[(\"WS-CUSTFILENAME\")]\n    5500_EXIT[\"5500-EXIT\"]\n    5600_EXIT[\"5600-EXIT\"]\n    6000_EXIT[\"6000-EXIT\"]\n    7100_EXIT[\"7100-EXIT\"]\n    MQPUT1__ext([\"MQPUT1\"])\n    8000_EXIT[\"8000-EXIT\"]\n    8400_UPDATE_SUMMARY[\"8400-UPDATE-SUMMARY\"]\n    8500_INSERT_AUTH[\"8500-INSERT-AUTH\"]\n    8400_EXIT[\"8400-EXIT\"]\n    8500_EXIT[\"8500-EXIT\"]\n    9000_EXIT[\"9000-EXIT\"]\n    9000_TERMINATE[\"9000-TERMINATE\"]\n    9100_CLOSE_REQUEST_QUEUE[\"9100-CLOSE-REQUEST-QUEUE\"]\n    MQCLOSE__ext([\"MQCLOSE\"])\n    9100_EXIT[\"9100-EXIT\"]\n    9500_EXIT[\"9500-EXIT\"]\n    9990_END_ROUTINE[\"9990-END-ROUTINE\"]\n    9990_EXIT[\"9990-EXIT\"]\n    MAIN_PARA[\"MAIN-PARA\"]\n    1000_INITIALIZE --> 1100_OPEN_REQUEST_QUEUE\n    1000_INITIALIZE --> 3100_READ_REQUEST_MQ\n    1100_OPEN_REQUEST_QUEUE --> 9500_LOG_ERROR\n    1100_OPEN_REQUEST_QUEUE -.->|calls| MQOPEN__ext\n    1200_SCHEDULE_PSB --> 9500_LOG_ERROR\n    2000_MAIN_PROCESS --> 2100_EXTRACT_REQUEST_MSG\n    2000_MAIN_PROCESS --> 3100_READ_REQUEST_MQ\n    2000_MAIN_PROCESS --> 5000_PROCESS_AUTH\n    3100_READ_REQUEST_MQ --> 9500_LOG_ERROR\n    3100_READ_REQUEST_MQ -.->|calls| MQGET__ext\n    5000_PROCESS_AUTH --> 1200_SCHEDULE_PSB\n    5000_PROCESS_AUTH --> 5100_READ_XREF_RECORD\n    5000_PROCESS_AUTH --> 5200_READ_ACCT_RECORD\n    5000_PROCESS_AUTH --> 5300_READ_CUST_RECORD\n    5000_PROCESS_AUTH --> 5500_READ_AUTH_SUMMRY\n    5000_PROCESS_AUTH --> 5600_READ_PROFILE_DATA\n    5000_PROCESS_AUTH --> 6000_MAKE_DECISION\n    5000_PROCESS_AUTH --> 7100_SEND_RESPONSE\n    5000_PROCESS_AUTH --> 8000_WRITE_AUTH_TO_DB\n    5100_READ_XREF_RECORD --> 9500_LOG_ERROR\n    5100_READ_XREF_RECORD -.->|reads| WS_CCXREF_FILE__ext\n    5200_READ_ACCT_RECORD --> 9500_LOG_ERROR\n    5200_READ_ACCT_RECORD -.->|reads| WS_ACCTFILENAME__ext\n    5300_READ_CUST_RECORD --> 9500_LOG_ERROR\n    5300_READ_CUST_RECORD -.->|reads| WS_CUSTFILENAME__ext\n    5500_READ_AUTH_SUMMRY --> 9500_LOG_ERROR\n    7100_SEND_RESPONSE --> 9500_LOG_ERROR\n    7100_SEND_RESPONSE -.->|calls| MQPUT1__ext\n    8000_WRITE_AUTH_TO_DB --> 8400_UPDATE_SUMMARY\n    8000_WRITE_AUTH_TO_DB --> 8500_INSERT_AUTH\n    8400_UPDATE_SUMMARY --> 9500_LOG_ERROR\n    8500_INSERT_AUTH --> 9500_LOG_ERROR\n    9000_TERMINATE --> 9100_CLOSE_REQUEST_QUEUE\n    9100_CLOSE_REQUEST_QUEUE --> 9500_LOG_ERROR\n    9100_CLOSE_REQUEST_QUEUE -.->|calls| MQCLOSE__ext\n    9500_LOG_ERROR --> 9990_END_ROUTINE\n    9990_END_ROUTINE --> 9000_TERMINATE\n    MAIN_PARA --> 1000_INITIALIZE\n    MAIN_PARA --> 2000_MAIN_PROCESS\n    MAIN_PARA --> 9000_TERMINATE"
}