{
  "header": {
    "program_id": "COPAUA0C",
    "file_name": "COPAUA0C.cbl",
    "file_type": "COBOL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-24T17:53:03.023344",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This is an empty COBOL program. It does not perform any operations or contain any logic.",
    "business_context": null,
    "program_type": "BATCH",
    "citations": [
      1
    ]
  },
  "inputs": [],
  "outputs": [],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "COPAUA0C",
      "summary": null,
      "purpose": "This is the program identifier. It does not contain any executable code. It serves as a label to identify the COPAUA0C program within the system. This paragraph does not directly consume any inputs or produce any outputs. It is the starting point for the program's execution, but it immediately passes control to other paragraphs. No business logic or error handling is present in this paragraph. It calls other paragraphs to perform the actual processing.",
      "called_by": [],
      "calls": [
        "CMQODV",
        "CMQMDV",
        "CMQODV",
        "CMQMDV",
        "CMQV"
      ],
      "citation": [
        23,
        23
      ],
      "outgoing_calls": [
        {
          "target": "CMQODV",
          "call_type": "includes",
          "line": 149
        },
        {
          "target": "CMQMDV",
          "call_type": "includes",
          "line": 152
        },
        {
          "target": "CMQODV",
          "call_type": "includes",
          "line": 155
        },
        {
          "target": "CMQMDV",
          "call_type": "includes",
          "line": 158
        },
        {
          "target": "CMQV",
          "call_type": "includes",
          "line": 161
        },
        {
          "target": "CMQTML",
          "call_type": "includes",
          "line": 164
        },
        {
          "target": "CMQPMOV",
          "call_type": "includes",
          "line": 167
        },
        {
          "target": "CMQGMOV",
          "call_type": "includes",
          "line": 170
        },
        {
          "target": "CCPAURQY",
          "call_type": "includes",
          "line": 178
        },
        {
          "target": "CCPAURLY",
          "call_type": "includes",
          "line": 182
        },
        {
          "target": "CCPAUERY",
          "call_type": "includes",
          "line": 185
        },
        {
          "target": "CIPAUSMY",
          "call_type": "includes",
          "line": 193
        },
        {
          "target": "CIPAUDTY",
          "call_type": "includes",
          "line": 197
        },
        {
          "target": "CVACT03Y",
          "call_type": "includes",
          "line": 203
        },
        {
          "target": "CVACT01Y",
          "call_type": "includes",
          "line": 206
        },
        {
          "target": "CVCUS01Y",
          "call_type": "includes",
          "line": 209
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "MAIN-PARA",
      "summary": null,
      "purpose": "This paragraph serves as the main control flow for the COPAUA0C program. It orchestrates the initialization, main processing, and termination steps. First, it performs 1000-INITIALIZE to set up the environment and open the necessary resources. Then, it performs 2000-MAIN-PROCESS to handle the core authorization processing logic. Finally, it performs 9000-TERMINATE to close resources and clean up before exiting. The paragraph does not directly consume any input data, but it relies on the initialization step to prepare the environment. It also does not directly produce any output, but it triggers the main processing and termination steps that generate outputs. This paragraph contains no business logic or error handling itself, but it calls other paragraphs that implement these functions. After the termination step, the program returns to CICS.",
      "called_by": [],
      "calls": [
        "1000-INITIALIZE",
        "2000-MAIN-PROCESS",
        "9000-TERMINATE"
      ],
      "citation": [
        220,
        229
      ],
      "outgoing_calls": [
        {
          "target": "1000-INITIALIZE",
          "call_type": "performs",
          "line": 222
        },
        {
          "target": "2000-MAIN-PROCESS",
          "call_type": "performs",
          "line": 223
        },
        {
          "target": "9000-TERMINATE",
          "call_type": "performs",
          "line": 224
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-INITIALIZE",
      "summary": null,
      "purpose": "This paragraph initializes the program environment by retrieving MQ trigger monitor data and opening the request queue. It starts by retrieving the MQTM data using EXEC CICS RETRIEVE, which contains the queue name (MQTM-QNAME) and trigger data (MQTM-TRIGGERDATA). These values are then moved to working storage variables WS-REQUEST-QNAME and WS-TRIGGER-DATA, respectively. A wait interval of 5000 is set in WS-WAIT-INTERVAL. Next, it calls 1100-OPEN-REQUEST-QUEUE to open the request queue and 3100-READ-REQUEST-MQ to read the first request message. The paragraph consumes MQTM data as input and prepares the environment for further processing. It does not produce any direct output but sets up the necessary resources. The paragraph checks if the CICS RETRIEVE command was successful (EIBRESP = DFHRESP(NORMAL)). If not, the program continues without initializing the queue name and trigger data. This paragraph calls 1100-OPEN-REQUEST-QUEUE and 3100-READ-REQUEST-MQ to perform the actual queue operations.",
      "called_by": [],
      "calls": [
        "1100-OPEN-REQUEST-QUEUE",
        "3100-READ-REQUEST-MQ"
      ],
      "citation": [
        230,
        248
      ],
      "outgoing_calls": [
        {
          "target": "1100-OPEN-REQUEST-QUEUE",
          "call_type": "performs",
          "line": 244
        },
        {
          "target": "3100-READ-REQUEST-MQ",
          "call_type": "performs",
          "line": 246
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 1000-INITIALIZE paragraph. It simply contains the EXIT statement, which returns control to the calling paragraph (MAIN-PARA). It does not consume any inputs, produce any outputs, implement any business logic, or handle any errors. It is a standard COBOL construct to define the end of a PERFORM THRU range.",
      "called_by": [],
      "calls": [],
      "citation": [
        249,
        254
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1100-OPEN-REQUEST-QUEUE",
      "summary": null,
      "purpose": "This paragraph opens the WebSphere MQ request queue for shared input. It moves MQOT-Q to MQOD-OBJECTTYPE of MQM-OD-REQUEST and WS-REQUEST-QNAME to MQOD-OBJECTNAME of MQM-OD-REQUEST, defining the queue object. It then computes WS-OPTIONS as MQOO-INPUT-SHARED, specifying shared input access. The MQOPEN call is then made using the connection handle (W01-HCONN-REQUEST), object descriptor (MQM-OD-REQUEST), options (WS-OPTIONS), object handle (W01-HOBJ-REQUEST), completion code (WS-COMPCODE), and reason code (WS-REASON). If the MQOPEN call is successful (WS-COMPCODE = MQCC-OK), WS-REQUEST-MQ-OPEN is set to TRUE. Otherwise, an error is logged using 9500-LOG-ERROR. The paragraph consumes WS-REQUEST-QNAME as input and produces the opened queue handle (W01-HOBJ-REQUEST) as output. The business logic involves setting the correct options for opening the queue. Error handling is performed by checking the completion code and logging an error if the queue could not be opened. This paragraph calls 9500-LOG-ERROR to log any errors encountered during the queue opening process.",
      "called_by": [],
      "calls": [
        "MQOPEN",
        "9500-LOG-ERROR"
      ],
      "citation": [
        255,
        285
      ],
      "outgoing_calls": [
        {
          "target": "MQOPEN",
          "call_type": "calls",
          "line": 262
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 282
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1000-INITIALIZE",
          "line": 244,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1100-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 1100-OPEN-REQUEST-QUEUE paragraph. It contains the EXIT statement, which returns control to the calling paragraph (1000-INITIALIZE). It does not consume any inputs, produce any outputs, implement any business logic, or handle any errors. It is a standard COBOL construct to define the end of a PERFORM THRU range.",
      "called_by": [],
      "calls": [],
      "citation": [
        286,
        291
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1200-SCHEDULE-PSB",
      "summary": null,
      "purpose": "This paragraph schedules a PSB (Program Specification Block) in IMS. It executes a DLI SCHD command with the PSB-NAME. The DIBSTAT is moved to IMS-RETURN-CODE. If the PSB is scheduled more than once, it terminates the PSB and schedules it again. If the status is OK, IMS-PSB-SCHD is set to TRUE. Otherwise, an error is logged using 9500-LOG-ERROR. This paragraph takes PSB-NAME as input and sets IMS-PSB-SCHD as output. The business logic involves scheduling the PSB and handling the case where it's scheduled more than once. Error handling is performed by checking the DIBSTAT and logging an error if the scheduling fails. This paragraph calls 9500-LOG-ERROR to log any errors encountered during the PSB scheduling process.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        292,
        318
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 316
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 443,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1200-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 1200-SCHEDULE-PSB paragraph. It contains the EXIT statement, which returns control to the calling paragraph. It does not consume any inputs, produce any outputs, implement any business logic, or handle any errors. It is a standard COBOL construct to define the end of a PERFORM THRU range.",
      "called_by": [],
      "calls": [],
      "citation": [
        319,
        322
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-MAIN-PROCESS",
      "summary": null,
      "purpose": "This paragraph is the main processing loop of the program, handling authorization requests from the message queue. It repeatedly performs 2100-EXTRACT-REQUEST-MSG to extract the request message and 5000-PROCESS-AUTH to process the authorization. The loop continues until either NO-MORE-MSG-AVAILABLE is true or WS-LOOP-END is true. After processing each message, it increments WS-MSG-PROCESSED and issues a CICS SYNCPOINT. IMS-PSB-NOT-SCHD is set to TRUE. If WS-MSG-PROCESSED exceeds WS-REQSTS-PROCESS-LIMIT, WS-LOOP-END is set to TRUE, terminating the loop. Otherwise, it calls 3100-READ-REQUEST-MQ to read the next request message. The paragraph consumes request messages from the queue and produces authorization responses and updates to IMS. The business logic involves processing each message and limiting the number of messages processed in a single execution. Error handling is not explicitly shown in this snippet, but it's likely handled within the called paragraphs. This paragraph calls 2100-EXTRACT-REQUEST-MSG, 5000-PROCESS-AUTH, and 3100-READ-REQUEST-MQ to perform the actual message processing and queue operations.",
      "called_by": [],
      "calls": [
        "2100-EXTRACT-REQUEST-MSG",
        "5000-PROCESS-AUTH",
        "3100-READ-REQUEST-MQ"
      ],
      "citation": [
        323,
        346
      ],
      "outgoing_calls": [
        {
          "target": "2100-EXTRACT-REQUEST-MSG",
          "call_type": "performs",
          "line": 328
        },
        {
          "target": "5000-PROCESS-AUTH",
          "call_type": "performs",
          "line": 330
        },
        {
          "target": "3100-READ-REQUEST-MQ",
          "call_type": "performs",
          "line": 342
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "MAIN-PARA",
          "line": 223,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 2000-MAIN-PROCESS paragraph. It contains the EXIT statement, which returns control to the calling paragraph (MAIN-PARA). It does not consume any inputs, produce any outputs, implement any business logic, or handle any errors. It is a standard COBOL construct to define the end of a PERFORM THRU range.",
      "called_by": [],
      "calls": [],
      "citation": [
        347,
        350
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2100-EXTRACT-REQUEST-MSG",
      "summary": null,
      "purpose": "This paragraph extracts data from the MQ message buffer (W01-GET-BUFFER) into individual fields. It uses the UNSTRING statement to parse the comma-delimited message. The extracted fields include authorization date, time, card number, authorization type, card expiry date, message type, message source, processing code, transaction amount (alphanumeric), merchant category code, acquirer country code, POS entry mode, merchant ID, merchant name, merchant city, merchant state, merchant zip, and transaction ID. It then converts the alphanumeric transaction amount (WS-TRANSACTION-AMT-AN) to a numeric value (PA-RQ-TRANSACTION-AMT) using the NUMVAL function and moves it to WS-TRANSACTION-AMT. No error handling is explicitly performed within this paragraph. It does not call any other paragraphs or programs.",
      "called_by": [],
      "calls": [],
      "citation": [
        351,
        381
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 328,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2100-EXIT",
      "summary": null,
      "purpose": "This paragraph simply exits the 2100-EXTRACT-REQUEST-MSG paragraph. It serves as a standard exit point and does not perform any specific logic or data manipulation. It does not consume any inputs or produce any outputs. It does not make any decisions or handle any errors. It does not call any other paragraphs or programs.",
      "called_by": [],
      "calls": [],
      "citation": [
        382,
        385
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-READ-REQUEST-MQ",
      "summary": null,
      "purpose": "This paragraph reads a request message from the MQ queue. It sets the MQGMO options for no syncpoint, waiting, conversion, and failing if quiescing. It moves the wait interval to MQGMO-WAITINTERVAL. It initializes the message ID and correlation ID in the MQMD. It then calls the MQGET API to retrieve the message from the queue, using the connection and object handles, message descriptor, get message options, buffer length, and buffer. If the MQGET call is successful (WS-COMPCODE = MQCC-OK), it saves the correlation ID and reply-to queue name. If the call fails, it checks if the reason code is MQRC-NO-MSG-AVAILABLE and sets the NO-MORE-MSG-AVAILABLE flag. Otherwise, it logs an error message using 9500-LOG-ERROR, including the component code, reason code, and a descriptive message. The paragraph consumes the W01-HCONN-REQUEST, W01-HOBJ-REQUEST, MQM-MD-REQUEST, MQM-GET-MESSAGE-OPTIONS, W01-BUFFLEN and produces the W01-GET-BUFFER, W01-DATALEN, WS-COMPCODE, WS-REASON.",
      "called_by": [],
      "calls": [
        "MQGET",
        "9500-LOG-ERROR"
      ],
      "citation": [
        386,
        433
      ],
      "outgoing_calls": [
        {
          "target": "MQGET",
          "call_type": "calls",
          "line": 400
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 429
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1000-INITIALIZE",
          "line": 246,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 342,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-EXIT",
      "summary": null,
      "purpose": "This paragraph simply exits the 3100-READ-REQUEST-MQ paragraph. It serves as a standard exit point and does not perform any specific logic or data manipulation. It does not consume any inputs or produce any outputs. It does not make any decisions or handle any errors. It does not call any other paragraphs or programs.",
      "called_by": [],
      "calls": [],
      "citation": [
        434,
        437
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5000-PROCESS-AUTH",
      "summary": null,
      "purpose": "This paragraph is the main processing logic for authorization requests. It starts by setting APPROVE-AUTH to TRUE. It then performs 1200-SCHEDULE-PSB. It sets CARD-FOUND-XREF and FOUND-ACCT-IN-MSTR to TRUE. It then performs 5100-READ-XREF-RECORD to read the card cross-reference record. If the card is found in the cross-reference file (CARD-FOUND-XREF), it performs 5200-READ-ACCT-RECORD, 5300-READ-CUST-RECORD, 5500-READ-AUTH-SUMMRY, and 5600-READ-PROFILE-DATA. After reading the records, it performs 6000-MAKE-DECISION to determine whether to approve or decline the authorization. It then performs 7100-SEND-RESPONSE to send the response. Finally, if the card was found in the cross-reference file, it performs 8000-WRITE-AUTH-TO-DB to write the authorization data to the database. This paragraph orchestrates the entire authorization process, reading data from various sources, making a decision, sending a response, and writing data to the database. The inputs are PA-RQ-CARD-NUM, and the outputs are the authorization decision and the data written to the database. It calls several other paragraphs to perform specific tasks.",
      "called_by": [],
      "calls": [
        "1200-SCHEDULE-PSB",
        "5100-READ-XREF-RECORD",
        "5200-READ-ACCT-RECORD",
        "5300-READ-CUST-RECORD",
        "5500-READ-AUTH-SUMMRY",
        "5600-READ-PROFILE-DATA",
        "6000-MAKE-DECISION",
        "7100-SEND-RESPONSE",
        "8000-WRITE-AUTH-TO-DB"
      ],
      "citation": [
        438,
        467
      ],
      "outgoing_calls": [
        {
          "target": "1200-SCHEDULE-PSB",
          "call_type": "performs",
          "line": 443
        },
        {
          "target": "5100-READ-XREF-RECORD",
          "call_type": "performs",
          "line": 448
        },
        {
          "target": "5200-READ-ACCT-RECORD",
          "call_type": "performs",
          "line": 451
        },
        {
          "target": "5300-READ-CUST-RECORD",
          "call_type": "performs",
          "line": 452
        },
        {
          "target": "5500-READ-AUTH-SUMMRY",
          "call_type": "performs",
          "line": 454
        },
        {
          "target": "5600-READ-PROFILE-DATA",
          "call_type": "performs",
          "line": 456
        },
        {
          "target": "6000-MAKE-DECISION",
          "call_type": "performs",
          "line": 459
        },
        {
          "target": "7100-SEND-RESPONSE",
          "call_type": "performs",
          "line": 461
        },
        {
          "target": "8000-WRITE-AUTH-TO-DB",
          "call_type": "performs",
          "line": 464
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 330,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5000-EXIT",
      "summary": null,
      "purpose": "This paragraph simply exits the 5000-PROCESS-AUTH paragraph. It serves as a standard exit point and does not perform any specific logic or data manipulation. It does not consume any inputs or produce any outputs. It does not make any decisions or handle any errors. It does not call any other paragraphs or programs.",
      "called_by": [],
      "calls": [],
      "citation": [
        468,
        471
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5100-READ-XREF-RECORD",
      "summary": null,
      "purpose": "This paragraph reads the card cross-reference record from the WS-CCXREF-FILE. It moves the card number (PA-RQ-CARD-NUM) to the XREF-CARD-NUM field. It then executes a CICS READ command to read the CARD-XREF-RECORD from the WS-CCXREF-FILE using the XREF-CARD-NUM as the RIDFLD. It evaluates the CICS response code (WS-RESP-CD). If the response is DFHRESP(NORMAL), it sets CARD-FOUND-XREF to TRUE. If the response is DFHRESP(NOTFND), it sets CARD-NFOUND-XREF and NFOUND-ACCT-IN-MSTR to TRUE and logs a warning message using 9500-LOG-ERROR. If the response is OTHER, it logs a critical error message using 9500-LOG-ERROR. The input is PA-RQ-CARD-NUM, and the output is the CARD-XREF-RECORD. It calls 9500-LOG-ERROR in case of errors.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR",
        "9500-LOG-ERROR"
      ],
      "citation": [
        472,
        515
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 500
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 512
        },
        {
          "target": "WS-CCXREF-FILE",
          "call_type": "reads",
          "line": 477
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 448,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5100-EXIT",
      "summary": null,
      "purpose": "This paragraph simply exits the 5100-READ-XREF-RECORD paragraph. It serves as a standard exit point and does not perform any specific logic or data manipulation. It does not consume any inputs or produce any outputs. It does not make any decisions or handle any errors. It does not call any other paragraphs or programs.",
      "called_by": [],
      "calls": [],
      "citation": [
        516,
        519
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5200-READ-ACCT-RECORD",
      "summary": null,
      "purpose": "This paragraph reads the account record from the WS-ACCTFILENAME. It moves the account ID (XREF-ACCT-ID) to WS-CARD-RID-ACCT-ID. It then executes a CICS READ command to read the ACCOUNT-RECORD from the WS-ACCTFILENAME using WS-CARD-RID-ACCT-ID-X as the RIDFLD. It evaluates the CICS response code (WS-RESP-CD). If the response is DFHRESP(NORMAL), it sets FOUND-ACCT-IN-MSTR to TRUE. If the response is DFHRESP(NOTFND), it sets NFOUND-ACCT-IN-MSTR to TRUE and logs a warning message using 9500-LOG-ERROR. If the response is OTHER, it logs a critical error message using 9500-LOG-ERROR. The input is XREF-ACCT-ID, and the output is the ACCOUNT-RECORD. It calls 9500-LOG-ERROR in case of errors.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR",
        "9500-LOG-ERROR"
      ],
      "citation": [
        520,
        563
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 547
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 560
        },
        {
          "target": "WS-ACCTFILENAME",
          "call_type": "reads",
          "line": 525
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 451,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5200-EXIT",
      "summary": null,
      "purpose": "This paragraph simply exits the 5200-READ-ACCT-RECORD paragraph. It serves as a standard exit point and does not perform any specific logic or data manipulation. It does not consume any inputs or produce any outputs. It does not make any decisions or handle any errors. It does not call any other paragraphs or programs.",
      "called_by": [],
      "calls": [],
      "citation": [
        564,
        567
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5300-READ-CUST-RECORD",
      "summary": null,
      "purpose": "This paragraph reads the customer record from the VSAM file specified by WS-CUSTFILENAME. It first moves the XREF-CUST-ID to WS-CARD-RID-CUST-ID for use as the record ID. It then executes a CICS READ command to retrieve the CUSTOMER-RECORD. The CICS response code (WS-RESP-CD) is evaluated to determine if the read was successful. If the record is found (NORMAL), FOUND-CUST-IN-MSTR is set to TRUE. If the record is not found (NOTFND), NFOUND-CUST-IN-MSTR is set to TRUE, an error message is constructed, and 9500-LOG-ERROR is performed. If any other error occurs, an error message with the CICS response codes is constructed, and 9500-LOG-ERROR is performed. The paragraph consumes XREF-CUST-ID and produces CUSTOMER-RECORD. It calls 9500-LOG-ERROR in case of errors.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        1,
        43
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 595
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 608
        },
        {
          "target": "WS-CUSTFILENAME",
          "call_type": "reads",
          "line": 573
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 452,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5300-EXIT",
      "summary": null,
      "purpose": "This paragraph simply contains the EXIT statement, providing a standard exit point for the 5300-READ-CUST-RECORD paragraph. It does not consume any inputs or produce any outputs. It serves as a return point after the customer record is read and processed. No business logic or error handling is performed here. It is called by 5300-READ-CUST-RECORD after the CICS READ command and subsequent error handling.",
      "called_by": [],
      "calls": [],
      "citation": [
        45,
        46
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5500-READ-AUTH-SUMMRY",
      "summary": null,
      "purpose": "This paragraph reads the pending authorization summary from the IMS database. It moves the XREF-ACCT-ID to PA-ACCT-ID and then executes a DLI GU (Get Unique) command to retrieve the PAUTSUM0 segment into PENDING-AUTH-SUMMARY. The IMS return code (DIBSTAT) is moved to IMS-RETURN-CODE and evaluated. If the status is OK, FOUND-PAUT-SMRY-SEG is set to TRUE. If the segment is not found, NFOUND-PAUT-SMRY-SEG is set to TRUE. If any other error occurs, an error message is constructed, and 9500-LOG-ERROR is performed. This paragraph consumes XREF-ACCT-ID and produces PENDING-AUTH-SUMMARY. It calls 9500-LOG-ERROR in case of errors.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        48,
        73
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 639
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 454,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5500-EXIT",
      "summary": null,
      "purpose": "This paragraph simply contains the EXIT statement, providing a standard exit point for the 5500-READ-AUTH-SUMMRY paragraph. It does not consume any inputs or produce any outputs. It serves as a return point after the pending authorization summary is read and processed. No business logic or error handling is performed here. It is called by 5500-READ-AUTH-SUMMRY after the IMS READ command and subsequent error handling.",
      "called_by": [],
      "calls": [],
      "citation": [
        75,
        76
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5600-READ-PROFILE-DATA",
      "summary": null,
      "purpose": "This paragraph currently contains only a CONTINUE statement, indicating that it does not perform any actions. It is likely a placeholder for future functionality to read profile data. It does not consume any inputs or produce any outputs. No business logic or error handling is performed here. It does not call any other paragraphs or programs.",
      "called_by": [],
      "calls": [],
      "citation": [
        78,
        82
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 456,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5600-EXIT",
      "summary": null,
      "purpose": "This paragraph simply contains the EXIT statement, providing a standard exit point for the 5600-READ-PROFILE-DATA paragraph. It does not consume any inputs or produce any outputs. It serves as a return point after the profile data is (or would be) read and processed. No business logic or error handling is performed here. It is called by 5600-READ-PROFILE-DATA.",
      "called_by": [],
      "calls": [],
      "citation": [
        84,
        85
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "6000-MAKE-DECISION",
      "summary": null,
      "purpose": "This paragraph makes the authorization decision based on available credit. It moves data from request fields (PA-RQ-*) to response fields (PA-RL-*). If a pending authorization summary is found (FOUND-PAUT-SMRY-SEG), it calculates available credit using PA-CREDIT-LIMIT and PA-CREDIT-BALANCE. Otherwise, if an account is found in the account master (FOUND-ACCT-IN-MSTR), it calculates available credit using ACCT-CREDIT-LIMIT and ACCT-CURR-BAL. If neither is found, the authorization is declined. If the transaction amount exceeds the available credit, the authorization is declined (DECLINE-AUTH is set to TRUE). If the authorization is declined, PA-RL-AUTH-RESP-CODE is set to '05', and PA-RL-APPROVED-AMT is set to 0. Otherwise, PA-RL-AUTH-RESP-CODE is set to '00', and PA-RL-APPROVED-AMT is set to the transaction amount. Finally, PA-RL-AUTH-RESP-REASON is set based on various conditions like card not found, insufficient funds, etc. The paragraph consumes PA-RQ-* fields, PENDING-AUTH-SUMMARY, and ACCT-MASTER. It produces PA-RL-* fields and WS-APPROVED-AMT. It does not call any other paragraphs.",
      "called_by": [],
      "calls": [],
      "citation": [
        87,
        162
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 459,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "6000-EXIT",
      "summary": null,
      "purpose": "This paragraph simply contains the EXIT statement, providing a standard exit point for the 6000-MAKE-DECISION paragraph. It does not consume any inputs or produce any outputs. It serves as a return point after the authorization decision is made. No business logic or error handling is performed here. It is called by 6000-MAKE-DECISION after the authorization logic is complete.",
      "called_by": [],
      "calls": [],
      "citation": [
        164,
        165
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "7100-SEND-RESPONSE",
      "summary": null,
      "purpose": "This paragraph sends the authorization response to a reply queue using MQSeries. It sets the MQSeries message descriptor (MQM-MD-REPLY) fields, including message type, correlation ID, message ID, reply-to queue, persistence, expiry, and format. It then calls MQPUT1 to put the message on the reply queue specified by WS-REPLY-QNAME. If the MQPUT1 call fails, an error message is constructed, and 9500-LOG-ERROR is performed. The paragraph consumes WS-REPLY-QNAME, WS-SAVE-CORRELID, and W02-PUT-BUFFER. It produces the MQSeries message on the reply queue. It calls MQPUT1 and 9500-LOG-ERROR.",
      "called_by": [],
      "calls": [
        "MQPUT1",
        "9500-LOG-ERROR"
      ],
      "citation": [
        167,
        209
      ],
      "outgoing_calls": [
        {
          "target": "MQPUT1",
          "call_type": "calls",
          "line": 758
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 778
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 461,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "7100-EXIT",
      "summary": null,
      "purpose": "This paragraph simply contains the EXIT statement, providing a standard exit point for the 7100-SEND-RESPONSE paragraph. It does not consume any inputs or produce any outputs. It serves as a return point after the authorization response is sent. No business logic or error handling is performed here. It is called by 7100-SEND-RESPONSE after the MQPUT1 call and subsequent error handling.",
      "called_by": [],
      "calls": [],
      "citation": [
        211,
        212
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8000-WRITE-AUTH-TO-DB",
      "summary": null,
      "purpose": "This paragraph is the main driver for writing authorization data to the database. It orchestrates the update of the authorization summary and the insertion of authorization details. It does not directly consume any input data but relies on data prepared by calling programs. It calls 8400-UPDATE-SUMMARY to update the summary record in the IMS database and 8500-INSERT-AUTH to insert the detailed authorization record. There is no explicit business logic or error handling within this paragraph itself; it relies on the called paragraphs to handle those aspects. After the two PERFORM statements, control falls through to the next paragraph. The primary purpose is to sequence the two database operations.",
      "called_by": [],
      "calls": [
        "8400-UPDATE-SUMMARY",
        "8500-INSERT-AUTH"
      ],
      "citation": [
        1,
        7
      ],
      "outgoing_calls": [
        {
          "target": "8400-UPDATE-SUMMARY",
          "call_type": "performs",
          "line": 790
        },
        {
          "target": "8500-INSERT-AUTH",
          "call_type": "performs",
          "line": 791
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 464,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 8000-WRITE-AUTH-TO-DB paragraph. Its sole purpose is to provide a common exit point, ensuring proper control flow when 8000-WRITE-AUTH-TO-DB is performed using a THRU clause. It does not perform any data manipulation, business logic, or error handling. It simply contains the EXIT statement, which returns control to the calling paragraph. This paragraph does not consume any inputs or produce any outputs. It is a standard practice in COBOL to use EXIT paragraphs to define the end of a performed section.",
      "called_by": [],
      "calls": [],
      "citation": [
        9,
        10
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8400-UPDATE-SUMMARY",
      "summary": null,
      "purpose": "This paragraph updates the pending authorization summary in the IMS database. It first checks if a summary segment already exists (NFOUND-PAUT-SMRY-SEG). If not, it initializes the PENDING-AUTH-SUMMARY record with zeros and moves the account and customer IDs (XREF-ACCT-ID, XREF-CUST-ID) into the summary record. It then moves the account credit limits (ACCT-CREDIT-LIMIT, ACCT-CASH-CREDIT-LIMIT) into the summary record. Based on whether the authorization was approved (AUTH-RESP-APPROVED), it increments the approved or declined authorization counts and amounts in the summary record. It then attempts to either replace (if the segment exists) or insert (if it doesn't) the PAUTSUM0 segment in the IMS database using EXEC DLI REPL or ISRT. If the IMS operation fails (STATUS-OK is false), it logs an error using 9500-LOG-ERROR, including the IMS return code and a descriptive message. The paragraph consumes input data such as account IDs, credit limits, and authorization response flags, and updates the PENDING-AUTH-SUMMARY record before writing it to the IMS database.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        12,
        62
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 846
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8000-WRITE-AUTH-TO-DB",
          "line": 790,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8400-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 8400-UPDATE-SUMMARY paragraph. Its sole purpose is to provide a common exit point, ensuring proper control flow when 8400-UPDATE-SUMMARY is performed using a THRU clause. It does not perform any data manipulation, business logic, or error handling. It simply contains the EXIT statement, which returns control to the calling paragraph. This paragraph does not consume any inputs or produce any outputs. It is a standard practice in COBOL to use EXIT paragraphs to define the end of a performed section.",
      "called_by": [],
      "calls": [],
      "citation": [
        64,
        65
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8500-INSERT-AUTH",
      "summary": null,
      "purpose": "This paragraph inserts a detailed authorization record into the IMS database. It first retrieves the current date and time using CICS ASKTIME and FORMATTIME commands, storing the values in WS-CUR-DATE-X6, WS-CUR-TIME-X6, and WS-CUR-TIME-MS. It then performs calculations to derive PA-AUTH-DATE-9C and PA-AUTH-TIME-9C. It moves various fields from the authorization request (PA-RQ-*) and response (PA-RL-*) into the PENDING-AUTH-DETAILS record. Based on whether the authorization was approved (AUTH-RESP-APPROVED), it sets either PA-MATCH-PENDING or PA-MATCH-AUTH-DECLINED to TRUE. It then inserts the PAUTDTL1 segment into the IMS database using EXEC DLI ISRT. If the IMS operation fails (STATUS-OK is false), it logs an error using 9500-LOG-ERROR, including the IMS return code and a descriptive message. The paragraph consumes input data from the authorization request and response, as well as the current date and time, and writes a detailed authorization record to the IMS database.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        67,
        146
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 931
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8000-WRITE-AUTH-TO-DB",
          "line": 791,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8500-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 8500-INSERT-AUTH paragraph. Its sole purpose is to provide a common exit point, ensuring proper control flow when 8500-INSERT-AUTH is performed using a THRU clause. It does not perform any data manipulation, business logic, or error handling. It simply contains the EXIT statement, which returns control to the calling paragraph. This paragraph does not consume any inputs or produce any outputs. It is a standard practice in COBOL to use EXIT paragraphs to define the end of a performed section.",
      "called_by": [],
      "calls": [],
      "citation": [
        148,
        149
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9000-TERMINATE",
      "summary": null,
      "purpose": "This paragraph handles the termination logic of the program. It first checks if the IMS PSB is scheduled (IMS-PSB-SCHD). If so, it terminates the IMS PSB using EXEC DLI TERM. It then performs 9100-CLOSE-REQUEST-QUEUE to close the request MQ queue. This paragraph consumes the IMS-PSB-SCHD flag as input. The primary purpose is to ensure proper cleanup and resource release before the program ends. It calls 9100-CLOSE-REQUEST-QUEUE to handle the MQ queue closure.",
      "called_by": [],
      "calls": [
        "9100-CLOSE-REQUEST-QUEUE"
      ],
      "citation": [
        151,
        159
      ],
      "outgoing_calls": [
        {
          "target": "9100-CLOSE-REQUEST-QUEUE",
          "call_type": "performs",
          "line": 947
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "MAIN-PARA",
          "line": 224,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9990-END-ROUTINE",
          "line": 1019,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 9000-TERMINATE paragraph. Its sole purpose is to provide a common exit point, ensuring proper control flow when 9000-TERMINATE is performed using a THRU clause. It does not perform any data manipulation, business logic, or error handling. It simply contains the EXIT statement, which returns control to the calling paragraph. This paragraph does not consume any inputs or produce any outputs. It is a standard practice in COBOL to use EXIT paragraphs to define the end of a performed section.",
      "called_by": [],
      "calls": [],
      "citation": [
        161,
        162
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9100-CLOSE-REQUEST-QUEUE",
      "summary": null,
      "purpose": "This paragraph closes the request MQ queue. It first checks if the request MQ queue is open (WS-REQUEST-MQ-OPEN). If so, it calls the MQCLOSE program to close the queue, passing the connection handle (W01-HCONN-REQUEST), object handle (W01-HOBJ-REQUEST), and other MQ parameters. After the MQCLOSE call, it checks the completion code (WS-COMPCODE). If the closure was successful (WS-COMPCODE = MQCC-OK), it sets WS-REQUEST-MQ-CLSE to TRUE. Otherwise, it logs an error using 9500-LOG-ERROR, including the completion code, reason code, and a descriptive message. The paragraph consumes the WS-REQUEST-MQ-OPEN flag, the MQ connection and object handles, and produces the WS-REQUEST-MQ-CLSE flag. The primary purpose is to ensure that the MQ queue is properly closed to release resources and prevent potential issues.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        164,
        188
      ],
      "outgoing_calls": [
        {
          "target": "MQCLOSE",
          "call_type": "calls",
          "line": 956
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 975
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9000-TERMINATE",
          "line": 947,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9100-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 9100-CLOSE-REQUEST-QUEUE paragraph. Its sole purpose is to provide a common exit point, ensuring proper control flow when 9100-CLOSE-REQUEST-QUEUE is performed using a THRU clause. It does not perform any data manipulation, business logic, or error handling. It simply contains the EXIT statement, which returns control to the calling paragraph. This paragraph does not consume any inputs or produce any outputs. It is a standard practice in COBOL to use EXIT paragraphs to define the end of a performed section.",
      "called_by": [],
      "calls": [],
      "citation": [
        190,
        191
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9500-LOG-ERROR",
      "summary": null,
      "purpose": "This paragraph logs error information to a CICS temporary data queue named 'CSSL'. It first retrieves the current date and time using CICS ASKTIME and FORMATTIME commands and stores them in WS-CUR-DATE-X6 and WS-CUR-TIME-X6 respectively. It then moves the transaction ID (WS-CICS-TRANID) and program ID (WS-PGM-AUTH) into the ERROR-LOG-RECORD. The current date and time are also moved into the ERROR-LOG-RECORD. Finally, it writes the ERROR-LOG-RECORD to the 'CSSL' queue using the CICS WRITEQ TD command. If the error is critical (ERR-CRITICAL), it performs the 9990-END-ROUTINE paragraph to terminate the transaction. The paragraph consumes WS-CICS-TRANID, WS-PGM-AUTH, WS-ABS-TIME, WS-CUR-DATE-X6, WS-CUR-TIME-X6, and ERR-CRITICAL. It outputs the ERROR-LOG-RECORD to the 'CSSL' queue. No specific error handling is performed within this paragraph beyond the CICS NOHANDLE option. It calls 9990-END-ROUTINE if ERR-CRITICAL is true.",
      "called_by": [],
      "calls": [
        "9990-END-ROUTINE"
      ],
      "citation": [
        1,
        29
      ],
      "outgoing_calls": [
        {
          "target": "9990-END-ROUTINE",
          "call_type": "performs",
          "line": 1009
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1100-OPEN-REQUEST-QUEUE",
          "line": 282,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1200-SCHEDULE-PSB",
          "line": 316,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "3100-READ-REQUEST-MQ",
          "line": 429,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5100-READ-XREF-RECORD",
          "line": 500,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5200-READ-ACCT-RECORD",
          "line": 547,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5300-READ-CUST-RECORD",
          "line": 595,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5500-READ-AUTH-SUMMRY",
          "line": 639,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "7100-SEND-RESPONSE",
          "line": 778,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8400-UPDATE-SUMMARY",
          "line": 846,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8500-INSERT-AUTH",
          "line": 931,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9100-CLOSE-REQUEST-QUEUE",
          "line": 975,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9500-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as a simple exit point for the 9500-LOG-ERROR paragraph. It contains only the EXIT statement, which returns control to the calling paragraph. It does not consume any inputs or produce any outputs. No business logic or error handling is performed here. It does not call any other paragraphs or programs. Its primary purpose is to provide a standard exit point.",
      "called_by": [],
      "calls": [],
      "citation": [
        31,
        32
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Paragraph '9500-EXIT' is never PERFORMed or referenced by any other paragraph or program",
      "metadata": null
    },
    {
      "paragraph_name": "9990-END-ROUTINE",
      "summary": null,
      "purpose": "This paragraph performs the necessary steps to terminate the CICS transaction. It first calls the 9000-TERMINATE paragraph to perform any required termination processing. Then, it issues a CICS RETURN command to end the transaction. This paragraph ensures that the program terminates cleanly after an error. It consumes no direct inputs, but relies on the 9000-TERMINATE paragraph to handle any necessary cleanup. It does not directly produce any outputs, but the CICS RETURN command effectively terminates the transaction. No specific business logic is implemented within this paragraph. No error handling is performed here. It calls 9000-TERMINATE and the CICS RETURN command.",
      "called_by": [
        "9500-LOG-ERROR"
      ],
      "calls": [
        "9000-TERMINATE"
      ],
      "citation": [
        34,
        41
      ],
      "outgoing_calls": [
        {
          "target": "9000-TERMINATE",
          "call_type": "performs",
          "line": 1019
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9500-LOG-ERROR",
          "line": 1009,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9990-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as a simple exit point for the 9990-END-ROUTINE paragraph. It contains only the EXIT statement, which returns control to the calling paragraph. It does not consume any inputs or produce any outputs. No business logic or error handling is performed here. It does not call any other paragraphs or programs. Its primary purpose is to provide a standard exit point.",
      "called_by": [],
      "calls": [],
      "citation": [
        43,
        44
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Paragraph '9990-EXIT' is never PERFORMed or referenced by any other paragraph or program",
      "metadata": null
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What is the intended purpose of this empty program?",
      "context": "The program contains no code, so its function is unknown.",
      "suggestion": "Consult the program's documentation or developers to determine its intended use."
    }
  ],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "9500-EXIT",
      "artifact_type": "paragraph",
      "line": 1012,
      "reason": "Paragraph '9500-EXIT' is never PERFORMed or referenced by any other paragraph or program"
    },
    {
      "name": "9990-EXIT",
      "artifact_type": "paragraph",
      "line": 1024,
      "reason": "Paragraph '9990-EXIT' is never PERFORMed or referenced by any other paragraph or program"
    }
  ],
  "call_semantics": [
    {
      "caller": "MAIN-PARA",
      "callee": "1000-INITIALIZE",
      "inputs": [],
      "outputs": [
        "WS-REQUEST-QNAME",
        "WS-TRIGGER-DATA",
        "WS-WAIT-INTERVAL"
      ],
      "purpose": "Initializes the program by retrieving trigger data, setting queue names, and opening the request queue for message processing."
    },
    {
      "caller": "MAIN-PARA",
      "callee": "2000-MAIN-PROCESS",
      "inputs": [
        "WS-REQSTS-PROCESS-LIMIT",
        "WS-MSG-PROCESSED"
      ],
      "outputs": [
        "WS-MSG-PROCESSED"
      ],
      "purpose": "Processes incoming authorization requests in a loop until the limit is reached or no more messages are available."
    },
    {
      "caller": "MAIN-PARA",
      "callee": "9000-TERMINATE",
      "inputs": [],
      "outputs": [],
      "purpose": "Terminates IMS PSB scheduling and closes the request queue during program shutdown."
    },
    {
      "caller": "1000-INITIALIZE",
      "callee": "1100-OPEN-REQUEST-QUEUE",
      "inputs": [
        "WS-REQUEST-QNAME",
        "WS-OPTIONS"
      ],
      "outputs": [
        "WS-COMPCODE",
        "WS-REASON",
        "W01-HOBJ-REQUEST"
      ],
      "purpose": "Opens the request message queue using MQOPEN with shared input options and sets the queue handle for further operations."
    },
    {
      "caller": "1000-INITIALIZE",
      "callee": "3100-READ-REQUEST-MQ",
      "inputs": [
        "WS-WAIT-INTERVAL",
        "W01-HCONN-REQUEST",
        "W01-HOBJ-REQUEST"
      ],
      "outputs": [
        "WS-COMPCODE",
        "WS-REASON",
        "WS-SAVE-CORRELID",
        "WS-REPLY-QNAME",
        "W01-DATALEN"
      ],
      "purpose": "Reads a message from the request queue using MQGET, setting correlation and reply queue information if successful."
    },
    {
      "caller": "1100-OPEN-REQUEST-QUEUE",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-COMPCODE",
        "WS-REASON",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-MQ",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "purpose": "Logs an error message to the CSSL queue when opening the request MQ fails, including timestamp, program context, and error codes."
    },
    {
      "caller": "1200-SCHEDULE-PSB",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-IMS",
        "IMS-RETURN-CODE",
        "ERR-CODE-1",
        "ERR-MESSAGE"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "purpose": "Logs an error message to the CSSL queue when IMS PSB scheduling fails, including timestamp, program context, and error details."
    },
    {
      "caller": "20000-MAIN-PROCESS",
      "callee": "2100-EXTRACT-REQUEST-MSG",
      "inputs": [
        "W01-GET-BUFFER",
        "W01-DATALEN",
        "WS-TRANSACTION-AMT-AN"
      ],
      "outputs": [
        "PA-RQ-AUTH-DATE",
        "PA-RQ-AUTH-TIME",
        "PA-RQ-CARD-NUM",
        "PA-RQ-AUTH-TYPE",
        "PA-RQ-CARD-EXPIRY-DATE",
        "PA-RQ-MESSAGE-TYPE",
        "PA-RQ-MESSAGE-SOURCE",
        "PA-RQ-PROCESSING-CODE",
        "WS-TRANSACTION-AMT-AN",
        "PA-RQ-MERCHANT-CATAGORY-CODE",
        "PA-RQ-ACQR-COUNTRY-CODE",
        "PA-RQ-POS-ENTRY-MODE",
        "PA-RQ-MERCHANT-ID",
        "PA-RQ-MERCHANT-NAME",
        "PA-RQ-MERCHANT-CITY",
        "PA-RQ-MERCHANT-STATE",
        "PA-RQ-MERCHANT-ZIP",
        "PA-RQ-TRANSACTION-ID",
        "PA-RQ-TRANSACTION-AMT",
        "WS-TRANSACTION-AMT"
      ],
      "purpose": "Extracts and parses fields from the incoming request message buffer into individual data items, converting the transaction amount from alphanumeric to numeric format."
    },
    {
      "caller": "2000-MAIN-PROCESS",
      "callee": "5000-PROCESS-AUTH",
      "inputs": [],
      "outputs": [],
      "purpose": "Processes the authorization request by reading cross-reference, account, customer, and profile data, making an approval decision, sending a response, and writing the authorization to the database if applicable."
    },
    {
      "caller": "2000-MAIN-PROCESS",
      "callee": "3100-READ-REQUEST-MQ",
      "inputs": [
        "WS-WAIT-INTERVAL",
        "MQMI-NONE",
        "MQCI-NONE",
        "MQFMT-STRING",
        "W01-HCONN-REQUEST",
        "W01-HOBJ-REQUEST",
        "W01-BUFFLEN",
        "W01-GET-BUFFER"
      ],
      "outputs": [
        "MQGMO-OPTIONS",
        "MQMD-MSGID",
        "MQMD-CORRELID",
        "MQMD-FORMAT",
        "W01-BUFFLEN",
        "W01-DATALEN",
        "WS-COMPCODE",
        "WS-REASON",
        "WS-SAVE-CORRELID",
        "WS-REPLY-QNAME",
        "NO-MORE-MSG-AVAILABLE",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "PA-CARD-NUM",
        "ERR-EVENT-KEY"
      ],
      "purpose": "Reads the next message from the request MQ with wait and conversion options, sets correlation and reply queue info on success, or logs an error and sets end condition on failure."
    },
    {
      "caller": "2000-MAIN-PROCESS",
      "callee": "2100-EXTRACT-REQUEST-MSG",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "3100-READ-REQUEST-MQ",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-COMPCODE",
        "WS-REASON",
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "PA-CARD-NUM",
        "ERR-EVENT-KEY"
      ],
      "outputs": [],
      "purpose": "Logs an error message to the CICS TD queue with timestamp, program context, and error details when reading from the request MQ fails."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "1200-SCHEDULE-PSB",
      "inputs": [
        "PSB-NAME"
      ],
      "outputs": [
        "IMS-RETURN-CODE",
        "IMS-PSB-SCHD"
      ],
      "purpose": "Schedules the IMS PSB for database access and logs an error if the scheduling fails."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5100-READ-XREF-RECORD",
      "inputs": [
        "PA-RQ-CARD-NUM",
        "WS-CCXREF-FILE",
        "WS-RESP-CD",
        "WS-REAS-CD"
      ],
      "outputs": [
        "XREF-CARD-NUM",
        "CARD-FOUND-XREF",
        "CARD-NFOUND-XREF",
        "NFOUND-ACCT-IN-MSTR",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY"
      ],
      "purpose": "Reads the card cross-reference record using the card number and sets status flags or logs warnings/errors based on the result."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5200-READ-ACCT-RECORD",
      "inputs": [
        "XREF-ACCT-ID",
        "WS-ACCTFILENAME",
        "WS-RESP-CD",
        "WS-REAS-CD"
      ],
      "outputs": [
        "WS-CARD-RID-ACCT-ID",
        "WS-CARD-RID-ACCT-ID-X",
        "FOUND-ACCT-IN-MSTR",
        "NFOUND-ACCT-IN-MSTR",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY"
      ],
      "purpose": "Reads the account record using the account ID from the XREF and updates status flags or logs warnings/errors if the account is not found or read fails."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5300-READ-CUST-RECORD",
      "inputs": [
        "XREF-CUST-ID",
        "WS-CUSTFILENAME",
        "WS-RESP-CD",
        "WS-REAS-CD"
      ],
      "outputs": [
        "WS-CARD-RID-CUST-ID",
        "WS-CARD-RID-CUST-ID-X",
        "FOUND-CUST-IN-MSTR",
        "NFOUND-CUST-IN-MSTR",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY"
      ],
      "purpose": "Reads the customer record using the customer ID from the XREF and updates status flags or logs warnings/errors if the customer is not found or read fails."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5500-READ-AUTH-SUMMRY",
      "inputs": [
        "XREF-ACCT-ID",
        "PA-ACCT-ID",
        "DIBSTAT",
        "IMS-RETURN-CODE",
        "PA-CARD-NUM"
      ],
      "outputs": [
        "FOUND-PAUT-SMRY-SEG",
        "NFOUND-PAUT-SMRY-SEG",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-IMS",
        "ERR-CODE-1",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY"
      ],
      "purpose": "Reads the pending authorization summary segment from IMS using the account ID from the XREF record to determine if there is existing authorization data."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5600-READ-PROFILE-DATA",
      "inputs": [],
      "outputs": [],
      "purpose": "Placeholder paragraph with no logic implemented; intended to read customer profile data but currently does nothing."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "6000-MAKE-DECISION",
      "inputs": [
        "FOUND-PAUT-SMRY-SEG",
        "PA-CREDIT-LIMIT",
        "PA-CREDIT-BALANCE",
        "WS-TRANSACTION-AMT",
        "FOUND-ACCT-IN-MSTR",
        "ACCT-CREDIT-LIMIT",
        "ACCT-CURR-BAL",
        "DECLINE-AUTH",
        "CARD-NFOUND-XREF",
        "NFOUND-ACCT-IN-MSTR",
        "NFOUND-CUST-IN-MSTR",
        "INSUFFICIENT-FUND",
        "CARD-NOT-ACTIVE",
        "ACCOUNT-CLOSED",
        "CARD-FRAUD",
        "MERCHANT-FRAUD",
        "PA-RQ-CARD-NUM",
        "PA-RQ-TRANSACTION-ID",
        "PA-RQ-AUTH-TIME",
        "PA-RQ-TRANSACTION-AMT",
        "WS-APPROVED-AMT",
        "WS-APPROVED-AMT-DIS"
      ],
      "outputs": [
        "DECLINE-AUTH",
        "INSUFFICIENT-FUND",
        "AUTH-RESP-DECLINED",
        "AUTH-RESP-APPROVED",
        "PA-RL-CARD-NUM",
        "PA-RL-TRANSACTION-ID",
        "PA-RL-AUTH-ID-CODE",
        "PA-RL-AUTH-RESP-CODE",
        "PA-RL-APPROVED-AMT",
        "WS-APPROVED-AMT",
        "PA-RL-AUTH-RESP-REASON",
        "WS-APPROVED-AMT-DIS",
        "W02-PUT-BUFFER",
        "WS-RESP-LENGTH"
      ],
      "purpose": "Makes an authorization decision based on available credit and account status, sets response codes and amounts, and formats the response message."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "7100-SEND-RESPONSE",
      "inputs": [
        "MQOT-Q",
        "WS-REPLY-QNAME",
        "MQMT-REPLY",
        "WS-SAVE-CORRELID",
        "MQMI-NONE",
        "MQPER-NOT-PERSISTENT",
        "MQFMT-STRING",
        "MQPMO-NO-SYNCPOINT",
        "MQPMO-DEFAULT-CONTEXT",
        "WS-RESP-LENGTH",
        "W02-HCONN-REPLY",
        "MQM-OD-REPLY",
        "MQM-MD-REPLY",
        "MQM-PUT-MESSAGE-OPTIONS",
        "W02-BUFFLEN",
        "W02-PUT-BUFFER"
      ],
      "outputs": [
        "WS-COMPCODE",
        "WS-REASON",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-MQ",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY"
      ],
      "purpose": "Sends the authorization response message to the reply queue using MQPUT1 and logs an error if the message put fails."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "8000-WRITE-AUTH-TO-DB",
      "inputs": [],
      "outputs": [],
      "purpose": "Updates the authorization summary and inserts the new authorization record into the database if the card was found in XREF."
    },
    {
      "caller": "5100-READ-XREF-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "XREF-CARD-NUM",
        "ERR-EVENT-KEY",
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-CRITICAL",
        "WS-RESP-CD",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "WS-REAS-CD",
        "ERR-CODE-2"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "purpose": "Logs an error message with timestamp, application, program, date, time, and event key details to the CSSL queue, and terminates the program if the error is critical."
    },
    {
      "caller": "5100-READ-XREF-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-RESP-CD",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "WS-REAS-CD",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "XREF-CARD-NUM",
        "ERR-EVENT-KEY",
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "purpose": "Logs an error message with timestamp, application, program, date, time, and event key details to the CSSL queue, and terminates the program if the error is critical."
    },
    {
      "caller": "5200-READ-ACCT-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "WS-CARD-RID-ACCT-ID-X",
        "ERR-EVENT-KEY",
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-CRITICAL",
        "WS-RESP-CD",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "WS-REAS-CD",
        "ERR-CODE-2"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "purpose": "Logs an error message with timestamp, application, program, date, time, and event key details to the CSSL queue, and terminates the program if the error is critical."
    },
    {
      "caller": "5200-READ-ACCT-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-RESP-CD",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "WS-REAS-CD",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "WS-CARD-RID-ACCT-ID-X",
        "ERR-EVENT-KEY",
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "purpose": "Logs an error message with timestamp, application, program, date, time, and event key details to the CSSL queue, and terminates the program if the error is critical."
    },
    {
      "caller": "5300-READ-CUST-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "WS-CARD-RID-CUST-ID",
        "ERR-EVENT-KEY",
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-CRITICAL",
        "WS-RESP-CD",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "WS-REAS-CD",
        "ERR-CODE-2"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "purpose": "Logs an error message with timestamp, application, program, date, time, and event key details to the CSSL queue, and terminates the program if the error is critical."
    },
    {
      "caller": "5300-READ-CUST-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-CRITICAL",
        "ERR-CICS"
      ],
      "outputs": [
        "WS-ABS-TIME"
      ],
      "purpose": "Logs an error message with timestamp and system context when customer record is not found or CICS read fails, and terminates the program if the error is critical."
    },
    {
      "caller": "5500-READ-AUTH-SUMMRY",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-IMS",
        "ERR-CODE-1",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY"
      ],
      "outputs": [
        "WS-ABS-TIME"
      ],
      "purpose": "Logs an error message with timestamp and system context when IMS fails to retrieve the pending authorization summary, and terminates the program if the error is critical."
    },
    {
      "caller": "7100-SEND-RESPONSE",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-MQ",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY"
      ],
      "outputs": [
        "WS-ABS-TIME"
      ],
      "purpose": "Logs an error message with timestamp and system context when sending a response to the MQ queue fails, and terminates the program if the error is critical."
    },
    {
      "caller": "8000-WRITE-AUTH-TO-DB",
      "callee": "8400-UPDATE-SUMMARY",
      "inputs": [
        "NFOUND-PAUT-SMRY-SEG",
        "XREF-ACCT-ID",
        "XREF-CUST-ID",
        "ACCT-CREDIT-LIMIT",
        "ACCT-CASH-CREDIT-LIMIT",
        "AUTH-RESP-APPROVED",
        "WS-APPROVED-AMT",
        "PA-TRANSACTION-AMT",
        "FOUND-PAUT-SMRY-SEG"
      ],
      "outputs": [
        "PENDING-AUTH-SUMMARY",
        "IMS-RETURN-CODE"
      ],
      "purpose": "Updates or inserts the pending authorization summary record in IMS based on account and transaction data, and logs an error if the update fails."
    },
    {
      "caller": "8000-WRITE-AUTH-TO-DB",
      "callee": "8500-INSERT-AUTH",
      "inputs": [
        "PA-RQ-AUTH-DATE",
        "PA-RQ-AUTH-TIME",
        "PA-RQ-CARD-NUM",
        "PA-RQ-AUTH-TYPE",
        "PA-RQ-CARD-EXPIRY-DATE",
        "PA-RQ-MESSAGE-TYPE",
        "PA-RQ-MESSAGE-SOURCE",
        "PA-RQ-PROCESSING-CODE",
        "PA-RQ-TRANSACTION-AMT",
        "PA-RQ-MERCHANT-CATAGORY-CODE",
        "PA-RQ-ACQR-COUNTRY-CODE",
        "PA-RQ-POS-ENTRY-MODE",
        "PA-RQ-MERCHANT-ID",
        "PA-RQ-MERCHANT-NAME",
        "PA-RQ-MERCHANT-CITY",
        "PA-RQ-MERCHANT-STATE",
        "PA-RQ-MERCHANT-ZIP",
        "PA-RQ-TRANSACTION-ID",
        "PA-RL-AUTH-ID-CODE",
        "PA-RL-AUTH-RESP-CODE",
        "PA-RL-AUTH-RESP-REASON",
        "PA-RL-APPROVED-AMT",
        "AUTH-RESP-APPROVED",
        "XREF-ACCT-ID"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "WS-CUR-TIME-MS",
        "WS-YYDDD",
        "WS-CUR-TIME-N6",
        "WS-TIME-WITH-MS",
        "PA-AUTH-DATE-9C",
        "PA-AUTH-TIME-9C",
        "PA-AUTH-ORIG-DATE",
        "PA-AUTH-ORIG-TIME",
        "PA-CARD-NUM",
        "PA-AUTH-TYPE",
        "PA-CARD-EXPIRY-DATE",
        "PA-MESSAGE-TYPE",
        "PA-MESSAGE-SOURCE",
        "PA-PROCESSING-CODE",
        "PA-TRANSACTION-AMT",
        "PA-MERCHANT-CATAGORY-CODE",
        "PA-ACQR-COUNTRY-CODE",
        "PA-POS-ENTRY-MODE",
        "PA-MERCHANT-ID",
        "PA-MERCHANT-NAME",
        "PA-MERCHANT-CITY",
        "PA-MERCHANT-STATE",
        "PA-MERCHANT-ZIP",
        "PA-TRANSACTION-ID",
        "PA-AUTH-ID-CODE",
        "PA-AUTH-RESP-CODE",
        "PA-AUTH-RESP-REASON",
        "PA-APPROVED-AMT",
        "PA-MATCH-PENDING",
        "PA-MATCH-AUTH-DECLINED",
        "PA-AUTH-FRAUD",
        "PA-FRAUD-RPT-DATE",
        "PA-ACCT-ID",
        "IMS-RETURN-CODE"
      ],
      "purpose": "Inserts a new pending authorization detail record into IMS with current timestamp and transaction data, and logs an error if the insertion fails."
    },
    {
      "caller": "8400-UPDATE-SUMMARY",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-IMS",
        "IMS-RETURN-CODE",
        "ERR-CODE-1",
        "ERR-MESSAGE",
        "PA-CARD-NUM",
        "ERR-EVENT-KEY"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "purpose": "Logs an error message to the CSSL queue with timestamp and error details when an IMS update fails."
    },
    {
      "caller": "8500-INSERT-AUTH",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-IMS",
        "IMS-RETURN-CODE",
        "ERR-CODE-1",
        "ERR-MESSAGE",
        "PA-CARD-NUM",
        "ERR-EVENT-KEY"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "purpose": "Logs an error message to the CSSL queue with timestamp and error details when an IMS insert operation fails."
    },
    {
      "caller": "9000-TERMINATE",
      "callee": "9100-CLOSE-REQUEST-QUEUE",
      "inputs": [
        "WS-REQUEST-MQ-OPEN"
      ],
      "outputs": [],
      "purpose": "Closes the request MQ if it is currently open before program termination."
    },
    {
      "caller": "9100-CLOSE-REQUEST-QUEUE",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-MQ",
        "WS-COMPCODE",
        "WS-CODE-DISPLAY",
        "WS-REASON",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE"
      ],
      "outputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "purpose": "Logs an error message to the CSSL queue if the request MQ close operation fails."
    },
    {
      "caller": "9500-LOG-ERROR",
      "callee": "9990-END-ROUTINE",
      "inputs": [
        "ERR-CRITICAL"
      ],
      "outputs": [],
      "purpose": "Terminates the program by performing cleanup and issuing a CICS RETURN when a critical error is encountered."
    },
    {
      "caller": "9990-END-ROUTINE",
      "callee": "9000-TERMINATE",
      "inputs": [
        "IMS-PSB-SCHD"
      ],
      "outputs": [],
      "purpose": "Performs termination tasks including IMS termination if scheduled and closing the request queue."
    }
  ],
  "flow_diagram": "flowchart TD\n    %% Title: COPAUA0C.cbl\n    1000_EXIT[\"1000-EXIT\"]\n    1000_INITIALIZE[\"1000-INITIALIZE\"]\n    1100_OPEN_REQUEST_QUEUE[\"1100-OPEN-REQUEST-QUEUE\"]\n    3100_READ_REQUEST_MQ[\"3100-READ-REQUEST-MQ\"]\n    1100_EXIT[\"1100-EXIT\"]\n    9500_LOG_ERROR[\"9500-LOG-ERROR\"]\n    MQOPEN__ext([\"MQOPEN\"])\n    1200_EXIT[\"1200-EXIT\"]\n    1200_SCHEDULE_PSB[\"1200-SCHEDULE-PSB\"]\n    2000_EXIT[\"2000-EXIT\"]\n    2000_MAIN_PROCESS[\"2000-MAIN-PROCESS\"]\n    2100_EXTRACT_REQUEST_MSG[\"2100-EXTRACT-REQUEST-MSG\"]\n    5000_PROCESS_AUTH[\"5000-PROCESS-AUTH\"]\n    2100_EXIT[\"2100-EXIT\"]\n    3100_EXIT[\"3100-EXIT\"]\n    MQGET__ext([\"MQGET\"])\n    5000_EXIT[\"5000-EXIT\"]\n    5100_READ_XREF_RECORD[\"5100-READ-XREF-RECORD\"]\n    5200_READ_ACCT_RECORD[\"5200-READ-ACCT-RECORD\"]\n    5300_READ_CUST_RECORD[\"5300-READ-CUST-RECORD\"]\n    5500_READ_AUTH_SUMMRY[\"5500-READ-AUTH-SUMMRY\"]\n    5600_READ_PROFILE_DATA[\"5600-READ-PROFILE-DATA\"]\n    6000_MAKE_DECISION[\"6000-MAKE-DECISION\"]\n    7100_SEND_RESPONSE[\"7100-SEND-RESPONSE\"]\n    8000_WRITE_AUTH_TO_DB[\"8000-WRITE-AUTH-TO-DB\"]\n    5100_EXIT[\"5100-EXIT\"]\n    WS_CCXREF_FILE__ext[(\"WS-CCXREF-FILE\")]\n    5200_EXIT[\"5200-EXIT\"]\n    WS_ACCTFILENAME__ext[(\"WS-ACCTFILENAME\")]\n    5300_EXIT[\"5300-EXIT\"]\n    WS_CUSTFILENAME__ext[(\"WS-CUSTFILENAME\")]\n    5500_EXIT[\"5500-EXIT\"]\n    5600_EXIT[\"5600-EXIT\"]\n    6000_EXIT[\"6000-EXIT\"]\n    7100_EXIT[\"7100-EXIT\"]\n    MQPUT1__ext([\"MQPUT1\"])\n    8000_EXIT[\"8000-EXIT\"]\n    8400_UPDATE_SUMMARY[\"8400-UPDATE-SUMMARY\"]\n    8500_INSERT_AUTH[\"8500-INSERT-AUTH\"]\n    8400_EXIT[\"8400-EXIT\"]\n    8500_EXIT[\"8500-EXIT\"]\n    9000_EXIT[\"9000-EXIT\"]\n    9000_TERMINATE[\"9000-TERMINATE\"]\n    9100_CLOSE_REQUEST_QUEUE[\"9100-CLOSE-REQUEST-QUEUE\"]\n    MQCLOSE__ext([\"MQCLOSE\"])\n    9100_EXIT[\"9100-EXIT\"]\n    9500_EXIT[\"9500-EXIT\"]\n    9990_END_ROUTINE[\"9990-END-ROUTINE\"]\n    9990_EXIT[\"9990-EXIT\"]\n    MAIN_PARA[\"MAIN-PARA\"]\n    1000_INITIALIZE --> 1100_OPEN_REQUEST_QUEUE\n    1000_INITIALIZE --> 3100_READ_REQUEST_MQ\n    1100_OPEN_REQUEST_QUEUE --> 9500_LOG_ERROR\n    1100_OPEN_REQUEST_QUEUE -.->|calls| MQOPEN__ext\n    1200_SCHEDULE_PSB --> 9500_LOG_ERROR\n    2000_MAIN_PROCESS --> 2100_EXTRACT_REQUEST_MSG\n    2000_MAIN_PROCESS --> 3100_READ_REQUEST_MQ\n    2000_MAIN_PROCESS --> 5000_PROCESS_AUTH\n    3100_READ_REQUEST_MQ --> 9500_LOG_ERROR\n    3100_READ_REQUEST_MQ -.->|calls| MQGET__ext\n    5000_PROCESS_AUTH --> 1200_SCHEDULE_PSB\n    5000_PROCESS_AUTH --> 5100_READ_XREF_RECORD\n    5000_PROCESS_AUTH --> 5200_READ_ACCT_RECORD\n    5000_PROCESS_AUTH --> 5300_READ_CUST_RECORD\n    5000_PROCESS_AUTH --> 5500_READ_AUTH_SUMMRY\n    5000_PROCESS_AUTH --> 5600_READ_PROFILE_DATA\n    5000_PROCESS_AUTH --> 6000_MAKE_DECISION\n    5000_PROCESS_AUTH --> 7100_SEND_RESPONSE\n    5000_PROCESS_AUTH --> 8000_WRITE_AUTH_TO_DB\n    5100_READ_XREF_RECORD --> 9500_LOG_ERROR\n    5100_READ_XREF_RECORD -.->|reads| WS_CCXREF_FILE__ext\n    5200_READ_ACCT_RECORD --> 9500_LOG_ERROR\n    5200_READ_ACCT_RECORD -.->|reads| WS_ACCTFILENAME__ext\n    5300_READ_CUST_RECORD --> 9500_LOG_ERROR\n    5300_READ_CUST_RECORD -.->|reads| WS_CUSTFILENAME__ext\n    5500_READ_AUTH_SUMMRY --> 9500_LOG_ERROR\n    7100_SEND_RESPONSE --> 9500_LOG_ERROR\n    7100_SEND_RESPONSE -.->|calls| MQPUT1__ext\n    8000_WRITE_AUTH_TO_DB --> 8400_UPDATE_SUMMARY\n    8000_WRITE_AUTH_TO_DB --> 8500_INSERT_AUTH\n    8400_UPDATE_SUMMARY --> 9500_LOG_ERROR\n    8500_INSERT_AUTH --> 9500_LOG_ERROR\n    9000_TERMINATE --> 9100_CLOSE_REQUEST_QUEUE\n    9100_CLOSE_REQUEST_QUEUE --> 9500_LOG_ERROR\n    9100_CLOSE_REQUEST_QUEUE -.->|calls| MQCLOSE__ext\n    9500_LOG_ERROR --> 9990_END_ROUTINE\n    9990_END_ROUTINE --> 9000_TERMINATE\n    MAIN_PARA --> 1000_INITIALIZE\n    MAIN_PARA --> 2000_MAIN_PROCESS\n    MAIN_PARA --> 9000_TERMINATE"
}