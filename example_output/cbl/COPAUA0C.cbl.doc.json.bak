{
  "header": {
    "program_id": "COPAUA0C",
    "file_name": "COPAUA0C.cbl",
    "file_type": "COBOL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-10T17:19:28.909600",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This CICS COBOL program, COPAUA0C, is a card authorization decision program that processes authorization requests, validates card and customer data, makes an authorization decision, and updates the database with the authorization results. It retrieves requests from an MQ queue, processes them, and sends a response.",
    "business_context": "Card authorization process within a financial transaction system.",
    "program_type": "ONLINE_CICS",
    "citations": [
      2,
      22,
      330,
      438
    ]
  },
  "inputs": [
    {
      "name": "MQ Request Queue",
      "io_type": "CICS_QUEUE",
      "description": "Authorization request messages from MQ Series.",
      "copybook": null,
      "citation": [
        233,
        236
      ]
    },
    {
      "name": "CARD-XREF-RECORD",
      "io_type": "FILE_VSAM",
      "description": "Card cross-reference data containing account and customer IDs.",
      "copybook": null,
      "citation": [
        477,
        485
      ]
    },
    {
      "name": "ACCOUNT-RECORD",
      "io_type": "FILE_VSAM",
      "description": "Account details for the card.",
      "copybook": null,
      "citation": [
        525,
        533
      ]
    },
    {
      "name": "CUSTOMER-RECORD",
      "io_type": "FILE_VSAM",
      "description": "Customer information associated with the account.",
      "copybook": "CVCUS01Y",
      "citation": [
        573,
        581,
        209
      ]
    },
    {
      "name": "PENDING-AUTH-SUMMARY",
      "io_type": "IMS_SEGMENT",
      "description": "Summary of pending authorizations for the account.",
      "copybook": null,
      "citation": [
        621,
        623
      ]
    },
    {
      "name": "DFHCOMMAREA",
      "io_type": "CICS_COMMAREA",
      "description": "CICS Commarea for passing data between programs.",
      "copybook": null,
      "citation": [
        214,
        215
      ]
    }
  ],
  "outputs": [
    {
      "name": "MQ Reply Queue",
      "io_type": "CICS_QUEUE",
      "description": "Authorization response messages sent back to the requestor.",
      "copybook": null,
      "citation": [
        763,
        770
      ]
    },
    {
      "name": "PAUTSUM0",
      "io_type": "IMS_SEGMENT",
      "description": "Updated pending authorization summary in IMS database.",
      "copybook": null,
      "citation": [
        811,
        819
      ]
    },
    {
      "name": "PAUTTRAN",
      "io_type": "IMS_SEGMENT",
      "description": "New authorization transaction record in IMS database.",
      "copybook": null,
      "citation": [
        854,
        862
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [
      "CP00"
    ],
    "linkage_section": [
      "DFHCOMMAREA"
    ]
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "If the card is not found in the cross-reference file, decline the authorization.",
      "logic_summary": "Checks WS-RESP-CD after reading CARD-XREF-RECORD. If DFHRESP(NOTFND), sets CARD-NFOUND-XREF to TRUE and declines authorization.",
      "conditions": [
        "WS-RESP-CD = DFHRESP(NOTFND)"
      ],
      "citation": [
        467,
        491
      ]
    },
    {
      "rule_id": "BR002",
      "description": "If the number of processed messages exceeds the limit, the program stops processing.",
      "logic_summary": "Checks if WS-MSG-PROCESSED > WS-REQSTS-PROCESS-LIMIT. If true, sets WS-LOOP-END to TRUE, terminating the main processing loop.",
      "conditions": [
        "WS-MSG-PROCESSED > WS-REQSTS-PROCESS-LIMIT"
      ],
      "citation": [
        339,
        340
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "MQ Request Queue",
        "fields_used": [
          "MQTM-QNAME",
          "MQTM-TRIGGERDATA"
        ],
        "citation": [
          233,
          236,
          237,
          239
        ]
      },
      {
        "source": "CARD-XREF-RECORD",
        "fields_used": [
          "XREF-ACCT-ID",
          "XREF-CUST-ID"
        ],
        "citation": [
          523,
          571
        ]
      },
      {
        "source": "ACCOUNT-RECORD",
        "fields_used": [
          "ACCOUNT-FIELDS"
        ],
        "citation": [
          525,
          533
        ]
      },
      {
        "source": "CUSTOMER-RECORD",
        "fields_used": [
          "CUSTOMER-FIELDS"
        ],
        "citation": [
          573,
          581
        ]
      },
      {
        "source": "PENDING-AUTH-SUMMARY",
        "fields_used": [
          "ACCNTID"
        ],
        "citation": [
          621,
          623
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "MQ Reply Queue",
        "fields_written": [
          "PA-RL-AUTH-RESP-CODE",
          "PA-RL-CARD-NUM",
          "PA-RL-TRANSACTION-ID"
        ],
        "citation": [
          763,
          770,
          898,
          660,
          661
        ]
      },
      {
        "destination": "PAUTSUM0",
        "fields_written": [
          "PAUTSUM0-FIELDS"
        ],
        "citation": [
          811,
          819
        ]
      },
      {
        "destination": "PAUTTRAN",
        "fields_written": [
          "PAUTTRAN-FIELDS"
        ],
        "citation": [
          854,
          862
        ]
      }
    ],
    "transforms": [
      {
        "input_field": "WS-TRANSACTION-AMT-AN",
        "output_field": "PA-RQ-TRANSACTION-AMT",
        "transformation_description": "Converts alphanumeric transaction amount to numeric.",
        "citation": [
          376,
          377
        ]
      },
      {
        "input_field": "WS-CUR-TIME-N6",
        "output_field": "WS-TIME-WITH-MS",
        "transformation_description": "Calculates the time with milliseconds.",
        "citation": [
          871,
          872
        ]
      },
      {
        "input_field": "WS-YYDDD",
        "output_field": "PA-AUTH-DATE-9C",
        "transformation_description": "Calculates the auth date.",
        "citation": [
          874
        ]
      },
      {
        "input_field": "WS-TIME-WITH-MS",
        "output_field": "PA-AUTH-TIME-9C",
        "transformation_description": "Calculates the auth time.",
        "citation": [
          875
        ]
      }
    ]
  },
  "copybooks_used": [
    {
      "copybook_name": "CVCUS01Y",
      "purpose": "Defines the layout for the customer record.",
      "location": "LINKAGE",
      "citation": 209
    }
  ],
  "paragraphs": [
    {
      "paragraph_name": "MAIN-PARA",
      "summary": null,
      "purpose": "This is the main control paragraph of the COPAUA0C program. It orchestrates the entire authorization process by calling other paragraphs in sequence. First, it performs 1000-INITIALIZE to retrieve the MQ trigger monitor message and open the request queue. Then, it calls 2000-MAIN-PROCESS to handle the actual authorization logic, which includes extracting the request message, processing the authorization, and sending the response. Finally, it performs 9000-TERMINATE to close any open resources and return control to CICS. The paragraph does not directly handle any business logic or data manipulation but acts as the central coordinator for the program's execution flow. It ensures that the necessary initialization, processing, and termination steps are executed in the correct order. After termination, the program returns to CICS.",
      "called_by": [],
      "calls": [
        "1000-INITIALIZE",
        "2000-MAIN-PROCESS",
        "9000-TERMINATE"
      ],
      "citation": [
        220,
        227
      ],
      "outgoing_calls": [
        {
          "target": "1000-INITIALIZE",
          "call_type": "performs",
          "line": 222
        },
        {
          "target": "2000-MAIN-PROCESS",
          "call_type": "performs",
          "line": 223
        },
        {
          "target": "9000-TERMINATE",
          "call_type": "performs",
          "line": 224
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-INITIALIZE",
      "summary": null,
      "purpose": "This paragraph initializes the program by retrieving the MQ trigger monitor message, opening the request queue, and reading the first request message. It starts by retrieving the MQ trigger monitor message using EXEC CICS RETRIEVE, storing the queue name and trigger data in working storage (WS-REQUEST-QNAME, WS-TRIGGER-DATA). If the retrieval is successful (EIBRESP = DFHRESP(NORMAL)), it moves the retrieved data to the corresponding working storage variables. It then sets the wait interval for MQ operations to 5000. Next, it performs 1100-OPEN-REQUEST-QUEUE to open the MQ request queue for processing. Finally, it performs 3100-READ-REQUEST-MQ to read the first authorization request message from the queue. This paragraph sets up the program for subsequent processing by ensuring that the necessary resources are available and the initial data is loaded. No error handling is explicitly performed in this paragraph, but the EXEC CICS RETRIEVE command includes the NOHANDLE option, which suppresses CICS abends.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "1100-OPEN-REQUEST-QUEUE",
        "3100-READ-REQUEST-MQ"
      ],
      "citation": [
        230,
        251
      ],
      "outgoing_calls": [
        {
          "target": "1100-OPEN-REQUEST-QUEUE",
          "call_type": "performs",
          "line": 244
        },
        {
          "target": "3100-READ-REQUEST-MQ",
          "call_type": "performs",
          "line": 246
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-MAIN-PROCESS",
      "summary": null,
      "purpose": "This paragraph is the core processing loop of the program, handling the authorization requests until a termination condition is met. It repeatedly performs a series of operations for each message available in the request queue. The loop continues until either NO-MORE-MSG-AVAILABLE is true or WS-LOOP-END is true. Inside the loop, it first performs 2100-EXTRACT-REQUEST-MSG to extract the request message from the buffer. Then, it performs 5000-PROCESS-AUTH to process the authorization request and make a decision. After processing, it increments the WS-MSG-PROCESSED counter and issues a CICS SYNCPOINT to commit the changes. IMS PSB is set to NOT SCHD. It then checks if the number of processed messages (WS-MSG-PROCESSED) exceeds the limit (WS-REQSTS-PROCESS-LIMIT). If the limit is reached, it sets WS-LOOP-END to TRUE, terminating the loop. Otherwise, it performs 3100-READ-REQUEST-MQ to read the next request message from the queue. This paragraph manages the overall flow of authorization processing, ensuring that each request is handled and the system remains synchronized. Error handling is implicit through the PERFORM THRU constructs, which would propagate control to error handling routines if any of the called paragraphs encounter an error.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "2100-EXTRACT-REQUEST-MSG",
        "5000-PROCESS-AUTH",
        "3100-READ-REQUEST-MQ"
      ],
      "citation": [
        323,
        345
      ],
      "outgoing_calls": [
        {
          "target": "2100-EXTRACT-REQUEST-MSG",
          "call_type": "performs",
          "line": 328
        },
        {
          "target": "5000-PROCESS-AUTH",
          "call_type": "performs",
          "line": 330
        },
        {
          "target": "3100-READ-REQUEST-MQ",
          "call_type": "performs",
          "line": 342
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "MAIN-PARA",
          "line": 223,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5000-PROCESS-AUTH",
      "summary": null,
      "purpose": "This paragraph orchestrates the authorization processing for a single card transaction. It begins by setting APPROVE-AUTH to TRUE, assuming the transaction will be approved unless a reason to decline is found. It then performs 1200-SCHEDULE-PSB to schedule the PSB for IMS database access. It sets CARD-FOUND-XREF and FOUND-ACCT-IN-MSTR to TRUE. Next, if CARD-FOUND-XREF is true, it performs 5100-READ-XREF-RECORD to read the card cross-reference record, 5200-READ-ACCT-RECORD to read the account record, 5300-READ-CUST-RECORD to read the customer record, 5500-READ-AUTH-SUMMRY to read the authorization summary, and 5600-READ-PROFILE-DATA to read the profile data. It then performs 6000-MAKE-DECISION to make the authorization decision and 7100-SEND-RESPONSE to send the response. Finally, if CARD-FOUND-XREF is true, it performs 8000-WRITE-AUTH-TO-DB to write the authorization details to the database. This paragraph manages the sequence of steps required to authorize a transaction, including data retrieval, decision making, and database updates. Error handling is performed within the subordinate paragraphs, and the overall flow is controlled by conditional PERFORM statements based on the CARD-FOUND-XREF flag.",
      "called_by": [
        "2000-MAIN-PROCESS"
      ],
      "calls": [
        "1200-SCHEDULE-PSB",
        "5100-READ-XREF-RECORD",
        "5200-READ-ACCT-RECORD",
        "5300-READ-CUST-RECORD",
        "5500-READ-AUTH-SUMMRY",
        "5600-READ-PROFILE-DATA",
        "6000-MAKE-DECISION",
        "7100-SEND-RESPONSE",
        "8000-WRITE-AUTH-TO-DB"
      ],
      "citation": [
        438,
        466
      ],
      "outgoing_calls": [
        {
          "target": "1200-SCHEDULE-PSB",
          "call_type": "performs",
          "line": 443
        },
        {
          "target": "5100-READ-XREF-RECORD",
          "call_type": "performs",
          "line": 448
        },
        {
          "target": "5200-READ-ACCT-RECORD",
          "call_type": "performs",
          "line": 451
        },
        {
          "target": "5300-READ-CUST-RECORD",
          "call_type": "performs",
          "line": 452
        },
        {
          "target": "5500-READ-AUTH-SUMMRY",
          "call_type": "performs",
          "line": 454
        },
        {
          "target": "5600-READ-PROFILE-DATA",
          "call_type": "performs",
          "line": 456
        },
        {
          "target": "6000-MAKE-DECISION",
          "call_type": "performs",
          "line": 459
        },
        {
          "target": "7100-SEND-RESPONSE",
          "call_type": "performs",
          "line": 461
        },
        {
          "target": "8000-WRITE-AUTH-TO-DB",
          "call_type": "performs",
          "line": 464
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 330,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5100-READ-XREF-RECORD",
      "summary": null,
      "purpose": "This paragraph reads the card cross-reference record from the VSAM file WS-CCXREF-FILE. It moves the card number from the request (PA-RQ-CARD-NUM) to the key field (XREF-CARD-NUM). It then executes a CICS READ command to retrieve the CARD-XREF-RECORD from the VSAM file using the key. The RESP and RESP2 options capture the CICS response codes in WS-RESP-CD and WS-REAS-CD, respectively. The paragraph then evaluates the response code. If the read is successful (DFHRESP(NORMAL)), it sets CARD-FOUND-XREF to TRUE. If the record is not found (DFHRESP(NOTFND)), it sets CARD-NFOUND-XREF and NFOUND-ACCT-IN-MSTR to TRUE, logs an error message, and sets error flags. If any other error occurs, it logs a critical error message with the CICS response codes. This paragraph is responsible for retrieving the cross-reference record, which links the card number to the account and customer IDs. Error handling includes logging warning and critical errors based on the CICS response codes. The paragraph does not call any other paragraphs.",
      "called_by": [
        "5000-PROCESS-AUTH"
      ],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        472,
        517
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 500
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 512
        },
        {
          "target": "WS-CCXREF-FILE",
          "call_type": "reads",
          "line": 477
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 448,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5200-READ-ACCT-RECORD",
      "summary": null,
      "purpose": "This paragraph reads the account record from the VSAM file WS-ACCTFILENAME. It moves the account ID from the cross-reference record (XREF-ACCT-ID) to the key field (WS-CARD-RID-ACCT-ID). It then executes a CICS READ command to retrieve the ACCOUNT-RECORD from the VSAM file using the key. The RESP and RESP2 options capture the CICS response codes in WS-RESP-CD and WS-REAS-CD, respectively. The paragraph then evaluates the response code. If the read is successful (DFHRESP(NORMAL)), it sets FOUND-ACCT-IN-MSTR to TRUE. If the record is not found (DFHRESP(NOTFND)), it sets NFOUND-ACCT-IN-MSTR to TRUE and logs an error message. If any other error occurs, it logs a critical error message with the CICS response codes. This paragraph is responsible for retrieving the account record, which contains the account details for the card. Error handling includes logging warning and critical errors based on the CICS response codes. The paragraph does not call any other paragraphs.",
      "called_by": [
        "5000-PROCESS-AUTH"
      ],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        520,
        565
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 547
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 560
        },
        {
          "target": "WS-ACCTFILENAME",
          "call_type": "reads",
          "line": 525
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 451,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5300-READ-CUST-RECORD",
      "summary": null,
      "purpose": "This paragraph reads the customer record from the VSAM file WS-CUSTFILENAME. It moves the customer ID from the cross-reference record (XREF-CUST-ID) to the key field (WS-CARD-RID-CUST-ID). It then executes a CICS READ command to retrieve the CUSTOMER-RECORD from the VSAM file using the key. The RESP and RESP2 options capture the CICS response codes in WS-RESP-CD and WS-REAS-CD, respectively. The paragraph then evaluates the response code. If the read is successful (DFHRESP(NORMAL)), it sets FOUND-CUST-IN-MSTR to TRUE. If the record is not found (DFHRESP(NOTFND)), it sets NFOUND-CUST-IN-MSTR to TRUE and logs an error message. If any other error occurs, it logs a critical error message with the CICS response codes. This paragraph is responsible for retrieving the customer record, which contains the customer details associated with the account. Error handling includes logging warning and critical errors based on the CICS response codes. The paragraph does not call any other paragraphs.",
      "called_by": [
        "5000-PROCESS-AUTH"
      ],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        568,
        613
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 595
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 608
        },
        {
          "target": "WS-CUSTFILENAME",
          "call_type": "reads",
          "line": 573
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 452,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5500-READ-AUTH-SUMMRY",
      "summary": null,
      "purpose": "This paragraph reads the pending authorization summary segment (PAUTSUM0) from the IMS database. It moves the account ID from the cross-reference record (XREF-ACCT-ID) to the PA-ACCT-ID field. It then executes a DLI GU (Get Unique) command to retrieve the PAUTSUM0 segment using the PAUT-PCB-NUM PCB. The WHERE clause specifies that the ACCNTID field in the segment must match PA-ACCT-ID. The DIBSTAT field is moved to IMS-RETURN-CODE to check the status of the IMS call. The paragraph then evaluates the IMS-RETURN-CODE. If the status is OK, it sets FOUND-PAUT-SMRY-SEG to TRUE. If the segment is not found, it sets NFOUND-PAUT-SMRY-SEG to TRUE. If any other error occurs, it logs a critical error message with the IMS return code. This paragraph is responsible for retrieving the pending authorization summary, which is used to make the authorization decision. Error handling includes logging critical errors based on the IMS return code. The paragraph does not call any other paragraphs.",
      "called_by": [
        "5000-PROCESS-AUTH"
      ],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        616,
        645
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 639
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 454,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5600-READ-PROFILE-DATA",
      "summary": null,
      "purpose": "This paragraph is a placeholder and currently contains only a CONTINUE statement. It does not perform any actions. It serves as a stub for future implementation where profile data might be read. Currently, it does not read any data, perform any logic, or call any other paragraphs. It simply allows the program to proceed to the next step in the authorization process without performing any profile data retrieval. This paragraph exists to maintain a consistent program structure and allow for future expansion without requiring significant code changes to the calling paragraph.",
      "called_by": [
        "5000-PROCESS-AUTH"
      ],
      "calls": [],
      "citation": [
        647,
        655
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 456,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "7100-SEND-RESPONSE",
      "summary": null,
      "purpose": "This paragraph sends the authorization response to the MQ reply queue. It moves the card number and transaction ID from the request to the response fields (PA-RQ-CARD-NUM to PA-RL-CARD-NUM, PA-RQ-TRANSACTION-ID to PA-RL-TRANSACTION-ID). It also moves the authorization time to the auth ID code. It then moves the authorization response code (PA-RL-AUTH-RESP-CODE) to the response message buffer (W02-PUT-BUFFER). The paragraph then calculates the length of the response message and moves it to W02-DATALEN. It then executes a series of MQ API calls to put the message on the reply queue. If any MQ API call fails, it logs an error message. This paragraph is responsible for sending the authorization decision back to the requestor. Error handling includes logging errors if any of the MQ API calls fail. The paragraph calls 9500-LOG-ERROR to log error messages.",
      "called_by": [
        "5000-PROCESS-AUTH"
      ],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        714,
        783
      ],
      "outgoing_calls": [
        {
          "target": "MQPUT1",
          "call_type": "calls",
          "line": 758
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 778
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 461,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8000-WRITE-AUTH-TO-DB",
      "summary": null,
      "purpose": "This paragraph coordinates the writing of authorization information to the IMS database. It performs 8400-UPDATE-SUMMARY to update the pending authorization summary segment and 8500-INSERT-AUTH to insert a new authorization transaction segment. This paragraph serves as a high-level control point for database updates related to the authorization process. It ensures that both the summary and transaction records are updated appropriately. The paragraph does not directly handle any data manipulation or database calls but delegates these tasks to the subordinate paragraphs. The success of the database updates is dependent on the proper execution of the called paragraphs. The paragraph does not perform any explicit error handling itself, relying on the error handling within the called paragraphs.",
      "called_by": [
        "5000-PROCESS-AUTH"
      ],
      "calls": [
        "8400-UPDATE-SUMMARY",
        "8500-INSERT-AUTH"
      ],
      "citation": [
        786,
        796
      ],
      "outgoing_calls": [
        {
          "target": "8400-UPDATE-SUMMARY",
          "call_type": "performs",
          "line": 790
        },
        {
          "target": "8500-INSERT-AUTH",
          "call_type": "performs",
          "line": 791
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 464,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "COPAUA0C",
      "summary": null,
      "purpose": "This paragraph is the program identifier. It does not contain any executable code. It serves as the entry point for the program but immediately passes control to other paragraphs for processing. It is the starting point for the program's execution flow, but its primary function is to define the program's name and initiate the subsequent processing steps. It does not directly interact with any data or perform any business logic. The program's execution begins here, but the actual work is delegated to other paragraphs. This paragraph does not handle any error conditions or make any decisions. It simply marks the beginning of the program's execution.",
      "called_by": [],
      "calls": [
        "CMQODV",
        "CMQMDV",
        "CMQODV",
        "CMQMDV",
        "CMQV"
      ],
      "citation": [
        23,
        23
      ],
      "outgoing_calls": [
        {
          "target": "CMQODV",
          "call_type": "includes",
          "line": 149
        },
        {
          "target": "CMQMDV",
          "call_type": "includes",
          "line": 152
        },
        {
          "target": "CMQODV",
          "call_type": "includes",
          "line": 155
        },
        {
          "target": "CMQMDV",
          "call_type": "includes",
          "line": 158
        },
        {
          "target": "CMQV",
          "call_type": "includes",
          "line": 161
        },
        {
          "target": "CMQTML",
          "call_type": "includes",
          "line": 164
        },
        {
          "target": "CMQPMOV",
          "call_type": "includes",
          "line": 167
        },
        {
          "target": "CMQGMOV",
          "call_type": "includes",
          "line": 170
        },
        {
          "target": "CCPAURQY",
          "call_type": "includes",
          "line": 178
        },
        {
          "target": "CCPAURLY",
          "call_type": "includes",
          "line": 182
        },
        {
          "target": "CCPAUERY",
          "call_type": "includes",
          "line": 185
        },
        {
          "target": "CIPAUSMY",
          "call_type": "includes",
          "line": 193
        },
        {
          "target": "CIPAUDTY",
          "call_type": "includes",
          "line": 197
        },
        {
          "target": "CVACT03Y",
          "call_type": "includes",
          "line": 203
        },
        {
          "target": "CVACT01Y",
          "call_type": "includes",
          "line": 206
        },
        {
          "target": "CVCUS01Y",
          "call_type": "includes",
          "line": 209
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-EXIT",
      "summary": null,
      "purpose": "This paragraph simply marks the exit point for the 1000-INITIALIZE paragraph. It contains only the EXIT statement and does not perform any processing or data manipulation. It serves as a standard way to define the end of a PERFORM THRU sequence. This paragraph does not consume any input or produce any output. It does not implement any business logic or error handling. It is a placeholder for the end of the initialization process.",
      "called_by": [],
      "calls": [],
      "citation": [
        249,
        254
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1100-OPEN-REQUEST-QUEUE",
      "summary": null,
      "purpose": "This paragraph opens the request message queue. It moves MQOT-Q to MQOD-OBJECTTYPE and WS-REQUEST-QNAME to MQOD-OBJECTNAME to define the queue object (lines 36-37). It then computes WS-OPTIONS as MQOO-INPUT-SHARED (line 39). It calls MQOPEN to open the queue using the specified parameters. If MQOPEN is successful (WS-COMPCODE = MQCC-OK), it sets WS-REQUEST-MQ-OPEN to TRUE (lines 49-50). Otherwise, it logs an error using 9500-LOG-ERROR (lines 52-61). The paragraph consumes WS-REQUEST-QNAME as input and sets WS-REQUEST-MQ-OPEN based on the MQOPEN result. It produces no direct output but opens the message queue. It implements error handling for MQOPEN failures. It calls MQOPEN to open the queue and 9500-LOG-ERROR to handle errors.",
      "called_by": [],
      "calls": [
        "MQOPEN",
        "9500-LOG-ERROR"
      ],
      "citation": [
        255,
        285
      ],
      "outgoing_calls": [
        {
          "target": "MQOPEN",
          "call_type": "calls",
          "line": 262
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 282
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1000-INITIALIZE",
          "line": 244,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1100-EXIT",
      "summary": null,
      "purpose": "This paragraph simply marks the exit point for the 1100-OPEN-REQUEST-QUEUE paragraph. It contains only the EXIT statement and does not perform any processing or data manipulation. It serves as a standard way to define the end of a PERFORM THRU sequence. This paragraph does not consume any input or produce any output. It does not implement any business logic or error handling. It is a placeholder for the end of the queue opening process.",
      "called_by": [],
      "calls": [],
      "citation": [
        286,
        291
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1200-SCHEDULE-PSB",
      "summary": null,
      "purpose": "This paragraph schedules a PSB (Program Specification Block) in IMS. It uses the EXEC DLI SCHD command to schedule the PSB specified by PSB-NAME (lines 69-72). It then moves DIBSTAT to IMS-RETURN-CODE to capture the IMS return code. If the PSB was scheduled more than once, it terminates the PSB and schedules it again (lines 74-83). If the status is OK, it sets IMS-PSB-SCHD to TRUE (lines 84-85). Otherwise, it logs an error using 9500-LOG-ERROR (lines 87-93). The paragraph consumes PSB-NAME as input and sets IMS-PSB-SCHD based on the IMS scheduling result. It produces no direct output but schedules the PSB. It implements error handling for IMS scheduling failures. It calls 9500-LOG-ERROR to handle errors.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        292,
        318
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 316
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 443,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1200-EXIT",
      "summary": null,
      "purpose": "This paragraph simply marks the exit point for the 1200-SCHEDULE-PSB paragraph. It contains only the EXIT statement and does not perform any processing or data manipulation. It serves as a standard way to define the end of a PERFORM THRU sequence. This paragraph does not consume any input or produce any output. It does not implement any business logic or error handling. It is a placeholder for the end of the PSB scheduling process.",
      "called_by": [],
      "calls": [],
      "citation": [
        319,
        322
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-EXIT",
      "summary": null,
      "purpose": "This paragraph simply marks the exit point for the 2000-MAIN-PROCESS paragraph. It contains only the EXIT statement and does not perform any processing or data manipulation. It serves as a standard way to define the end of a PERFORM THRU sequence. This paragraph does not consume any input or produce any output. It does not implement any business logic or error handling. It is a placeholder for the end of the main processing loop.",
      "called_by": [],
      "calls": [],
      "citation": [
        347,
        350
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2100-EXTRACT-REQUEST-MSG",
      "summary": null,
      "purpose": "This paragraph extracts data from the authorization request message (W01-GET-BUFFER) received from the MQ queue. It uses the UNSTRING statement to parse the comma-delimited message into individual fields, such as authorization date, time, card number, and transaction amount. The extracted data is then moved into corresponding fields in the PA-RQ-* and WS-* variables. The alphanumeric transaction amount (WS-TRANSACTION-AMT-AN) is converted to a numeric value using the FUNCTION NUMVAL and stored in PA-RQ-TRANSACTION-AMT and WS-TRANSACTION-AMT. This paragraph prepares the data for subsequent processing and validation. No error handling is performed within this paragraph. It is called by an upstream paragraph (not shown in the provided code) and calls no other paragraphs.",
      "called_by": [],
      "calls": [],
      "citation": [
        1,
        30
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 328,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2100-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 2100-EXTRACT-REQUEST-MSG paragraph. It contains a simple EXIT statement, which returns control to the calling paragraph. It does not perform any specific actions or data manipulation. It is a standard practice in COBOL to have an explicit exit paragraph for each processing paragraph to ensure proper program flow and maintainability. This paragraph consumes no inputs and produces no outputs. It is called by 2100-EXTRACT-REQUEST-MSG and calls no other paragraphs.",
      "called_by": [],
      "calls": [],
      "citation": [
        32,
        33
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-READ-REQUEST-MQ",
      "summary": null,
      "purpose": "This paragraph reads the authorization request message from the MQ queue. It sets the MQGMO options for the MQGET call, including no syncpoint, waiting for a message, conversion, and failing if quiescing. It also sets the wait interval and message format. The MQGET call retrieves the message from the queue, placing it into W01-GET-BUFFER. If the MQGET call is successful (WS-COMPCODE = MQCC-OK), the correlation ID and reply queue name are saved. If the call fails, the paragraph checks if the reason is MQRC-NO-MSG-AVAILABLE, setting a flag if no message is available. Otherwise, it logs an error message using 9500-LOG-ERROR, including the completion code, reason code, and relevant error information. The paragraph consumes the MQ queue identified by W01-HCONN-REQUEST and W01-HOBJ-REQUEST and produces the message in W01-GET-BUFFER. It is called by an upstream paragraph (not shown) and calls MQGET and 9500-LOG-ERROR.",
      "called_by": [],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        35,
        81
      ],
      "outgoing_calls": [
        {
          "target": "MQGET",
          "call_type": "calls",
          "line": 400
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 429
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1000-INITIALIZE",
          "line": 246,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "2000-MAIN-PROCESS",
          "line": 342,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 3100-READ-REQUEST-MQ paragraph. It contains a simple EXIT statement, which returns control to the calling paragraph. It does not perform any specific actions or data manipulation. It is a standard practice in COBOL to have an explicit exit paragraph for each processing paragraph to ensure proper program flow and maintainability. This paragraph consumes no inputs and produces no outputs. It is called by 3100-READ-REQUEST-MQ and calls no other paragraphs.",
      "called_by": [],
      "calls": [],
      "citation": [
        83,
        84
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 5000-PROCESS-AUTH paragraph. It contains a simple EXIT statement, which returns control to the calling paragraph. It does not perform any specific actions or data manipulation. It is a standard practice in COBOL to have an explicit exit paragraph for each processing paragraph to ensure proper program flow and maintainability. This paragraph consumes no inputs and produces no outputs. It is called by 5000-PROCESS-AUTH and calls no other paragraphs.",
      "called_by": [],
      "calls": [],
      "citation": [
        116,
        117
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5100-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 5100-READ-XREF-RECORD paragraph. It contains a simple EXIT statement, which returns control to the calling paragraph. It does not perform any specific actions or data manipulation. It is a standard practice in COBOL to have an explicit exit paragraph for each processing paragraph to ensure proper program flow and maintainability. This paragraph consumes no inputs and produces no outputs. It is called by 5100-READ-XREF-RECORD and calls no other paragraphs.",
      "called_by": [],
      "calls": [],
      "citation": [
        163,
        164
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5200-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 5200-READ-ACCT-RECORD paragraph. It contains a simple EXIT statement, which returns control to the calling paragraph. It does not perform any specific actions or data manipulation. It is a standard practice in COBOL to have an explicit exit paragraph for each processing paragraph to ensure proper program flow and maintainability. This paragraph consumes no inputs and produces no outputs. It is called by 5200-READ-ACCT-RECORD and calls no other paragraphs.",
      "called_by": [],
      "calls": [],
      "citation": [
        210,
        211
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5300-EXIT",
      "summary": null,
      "purpose": "This paragraph simply contains the EXIT statement, providing a standard exit point for the 5300-READ-CUST-RECORD paragraph. It does not perform any specific logic or data manipulation. It is called by 5300-READ-CUST-RECORD after the CICS READ operation and error handling are complete. The paragraph consumes no input and produces no output. It serves as a structured way to return control to the calling paragraph.",
      "called_by": [],
      "calls": [],
      "citation": [
        612,
        615
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5500-EXIT",
      "summary": null,
      "purpose": "This paragraph simply contains the EXIT statement, providing a standard exit point for the 5500-READ-AUTH-SUMMRY paragraph. It does not perform any specific logic or data manipulation. It is called by 5500-READ-AUTH-SUMMRY after the IMS READ operation and error handling are complete. The paragraph consumes no input and produces no output. It serves as a structured way to return control to the calling paragraph.",
      "called_by": [],
      "calls": [],
      "citation": [
        643,
        646
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "5600-EXIT",
      "summary": null,
      "purpose": "This paragraph simply contains the EXIT statement, providing a standard exit point for the 5600-READ-PROFILE-DATA paragraph. It does not perform any specific logic or data manipulation. It is called by 5600-READ-PROFILE-DATA after the (currently empty) READ operation. The paragraph consumes no input and produces no output. It serves as a structured way to return control to the calling paragraph.",
      "called_by": [],
      "calls": [],
      "citation": [
        653,
        656
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "6000-MAKE-DECISION",
      "summary": null,
      "purpose": "This paragraph determines whether to approve or decline an authorization request. It first moves data from request fields (PA-RQ-*) to response fields (PA-RL-*). If a pending authorization summary is found (FOUND-PAUT-SMRY-SEG), it calculates the available amount (WS-AVAILABLE-AMT) using the credit limit and balance from the summary. If no summary is found but an account is found (FOUND-ACCT-IN-MSTR), it calculates the available amount using the credit limit and balance from the account record. If neither a summary nor an account is found, it declines the authorization. If the transaction amount exceeds the available amount, it declines the authorization and sets the INSUFFICIENT-FUND flag. If the authorization is declined, it sets the AUTH-RESP-DECLINED flag and moves '05' to PA-RL-AUTH-RESP-CODE. Otherwise, it sets the AUTH-RESP-APPROVED flag and moves '00' to PA-RL-AUTH-RESP-CODE and the transaction amount to PA-RL-APPROVED-AMT. Finally, it sets the reason code (PA-RL-AUTH-RESP-REASON) based on various conditions, such as card not found, insufficient funds, or fraud. The paragraph consumes data from the CICS COMMAREA, PENDING-AUTH-SUMMARY, and CUSTOMER-RECORD, and produces the authorization decision and response data in PA-RL-* fields.",
      "called_by": [],
      "calls": [],
      "citation": [
        657,
        733
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5000-PROCESS-AUTH",
          "line": 459,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "6000-EXIT",
      "summary": null,
      "purpose": "This paragraph simply contains the EXIT statement, providing a standard exit point for the 6000-MAKE-DECISION paragraph. It does not perform any specific logic or data manipulation. It is called by 6000-MAKE-DECISION after the authorization decision logic is complete. The paragraph consumes no input and produces no output. It serves as a structured way to return control to the calling paragraph.",
      "called_by": [],
      "calls": [],
      "citation": [
        734,
        737
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "7100-EXIT",
      "summary": null,
      "purpose": "This paragraph simply contains the EXIT statement, providing a standard exit point for the 7100-SEND-RESPONSE paragraph. It does not perform any specific logic or data manipulation. It is called by 7100-SEND-RESPONSE after the MQPUT1 call and error handling are complete. The paragraph consumes no input and produces no output. It serves as a structured way to return control to the calling paragraph.",
      "called_by": [],
      "calls": [],
      "citation": [
        782,
        785
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 8000-WRITE-AUTH-TO-DB paragraph. It contains a simple EXIT statement, which allows the program to return control to the calling paragraph. It does not perform any data manipulation, business logic, or error handling. It is a standard COBOL construct for defining the end of a PERFORM THRU range. This paragraph does not consume any inputs or produce any outputs. It is called by the PERFORM statement in 8000-WRITE-AUTH-TO-DB after the 8500-INSERT-AUTH paragraph has completed. It does not call any other paragraphs or programs.",
      "called_by": [
        "8000-WRITE-AUTH-TO-DB"
      ],
      "calls": [],
      "citation": [
        9,
        10
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8400-UPDATE-SUMMARY",
      "summary": null,
      "purpose": "This paragraph updates the pending authorization summary in the IMS database. It first checks if a summary segment already exists (NFOUND-PAUT-SMRY-SEG). If not, it initializes the PENDING-AUTH-SUMMARY with zeros and moves the XREF-ACCT-ID and XREF-CUST-ID to the summary record. It then moves ACCT-CREDIT-LIMIT and ACCT-CASH-CREDIT-LIMIT to the summary record. If the authorization is approved (AUTH-RESP-APPROVED), it increments the approved authorization count and amount, and updates the credit balance. Otherwise, it increments the declined authorization count and amount. Finally, it either updates an existing summary segment or inserts a new one into the IMS database using EXEC DLI REPL or ISRT commands, respectively. If the IMS operation fails, it logs an error using 9500-LOG-ERROR. Inputs include XREF-ACCT-ID, XREF-CUST-ID, ACCT-CREDIT-LIMIT, ACCT-CASH-CREDIT-LIMIT, WS-APPROVED-AMT, and PA-TRANSACTION-AMT. Outputs include the updated PENDING-AUTH-SUMMARY segment in the IMS database. The paragraph is called by 8000-WRITE-AUTH-TO-DB.",
      "called_by": [
        "8000-WRITE-AUTH-TO-DB"
      ],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        12,
        62
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 846
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8000-WRITE-AUTH-TO-DB",
          "line": 790,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8400-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 8400-UPDATE-SUMMARY paragraph. It contains a simple EXIT statement, which allows the program to return control to the calling paragraph. It does not perform any data manipulation, business logic, or error handling. It is a standard COBOL construct for defining the end of a PERFORM THRU range. This paragraph does not consume any inputs or produce any outputs. It is called by the PERFORM statement in 8000-WRITE-AUTH-TO-DB after the 8400-UPDATE-SUMMARY paragraph has completed. It does not call any other paragraphs or programs.",
      "called_by": [
        "8400-UPDATE-SUMMARY"
      ],
      "calls": [],
      "citation": [
        64,
        65
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8500-INSERT-AUTH",
      "summary": null,
      "purpose": "This paragraph inserts authorization details into the IMS database. It first retrieves the current date and time using CICS ASKTIME and FORMATTIME commands, converting the date and time into specific formats. It then computes PA-AUTH-DATE-9C and PA-AUTH-TIME-9C by subtracting the current date and time from constant values. It moves various fields from the request (PA-RQ-*) and response (PA-RL-*) structures to the detail record. It sets PA-MATCH-PENDING or PA-MATCH-AUTH-DECLINED based on whether the authorization was approved. It then inserts the PENDING-AUTH-DETAILS segment into the IMS database using EXEC DLI ISRT. If the IMS operation fails, it logs an error using 9500-LOG-ERROR. Inputs include various PA-RQ-* and PA-RL-* fields. Outputs include the inserted PENDING-AUTH-DETAILS segment in the IMS database. The paragraph is called by 8000-WRITE-AUTH-TO-DB.",
      "called_by": [
        "8000-WRITE-AUTH-TO-DB"
      ],
      "calls": [
        "9500-LOG-ERROR"
      ],
      "citation": [
        67,
        146
      ],
      "outgoing_calls": [
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 931
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8000-WRITE-AUTH-TO-DB",
          "line": 791,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "8500-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 8500-INSERT-AUTH paragraph. It contains a simple EXIT statement, which allows the program to return control to the calling paragraph. It does not perform any data manipulation, business logic, or error handling. It is a standard COBOL construct for defining the end of a PERFORM THRU range. This paragraph does not consume any inputs or produce any outputs. It is called by the PERFORM statement in 8000-WRITE-AUTH-TO-DB after the 8500-INSERT-AUTH paragraph has completed. It does not call any other paragraphs or programs.",
      "called_by": [
        "8500-INSERT-AUTH"
      ],
      "calls": [],
      "citation": [
        148,
        149
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9000-TERMINATE",
      "summary": null,
      "purpose": "This paragraph handles the termination of the IMS PSB and closes the request queue. It first checks if the IMS PSB is scheduled (IMS-PSB-SCHD). If so, it terminates the PSB using EXEC DLI TERM. Then, it calls 9100-CLOSE-REQUEST-QUEUE to close the request queue. There are no explicit inputs or outputs consumed or produced within this paragraph itself, as it delegates the queue closing to the called paragraph. The business logic involves checking if the IMS PSB is scheduled and terminating it if necessary. Error handling is performed by the called paragraph 9100-CLOSE-REQUEST-QUEUE. The paragraph calls 9100-CLOSE-REQUEST-QUEUE to close the request queue.",
      "called_by": [],
      "calls": [
        "9100-CLOSE-REQUEST-QUEUE"
      ],
      "citation": [
        151,
        159
      ],
      "outgoing_calls": [
        {
          "target": "9100-CLOSE-REQUEST-QUEUE",
          "call_type": "performs",
          "line": 947
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "MAIN-PARA",
          "line": 224,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9990-END-ROUTINE",
          "line": 1019,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 9000-TERMINATE paragraph. It contains a simple EXIT statement, which allows the program to return control to the calling paragraph. It does not perform any data manipulation, business logic, or error handling. It is a standard COBOL construct for defining the end of a PERFORM THRU range. This paragraph does not consume any inputs or produce any outputs. It is called by the PERFORM statement in the calling paragraph after the 9000-TERMINATE paragraph has completed. It does not call any other paragraphs or programs.",
      "called_by": [
        "9000-TERMINATE"
      ],
      "calls": [],
      "citation": [
        161,
        162
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9100-CLOSE-REQUEST-QUEUE",
      "summary": null,
      "purpose": "This paragraph closes the request message queue. It first checks if the request queue is open (WS-REQUEST-MQ-OPEN). If so, it calls the MQCLOSE program to close the queue, passing the connection handle (W01-HCONN-REQUEST), object handle (W01-HOBJ-REQUEST), and other MQ parameters. After the MQCLOSE call, it checks the completion code (WS-COMPCODE). If the completion code is MQCC-OK, it sets WS-REQUEST-MQ-CLSE to TRUE. Otherwise, it logs an error using 9500-LOG-ERROR. Inputs include W01-HCONN-REQUEST and W01-HOBJ-REQUEST. There are no explicit outputs. The paragraph is called by 9000-TERMINATE.",
      "called_by": [
        "9000-TERMINATE"
      ],
      "calls": [
        "MQCLOSE",
        "9500-LOG-ERROR"
      ],
      "citation": [
        164,
        188
      ],
      "outgoing_calls": [
        {
          "target": "MQCLOSE",
          "call_type": "calls",
          "line": 956
        },
        {
          "target": "9500-LOG-ERROR",
          "call_type": "performs",
          "line": 975
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9000-TERMINATE",
          "line": 947,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9100-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 9100-CLOSE-REQUEST-QUEUE paragraph. It contains a simple EXIT statement, which allows the program to return control to the calling paragraph. It does not perform any data manipulation, business logic, or error handling. It is a standard COBOL construct for defining the end of a PERFORM THRU range. This paragraph does not consume any inputs or produce any outputs. It is called by the PERFORM statement in 9000-TERMINATE after the 9100-CLOSE-REQUEST-QUEUE paragraph has completed. It does not call any other paragraphs or programs.",
      "called_by": [
        "9100-CLOSE-REQUEST-QUEUE"
      ],
      "calls": [],
      "citation": [
        190,
        191
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9500-LOG-ERROR",
      "summary": null,
      "purpose": "This paragraph logs error information to a CICS temporary data queue (TDQ) named CSSL. It first retrieves the current date and time using CICS ASKTIME and FORMATTIME commands, storing them in WS-CUR-DATE-X6 and WS-CUR-TIME-X6 respectively. It then moves the transaction ID (WS-CICS-TRANID), program name (WS-PGM-AUTH), current date, and current time into the ERROR-LOG-RECORD. The ERROR-LOG-RECORD is then written to the CSSL TDQ using the CICS WRITEQ TD command. Finally, it checks the ERR-CRITICAL flag; if set, it performs the 9990-END-ROUTINE paragraph to terminate the CICS task. This paragraph consumes WS-CICS-TRANID and WS-PGM-AUTH and produces a record in the CSSL queue.",
      "called_by": [],
      "calls": [
        "9990-END-ROUTINE"
      ],
      "citation": [
        1,
        29
      ],
      "outgoing_calls": [
        {
          "target": "9990-END-ROUTINE",
          "call_type": "performs",
          "line": 1009
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1100-OPEN-REQUEST-QUEUE",
          "line": 282,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "1200-SCHEDULE-PSB",
          "line": 316,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "3100-READ-REQUEST-MQ",
          "line": 429,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5100-READ-XREF-RECORD",
          "line": 500,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5200-READ-ACCT-RECORD",
          "line": 547,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5300-READ-CUST-RECORD",
          "line": 595,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "5500-READ-AUTH-SUMMRY",
          "line": 639,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "7100-SEND-RESPONSE",
          "line": 778,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8400-UPDATE-SUMMARY",
          "line": 846,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "8500-INSERT-AUTH",
          "line": 931,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9100-CLOSE-REQUEST-QUEUE",
          "line": 975,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9500-EXIT",
      "summary": null,
      "purpose": "This paragraph provides a standard exit point for the 9500-LOG-ERROR paragraph. It simply contains the EXIT statement, allowing control to return to the calling paragraph. It does not perform any specific logic or data manipulation. This paragraph is called by 9500-LOG-ERROR after writing the error record to the CSSL queue and conditionally calling 9990-END-ROUTINE. It ensures a clean and consistent exit from the error logging routine.",
      "called_by": [],
      "calls": [],
      "citation": [
        31,
        32
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Paragraph '9500-EXIT' is never PERFORMed or referenced by any other paragraph or program",
      "metadata": null
    },
    {
      "paragraph_name": "9990-END-ROUTINE",
      "summary": null,
      "purpose": "This paragraph performs the necessary steps to terminate the CICS task. It first calls the 9000-TERMINATE paragraph, presumably to perform any application-specific cleanup or finalization tasks. After 9000-TERMINATE completes, it executes a CICS RETURN command to terminate the CICS task and return control to CICS. This paragraph is called by 9500-LOG-ERROR when a critical error is detected. It ensures that the application terminates gracefully after logging the error.",
      "called_by": [
        "9500-LOG-ERROR"
      ],
      "calls": [
        "9000-TERMINATE"
      ],
      "citation": [
        34,
        41
      ],
      "outgoing_calls": [
        {
          "target": "9000-TERMINATE",
          "call_type": "performs",
          "line": 1019
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "9500-LOG-ERROR",
          "line": 1009,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9990-EXIT",
      "summary": null,
      "purpose": "This paragraph provides a standard exit point for the 9990-END-ROUTINE paragraph. It contains only the EXIT statement, allowing control to return to the calling paragraph. It does not perform any specific logic or data manipulation. This paragraph is called by 9990-END-ROUTINE after performing 9000-TERMINATE and issuing the CICS RETURN command. It ensures a clean and consistent exit from the termination routine.",
      "called_by": [],
      "calls": [],
      "citation": [
        43,
        44
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": true,
      "dead_code_reason": "Paragraph '9990-EXIT' is never PERFORMed or referenced by any other paragraph or program",
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "EIBRESP not equal to DFHRESP(NORMAL) during MQ API calls",
      "action": "Log error message with error code and abend",
      "citation": [
        277,
        423,
        771
      ]
    },
    {
      "condition": "WS-RESP-CD not equal to DFHRESP(NORMAL) or DFHRESP(NOTFND) during VSAM READ",
      "action": "Log error message with error code and abend",
      "citation": [
        501,
        553,
        601
      ]
    },
    {
      "condition": "DIBSTAT not equal to STATUS-OK or SEGMENT-NOT-FOUND during IMS calls",
      "action": "Log error message with error code and abend",
      "citation": [
        632
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [
    {
      "command": "EXEC CICS RETRIEVE",
      "resource": "MQTM",
      "purpose": "Retrieves the MQ trigger monitor message.",
      "citation": 233
    },
    {
      "command": "EXEC CICS RETURN",
      "resource": null,
      "purpose": "Returns control to CICS.",
      "citation": 226
    },
    {
      "command": "EXEC CICS READ",
      "resource": "WS-CCXREF-FILE",
      "purpose": "Reads the card cross-reference record.",
      "citation": 477
    },
    {
      "command": "EXEC CICS READ",
      "resource": "WS-ACCTFILENAME",
      "purpose": "Reads the account record.",
      "citation": 525
    },
    {
      "command": "EXEC CICS READ",
      "resource": "WS-CUSTFILENAME",
      "purpose": "Reads the customer record.",
      "citation": 573
    },
    {
      "command": "EXEC CICS SYNCPOINT",
      "resource": null,
      "purpose": "Syncs the CICS environment.",
      "citation": 335
    }
  ],
  "open_questions": [
    {
      "question": "What is the structure of the MQ messages?",
      "context": "The program reads from and writes to MQ queues, but the exact message format is not defined in the provided code snippet.",
      "suggestion": "Examine the MQ message definitions or related copybooks."
    },
    {
      "question": "What is the purpose of 5600-READ-PROFILE-DATA?",
      "context": "The paragraph contains only a CONTINUE statement and does not perform any meaningful operation.",
      "suggestion": "Check related documentation or code to understand the intended functionality of this paragraph."
    }
  ],
  "resolved_questions": [],
  "dead_code": [
    {
      "name": "9500-EXIT",
      "artifact_type": "paragraph",
      "line": 1012,
      "reason": "Paragraph '9500-EXIT' is never PERFORMed or referenced by any other paragraph or program"
    },
    {
      "name": "9990-EXIT",
      "artifact_type": "paragraph",
      "line": 1024,
      "reason": "Paragraph '9990-EXIT' is never PERFORMed or referenced by any other paragraph or program"
    }
  ],
  "call_semantics": [
    {
      "caller": "MAIN-PARA",
      "callee": "1000-INITIALIZE",
      "inputs": [],
      "outputs": [
        "WS-REQUEST-QNAME",
        "WS-TRIGGER-DATA",
        "WS-WAIT-INTERVAL"
      ],
      "purpose": "Initializes the program by retrieving trigger data, setting up the request queue name and wait interval, and opening the request queue."
    },
    {
      "caller": "MAIN-PARA",
      "callee": "2000-MAIN-PROCESS",
      "inputs": [
        "WS-REQSTS-PROCESS-LIMIT",
        "WS-MSG-PROCESSED"
      ],
      "outputs": [
        "WS-MSG-PROCESSED"
      ],
      "purpose": "Processes incoming authorization requests in a loop until the message limit is reached or no more messages are available."
    },
    {
      "caller": "MAIN-PARA",
      "callee": "9000-TERMINATE",
      "inputs": [],
      "outputs": [],
      "purpose": "Terminates the IMS PSB if scheduled and closes the request queue before program exit."
    },
    {
      "caller": "1000-INITIALIZE",
      "callee": "1100-OPEN-REQUEST-QUEUE",
      "inputs": [
        "WS-REQUEST-QNAME",
        "WS-OPTIONS"
      ],
      "outputs": [
        "W01-HOBJ-REQUEST",
        "WS-COMPCODE",
        "WS-REASON"
      ],
      "purpose": "Opens the request message queue using MQOPEN with shared input options and sets the object handle for further MQ operations."
    },
    {
      "caller": "1000-INITIALIZE",
      "callee": "3100-READ-REQUEST-MQ",
      "inputs": [
        "WS-WAIT-INTERVAL",
        "W01-HCONN-REQUEST",
        "W01-HOBJ-REQUEST"
      ],
      "outputs": [
        "WS-SAVE-CORRELID",
        "WS-REPLY-QNAME",
        "WS-COMPCODE",
        "WS-REASON",
        "W01-BUFFLEN",
        "W01-GET-BUFFER",
        "W01-DATALEN"
      ],
      "purpose": "Reads a message from the request queue using MQGET, storing correlation ID and reply queue name for response handling."
    },
    {
      "caller": "1100-OPEN-REQUEST-QUEUE",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-MQ",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE"
      ],
      "outputs": [
        "WS-ABS-TIME"
      ],
      "purpose": "Logs an error message to the CSSL queue with timestamp and error details when opening the request MQ fails."
    },
    {
      "caller": "1200-SCHEDULE-PSB",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-IMS",
        "IMS-RETURN-CODE",
        "ERR-CODE-1",
        "ERR-MESSAGE"
      ],
      "outputs": [
        "WS-ABS-TIME"
      ],
      "purpose": "Logs an error message to the CSSL queue with timestamp and error details when IMS PSB scheduling fails."
    },
    {
      "caller": "2000-MAIN-PROCESS",
      "callee": "2100-EXTRACT-REQUEST-MSG",
      "inputs": [
        "W01-GET-BUFFER",
        "W01-DATALEN"
      ],
      "outputs": [
        "PA-RQ-AUTH-DATE",
        "PA-RQ-AUTH-TIME",
        "PA-RQ-CARD-NUM",
        "PA-RQ-AUTH-TYPE",
        "PA-RQ-CARD-EXPIRY-DATE",
        "PA-RQ-MESSAGE-TYPE",
        "PA-RQ-MESSAGE-SOURCE",
        "PA-RQ-PROCESSING-CODE",
        "WS-TRANSACTION-AMT-AN",
        "PA-RQ-MERCHANT-CATAGORY-CODE",
        "PA-RQ-ACQR-COUNTRY-CODE",
        "PA-RQ-POS-ENTRY-MODE",
        "PA-RQ-MERCHANT-ID",
        "PA-RQ-MERCHANT-NAME",
        "PA-RQ-MERCHANT-CITY",
        "PA-RQ-MERCHANT-STATE",
        "PA-RQ-MERCHANT-ZIP",
        "PA-RQ-TRANSACTION-ID",
        "PA-RQ-TRANSACTION-AMT",
        "WS-TRANSACTION-AMT"
      ],
      "purpose": "Extracts and parses fields from the incoming request message buffer into working storage variables for further processing."
    },
    {
      "caller": "2000-MAIN-PROCESS",
      "callee": "5000-PROCESS-AUTH",
      "inputs": [],
      "outputs": [
        "APPROVE-AUTH",
        "CARD-FOUND-XREF",
        "FOUND-ACCT-IN-MSTR"
      ],
      "purpose": "Processes an authorization request by reading related records, making a decision, sending a response, and writing audit data."
    },
    {
      "caller": "2000-MAIN-PROCESS",
      "callee": "3100-READ-REQUEST-MQ",
      "inputs": [
        "WS-WAIT-INTERVAL",
        "MQMI-NONE",
        "MQCI-NONE",
        "MQFMT-STRING",
        "W01-BUFFLEN",
        "W01-HCONN-REQUEST",
        "W01-HOBJ-REQUEST"
      ],
      "outputs": [
        "MQGMO-OPTIONS",
        "MQMD-MSGID",
        "MQMD-CORRELID",
        "MQMD-FORMAT",
        "W01-DATALEN",
        "W01-GET-BUFFER",
        "WS-COMPCODE",
        "WS-REASON",
        "WS-SAVE-CORRELID",
        "WS-REPLY-QNAME",
        "NO-MORE-MSG-AVAILABLE",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY"
      ],
      "purpose": "Reads a message from the request MQ, updates correlation and reply queue information, and logs an error if the read fails."
    },
    {
      "caller": "3100-READ-REQUEST-MQ",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "PA-CARD-NUM",
        "ERR-EVENT-KEY"
      ],
      "outputs": [],
      "purpose": "Logs an error message to the CICS TD queue with timestamp, program, transaction, and error details when reading from the request MQ fails."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "1200-SCHEDULE-PSB",
      "inputs": [
        "PSB-NAME"
      ],
      "outputs": [
        "IMS-RETURN-CODE",
        "IMS-PSB-SCHD"
      ],
      "purpose": "Schedules the IMS PSB for database access and logs an error if scheduling fails."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5100-READ-XREF-RECORD",
      "inputs": [
        "PA-RQ-CARD-NUM",
        "WS-CCXREF-FILE",
        "WS-RESP-CD",
        "WS-REAS-CD"
      ],
      "outputs": [
        "XREF-CARD-NUM",
        "CARD-FOUND-XREF",
        "CARD-NFOUND-XREF",
        "NFOUND-ACCT-IN-MSTR",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2"
      ],
      "purpose": "Reads the card cross-reference record using the card number and sets status flags or logs an error if not found or on failure."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5200-READ-ACCT-RECORD",
      "inputs": [
        "XREF-ACCT-ID",
        "WS-ACCTFILENAME",
        "WS-CARD-RID-ACCT-ID-X",
        "WS-RESP-CD",
        "WS-REAS-CD"
      ],
      "outputs": [
        "WS-CARD-RID-ACCT-ID",
        "FOUND-ACCT-IN-MSTR",
        "NFOUND-ACCT-IN-MSTR",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2"
      ],
      "purpose": "Reads the account record using the account ID from the XREF and logs a warning or error if not found or on failure."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5300-READ-CUST-RECORD",
      "inputs": [
        "XREF-CUST-ID",
        "WS-CUSTFILENAME",
        "WS-CARD-RID-CUST-ID-X",
        "WS-RESP-CD",
        "WS-REAS-CD"
      ],
      "outputs": [
        "WS-CARD-RID-CUST-ID",
        "FOUND-CUST-IN-MSTR",
        "NFOUND-CUST-IN-MSTR",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2"
      ],
      "purpose": "Reads the customer record using the customer ID from the XREF and logs a warning or error if not found or on failure."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5500-READ-AUTH-SUMMRY",
      "inputs": [
        "XREF-ACCT-ID",
        "PA-ACCT-ID"
      ],
      "outputs": [
        "FOUND-PAUT-SMRY-SEG",
        "NFOUND-PAUT-SMRY-SEG",
        "IMS-RETURN-CODE",
        "ERR-LOCATION",
        "ERR-CODE-1",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY"
      ],
      "purpose": "Reads the pending authorization summary segment from IMS using the account ID from the cross-reference record to determine if there is existing authorization data."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "5600-READ-PROFILE-DATA",
      "inputs": [],
      "outputs": [],
      "purpose": "Placeholder paragraph with no actual logic executed; does not perform any data reading or modification."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "6000-MAKE-DECISION",
      "inputs": [
        "FOUND-PAUT-SMRY-SEG",
        "PA-CREDIT-LIMIT",
        "PA-CREDIT-BALANCE",
        "WS-TRANSACTION-AMT",
        "FOUND-ACCT-IN-MSTR",
        "ACCT-CREDIT-LIMIT",
        "ACCT-CURR-BAL",
        "DECLINE-AUTH",
        "CARD-NFOUND-XREF",
        "NFOUND-ACCT-IN-MSTR",
        "NFOUND-CUST-IN-MSTR",
        "INSUFFICIENT-FUND",
        "CARD-NOT-ACTIVE",
        "ACCOUNT-CLOSED",
        "CARD-FRAUD",
        "MERCHANT-FRAUD",
        "PA-RQ-CARD-NUM",
        "PA-RQ-TRANSACTION-ID",
        "PA-RQ-AUTH-TIME",
        "PA-RQ-TRANSACTION-AMT",
        "WS-APPROVED-AMT"
      ],
      "outputs": [
        "DECLINE-AUTH",
        "APPROVE-AUTH",
        "AUTH-RESP-DECLINED",
        "AUTH-RESP-APPROVED",
        "PA-RL-CARD-NUM",
        "PA-RL-TRANSACTION-ID",
        "PA-RL-AUTH-ID-CODE",
        "PA-RL-AUTH-RESP-CODE",
        "PA-RL-APPROVED-AMT",
        "PA-RL-AUTH-RESP-REASON",
        "WS-APPROVED-AMT-DIS",
        "W02-PUT-BUFFER",
        "WS-RESP-LENGTH"
      ],
      "purpose": "Determines whether to approve or decline the authorization based on available credit and account status, then formats the response message."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "7100-SEND-RESPONSE",
      "inputs": [
        "MQOT-Q",
        "WS-REPLY-QNAME",
        "MQMT-REPLY",
        "WS-SAVE-CORRELID",
        "MQMI-NONE",
        "MQPER-NOT-PERSISTENT",
        "MQFMT-STRING",
        "MQPMO-NO-SYNCPOINT",
        "MQPMO-DEFAULT-CONTEXT",
        "WS-RESP-LENGTH",
        "W02-HCONN-REPLY",
        "MQM-OD-REPLY",
        "MQM-MD-REPLY",
        "MQM-PUT-MESSAGE-OPTIONS",
        "W02-BUFFLEN",
        "W02-PUT-BUFFER"
      ],
      "outputs": [
        "WS-COMPCODE",
        "WS-REASON",
        "ERR-LOCATION",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY"
      ],
      "purpose": "Sends the authorization response message to the reply queue using MQPUT1 and logs an error if the message placement fails."
    },
    {
      "caller": "50000000-AUTH",
      "callee": "8000-WRITE-AUTH-TO-DB",
      "inputs": [],
      "outputs": [],
      "purpose": "Calls procedures to update the authorization summary and insert the new authorization record into the database if the card was found in cross-reference."
    },
    {
      "caller": "5000-PROCESS-AUTH",
      "callee": "8000-WRITE-AUTH-TO-DB",
      "inputs": [],
      "outputs": [],
      "purpose": null
    },
    {
      "caller": "5100-READ-XREF-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-RESP-CD",
        "WS-REAS-CD",
        "WS-CODE-DISPLAY"
      ],
      "outputs": [
        "WS-ABS-TIME"
      ],
      "purpose": "Logs an error message with timestamp and program context to the CSSL queue, and terminates processing if the error is critical."
    },
    {
      "caller": "5100-READ-XREF-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-RESP-CD",
        "WS-REAS-CD",
        "WS-CODE-DISPLAY"
      ],
      "outputs": [
        "WS-ABS-TIME"
      ],
      "purpose": "Logs an error message with timestamp and program context to the CSSL queue, and terminates processing if the error is critical."
    },
    {
      "caller": "5200-READ-ACCT-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-RESP-CD",
        "WS-REAS-CD",
        "WS-CODE-DISPLAY"
      ],
      "outputs": [
        "WS-ABS-TIME"
      ],
      "purpose": "Logs an error message with timestamp and program context to the CSSL queue, and terminates processing if the error is critical."
    },
    {
      "caller": "5200-READ-ACCT-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-RESP-CD",
        "WS-REAS-CD",
        "WS-CODE-DISPLAY"
      ],
      "outputs": [
        "WS-ABS-TIME"
      ],
      "purpose": "Logs an error message with timestamp and program context to the CSSL queue, and terminates processing if the error is critical."
    },
    {
      "caller": "5300-READ-CUST-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-APP",
        "ERR-MESSAGE",
        "ERR-EVENT-KEY",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-RESP-CD",
        "WS-REAS-CD",
        "WS-CODE-DISPLAY"
      ],
      "outputs": [
        "WS-ABS-TIME"
      ],
      "purpose": "Logs an error message with timestamp and program context to the CSSL queue, and terminates processing if the error is critical."
    },
    {
      "caller": "5300-READ-CUST-RECORD",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-CICS",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "WS-CARD-RID-CUST-ID",
        "ERR-EVENT-KEY"
      ],
      "outputs": [],
      "purpose": "Logs an error message to the CSSL queue with timestamp, program, transaction, and error details when customer record is not found or CICS read fails."
    },
    {
      "caller": "5500-READ-AUTH-SUMMRY",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-IMS",
        "IMS-RETURN-CODE",
        "ERR-CODE-1",
        "ERR-MESSAGE",
        "PA-CARD-NUM",
        "ERR-EVENT-KEY"
      ],
      "outputs": [],
      "purpose": "Logs an error message to the CSSL queue with timestamp, program, transaction, and error details when IMS fails to retrieve the pending authorization summary segment."
    },
    {
      "caller": "7100-SEND-RESPONSE",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-MQ",
        "WS-COMPCODE",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "WS-REASON",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "PA-CARD-NUM",
        "ERR-EVENT-KEY"
      ],
      "outputs": [],
      "purpose": "Logs an error message to the CSSL queue with timestamp, program, transaction, and error details when the MQPUT1 call fails to send a reply message."
    },
    {
      "caller": "8000-WRITE-AUTH-TO-DB",
      "callee": "8400-UPDATE-SUMMARY",
      "inputs": [
        "NFOUND-PAUT-SMRY-SEG",
        "XREF-ACCT-ID",
        "XREF-CUST-ID",
        "ACCT-CREDIT-LIMIT",
        "ACCT-CASH-CREDIT-LIMIT",
        "AUTH-RESP-APPROVED",
        "WS-APPROVED-AMT",
        "PA-TRANSACTION-AMT",
        "FOUND-PAUT-SMRY-SEG"
      ],
      "outputs": [
        "PENDING-AUTH-SUMMARY",
        "IMS-RETURN-CODE"
      ],
      "purpose": "Updates or inserts the pending authorization summary segment in IMS with current balance and count information based on the authorization result."
    },
    {
      "caller": "8000-WRITE-AUTH-TO-DB",
      "callee": "8500-INSERT-AUTH",
      "inputs": [
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6",
        "WS-CUR-TIME-MS",
        "WS-YYDDD",
        "WS-CUR-TIME-N6",
        "WS-TIME-WITH-MS",
        "PA-RQ-AUTH-DATE",
        "PA-RQ-AUTH-TIME",
        "PA-RQ-CARD-NUM",
        "PA-RQ-AUTH-TYPE",
        "PA-RQ-CARD-EXPIRY-DATE",
        "PA-RQ-MESSAGE-TYPE",
        "PA-RQ-MESSAGE-SOURCE",
        "PA-RQ-PROCESSING-CODE",
        "PA-RQ-TRANSACTION-AMT",
        "PA-RQ-MERCHANT-CATAGORY-CODE",
        "PA-RQ-ACQR-COUNTRY-CODE",
        "PA-RQ-POS-ENTRY-MODE",
        "PA-RQ-MERCHANT-ID",
        "PA-RQ-MERCHANT-NAME",
        "PA-RQ-MERCHANT-CITY",
        "PA-RQ-MERCHANT-STATE",
        "PA-RQ-MERCHANT-ZIP",
        "PA-RQ-TRANSACTION-ID",
        "PA-RL-AUTH-ID-CODE",
        "PA-RL-AUTH-RESP-CODE",
        "PA-RL-AUTH-RESP-REASON",
        "PA-RL-APPROVED-AMT",
        "AUTH-RESP-APPROVED",
        "XREF-ACCT-ID"
      ],
      "outputs": [
        "PA-AUTH-DATE-9C",
        "PA-AUTH-TIME-9C",
        "PA-AUTH-ORIG-DATE",
        "PA-AUTH-ORIG-TIME",
        "PA-CARD-NUM",
        "PA-AUTH-TYPE",
        "PA-CARD-EXPIRY-DATE",
        "PA-MESSAGE-TYPE",
        "PA-MESSAGE-SOURCE",
        "PA-PROCESSING-CODE",
        "PA-TRANSACTION-AMT",
        "PA-MERCHANT-CATAGORY-CODE",
        "PA-ACQR-COUNTRY-CODE",
        "PA-POS-ENTRY-MODE",
        "PA-MERCHANT-ID",
        "PA-MERCHANT-NAME",
        "PA-MERCHANT-CITY",
        "PA-MERCHANT-STATE",
        "PA-MERCHANT-ZIP",
        "PA-TRANSACTION-ID",
        "PA-AUTH-ID-CODE",
        "PA-AUTH-RESP-CODE",
        "PA-AUTH-RESP-REASON",
        "PA-APPROVED-AMT",
        "PA-MATCH-PENDING",
        "PA-MATCH-AUTH-DECLINED",
        "PA-AUTH-FRAUD",
        "PA-FRAUD-RPT-DATE",
        "PA-ACCT-ID",
        "IMS-RETURN-CODE"
      ],
      "purpose": "Inserts a new pending authorization detail record into IMS with reversed date/time keys and copies of request and response fields from the current transaction."
    },
    {
      "caller": "8400-UPDATE-SUMMARY",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "IMS-RETURN-CODE",
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-IMS",
        "ERR-CODE-1",
        "ERR-MESSAGE",
        "PA-CARD-NUM",
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "outputs": [
        "ERR-APPLICATION",
        "ERR-PROGRAM",
        "ERR-DATE",
        "ERR-TIME"
      ],
      "purpose": "Logs an error message to the CSSL queue with timestamp and error details when an IMS update fails."
    },
    {
      "caller": "8500-INSERT-AUTH",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "ERR-LOCATION",
        "ERR-CRITICAL",
        "ERR-IMS",
        "IMS-RETURN-CODE",
        "ERR-CODE-1",
        "ERR-MESSAGE",
        "PA-CARD-NUM",
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "outputs": [
        "ERR-APPLICATION",
        "ERR-PROGRAM",
        "ERR-DATE",
        "ERR-TIME"
      ],
      "purpose": "Logs an error message to the CSSL queue when an IMS insert operation fails."
    },
    {
      "caller": "9000-TERMINATE",
      "callee": "9100-CLOSE-REQUEST-QUEUE",
      "inputs": [
        "WS-REQUEST-MQ-OPEN"
      ],
      "outputs": [
        "WS-REQUEST-MQ-CLSE"
      ],
      "purpose": "Closes the request MQ if it is currently open by calling MQCLOSE."
    },
    {
      "caller": "9100-CLOSE-REQUEST-QUEUE",
      "callee": "9500-LOG-ERROR",
      "inputs": [
        "WS-COMPCODE",
        "WS-REASON",
        "ERR-LOCATION",
        "ERR-WARNING",
        "ERR-MQ",
        "WS-CODE-DISPLAY",
        "ERR-CODE-1",
        "ERR-CODE-2",
        "ERR-MESSAGE",
        "WS-CICS-TRANID",
        "WS-PGM-AUTH",
        "WS-ABS-TIME",
        "WS-CUR-DATE-X6",
        "WS-CUR-TIME-X6"
      ],
      "outputs": [
        "ERR-APPLICATION",
        "ERR-PROGRAM",
        "ERR-DATE",
        "ERR-TIME"
      ],
      "purpose": "Logs a warning message to the CSSL queue if the request MQ fails to close."
    },
    {
      "caller": "9500-LOG-ERROR",
      "callee": "9990-END-ROUTINE",
      "inputs": [
        "ERR-CRITICAL"
      ],
      "outputs": [],
      "purpose": "Terminates the program by performing cleanup and issuing a CICS RETURN when a critical error occurs."
    },
    {
      "caller": "9990-END-ROUTINE",
      "callee": "9000-TERMINATE",
      "inputs": [
        "IMS-PSB-SCHD"
      ],
      "outputs": [],
      "purpose": "Performs termination tasks including IMS termination if applicable and closes the request queue."
    }
  ],
  "flow_diagram": "flowchart TD\n    %% Title: COPAUA0C.cbl\n    1000_EXIT[\"1000-EXIT\"]\n    1000_INITIALIZE[\"1000-INITIALIZE\"]\n    1100_OPEN_REQUEST_QUEUE[\"1100-OPEN-REQUEST-QUEUE\"]\n    3100_READ_REQUEST_MQ[\"3100-READ-REQUEST-MQ\"]\n    1100_EXIT[\"1100-EXIT\"]\n    9500_LOG_ERROR[\"9500-LOG-ERROR\"]\n    MQOPEN__ext([\"MQOPEN\"])\n    1200_EXIT[\"1200-EXIT\"]\n    1200_SCHEDULE_PSB[\"1200-SCHEDULE-PSB\"]\n    2000_EXIT[\"2000-EXIT\"]\n    2000_MAIN_PROCESS[\"2000-MAIN-PROCESS\"]\n    2100_EXTRACT_REQUEST_MSG[\"2100-EXTRACT-REQUEST-MSG\"]\n    5000_PROCESS_AUTH[\"5000-PROCESS-AUTH\"]\n    2100_EXIT[\"2100-EXIT\"]\n    3100_EXIT[\"3100-EXIT\"]\n    MQGET__ext([\"MQGET\"])\n    5000_EXIT[\"5000-EXIT\"]\n    5100_READ_XREF_RECORD[\"5100-READ-XREF-RECORD\"]\n    5200_READ_ACCT_RECORD[\"5200-READ-ACCT-RECORD\"]\n    5300_READ_CUST_RECORD[\"5300-READ-CUST-RECORD\"]\n    5500_READ_AUTH_SUMMRY[\"5500-READ-AUTH-SUMMRY\"]\n    5600_READ_PROFILE_DATA[\"5600-READ-PROFILE-DATA\"]\n    6000_MAKE_DECISION[\"6000-MAKE-DECISION\"]\n    7100_SEND_RESPONSE[\"7100-SEND-RESPONSE\"]\n    8000_WRITE_AUTH_TO_DB[\"8000-WRITE-AUTH-TO-DB\"]\n    5100_EXIT[\"5100-EXIT\"]\n    WS_CCXREF_FILE__ext[(\"WS-CCXREF-FILE\")]\n    5200_EXIT[\"5200-EXIT\"]\n    WS_ACCTFILENAME__ext[(\"WS-ACCTFILENAME\")]\n    5300_EXIT[\"5300-EXIT\"]\n    WS_CUSTFILENAME__ext[(\"WS-CUSTFILENAME\")]\n    5500_EXIT[\"5500-EXIT\"]\n    5600_EXIT[\"5600-EXIT\"]\n    6000_EXIT[\"6000-EXIT\"]\n    7100_EXIT[\"7100-EXIT\"]\n    MQPUT1__ext([\"MQPUT1\"])\n    8000_EXIT[\"8000-EXIT\"]\n    8400_UPDATE_SUMMARY[\"8400-UPDATE-SUMMARY\"]\n    8500_INSERT_AUTH[\"8500-INSERT-AUTH\"]\n    8400_EXIT[\"8400-EXIT\"]\n    8500_EXIT[\"8500-EXIT\"]\n    9000_EXIT[\"9000-EXIT\"]\n    9000_TERMINATE[\"9000-TERMINATE\"]\n    9100_CLOSE_REQUEST_QUEUE[\"9100-CLOSE-REQUEST-QUEUE\"]\n    MQCLOSE__ext([\"MQCLOSE\"])\n    9100_EXIT[\"9100-EXIT\"]\n    9500_EXIT[\"9500-EXIT\"]\n    9990_END_ROUTINE[\"9990-END-ROUTINE\"]\n    9990_EXIT[\"9990-EXIT\"]\n    MAIN_PARA[\"MAIN-PARA\"]\n    1000_INITIALIZE --> 1100_OPEN_REQUEST_QUEUE\n    1000_INITIALIZE --> 3100_READ_REQUEST_MQ\n    1100_OPEN_REQUEST_QUEUE --> 9500_LOG_ERROR\n    1100_OPEN_REQUEST_QUEUE -.->|calls| MQOPEN__ext\n    1200_SCHEDULE_PSB --> 9500_LOG_ERROR\n    2000_MAIN_PROCESS --> 2100_EXTRACT_REQUEST_MSG\n    2000_MAIN_PROCESS --> 3100_READ_REQUEST_MQ\n    2000_MAIN_PROCESS --> 5000_PROCESS_AUTH\n    3100_READ_REQUEST_MQ --> 9500_LOG_ERROR\n    3100_READ_REQUEST_MQ -.->|calls| MQGET__ext\n    5000_PROCESS_AUTH --> 1200_SCHEDULE_PSB\n    5000_PROCESS_AUTH --> 5100_READ_XREF_RECORD\n    5000_PROCESS_AUTH --> 5200_READ_ACCT_RECORD\n    5000_PROCESS_AUTH --> 5300_READ_CUST_RECORD\n    5000_PROCESS_AUTH --> 5500_READ_AUTH_SUMMRY\n    5000_PROCESS_AUTH --> 5600_READ_PROFILE_DATA\n    5000_PROCESS_AUTH --> 6000_MAKE_DECISION\n    5000_PROCESS_AUTH --> 7100_SEND_RESPONSE\n    5000_PROCESS_AUTH --> 8000_WRITE_AUTH_TO_DB\n    5100_READ_XREF_RECORD --> 9500_LOG_ERROR\n    5100_READ_XREF_RECORD -.->|reads| WS_CCXREF_FILE__ext\n    5200_READ_ACCT_RECORD --> 9500_LOG_ERROR\n    5200_READ_ACCT_RECORD -.->|reads| WS_ACCTFILENAME__ext\n    5300_READ_CUST_RECORD --> 9500_LOG_ERROR\n    5300_READ_CUST_RECORD -.->|reads| WS_CUSTFILENAME__ext\n    5500_READ_AUTH_SUMMRY --> 9500_LOG_ERROR\n    7100_SEND_RESPONSE --> 9500_LOG_ERROR\n    7100_SEND_RESPONSE -.->|calls| MQPUT1__ext\n    8000_WRITE_AUTH_TO_DB --> 8400_UPDATE_SUMMARY\n    8000_WRITE_AUTH_TO_DB --> 8500_INSERT_AUTH\n    8400_UPDATE_SUMMARY --> 9500_LOG_ERROR\n    8500_INSERT_AUTH --> 9500_LOG_ERROR\n    9000_TERMINATE --> 9100_CLOSE_REQUEST_QUEUE\n    9100_CLOSE_REQUEST_QUEUE --> 9500_LOG_ERROR\n    9100_CLOSE_REQUEST_QUEUE -.->|calls| MQCLOSE__ext\n    9500_LOG_ERROR --> 9990_END_ROUTINE\n    9990_END_ROUTINE --> 9000_TERMINATE\n    MAIN_PARA --> 1000_INITIALIZE\n    MAIN_PARA --> 2000_MAIN_PROCESS\n    MAIN_PARA --> 9000_TERMINATE"
}