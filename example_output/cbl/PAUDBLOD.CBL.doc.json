{
  "header": {
    "program_id": "PAUDBLOD",
    "file_name": "PAUDBLOD.CBL",
    "file_type": "COBOL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-02-10T17:10:17.233705",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "This COBOL program reads root segment records from INFILE1 and child segment records from INFILE2, then inserts them into an IMS database. It reads each file until the end-of-file is reached, indicated by a file status of '10'.",
    "business_context": "UNKNOWN",
    "program_type": "BATCH",
    "citations": [
      9,
      11,
      14
    ]
  },
  "inputs": [
    {
      "name": "INFILE1",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Input file containing root segment records for PENDING-AUTH-SUMMARY.",
      "copybook": null,
      "citation": [
        34,
        57
      ]
    },
    {
      "name": "INFILE2",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Input file containing child segment records for PENDING-AUTH-DETAILS.",
      "copybook": null,
      "citation": [
        42,
        104
      ]
    },
    {
      "name": "PAUTBPCB",
      "io_type": "PARAMETER",
      "description": "PCB parameter for IMS database calls.",
      "copybook": null,
      "citation": [
        5,
        78
      ]
    }
  ],
  "outputs": [],
  "called_programs": [
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Inserts root and child segments into the IMS database.",
      "parameters": [
        "FUNC-ISRT",
        "PAUTBPCB",
        "PENDING-AUTH-SUMMARY",
        "ROOT-UNQUAL-SSA"
      ],
      "citation": 77
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [
      "DLITCBL"
    ],
    "linkage_section": [
      "PAUTBPCB"
    ]
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [
      {
        "source": "INFILE1",
        "fields_used": [
          "INFIL1-REC"
        ],
        "citation": [
          57
        ]
      },
      {
        "source": "INFILE2",
        "fields_used": [
          "CHILD-SEG-REC",
          "ROOT-SEG-KEY"
        ],
        "citation": [
          104
        ]
      }
    ],
    "writes_to": [],
    "transforms": [
      {
        "input_field": "INFIL1-REC",
        "output_field": "PENDING-AUTH-SUMMARY",
        "transformation_description": "Moves the content of the input record to the pending authorization summary record.",
        "citation": [
          60
        ]
      },
      {
        "input_field": "ROOT-SEG-KEY",
        "output_field": "QUAL-SSA-KEY-VALUE",
        "transformation_description": "Moves the root segment key to the qualified SSA key value for IMS call.",
        "citation": [
          109
        ]
      },
      {
        "input_field": "CHILD-SEG-REC",
        "output_field": "PENDING-AUTH-DETAILS",
        "transformation_description": "Moves the child segment record to the pending authorization details record.",
        "citation": [
          112
        ]
      }
    ]
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "PAUDBLOD",
      "summary": null,
      "purpose": "This is the program ID paragraph. It does not contain any executable code. It serves as the identifier for the COBOL program PAUDBLOD. This paragraph is implicitly executed when the program starts. It does not perform any specific actions or call any other paragraphs. It is the entry point for the program but does not contain any logic itself. It is followed by the MAIN-PARA which contains the program's main logic.",
      "called_by": [],
      "calls": [
        "IMSFUNCS",
        "CIPAUSMY",
        "CIPAUDTY",
        "PAUTBPCB"
      ],
      "citation": [
        1,
        1
      ],
      "outgoing_calls": [
        {
          "target": "IMSFUNCS",
          "call_type": "includes",
          "line": 142
        },
        {
          "target": "CIPAUSMY",
          "call_type": "includes",
          "line": 149
        },
        {
          "target": "CIPAUDTY",
          "call_type": "includes",
          "line": 153
        },
        {
          "target": "PAUTBPCB",
          "call_type": "includes",
          "line": 161
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "MAIN-PARA",
      "summary": null,
      "purpose": "This paragraph serves as the main control flow for the PAUDBLOD program. It first calls 1000-INITIALIZE to perform initialization tasks such as opening input files. Then, it enters a loop that reads root segment records from INFILE1 using 2000-READ-ROOT-SEG-FILE until the end of the file is reached, indicated by END-ROOT-SEG-FILE being set to 'Y'. Subsequently, it enters another loop to read child segment records from INFILE2 using 3000-READ-CHILD-SEG-FILE until END-CHILD-SEG-FILE is set to 'Y'. Finally, it calls 4000-FILE-CLOSE to close the input files. The program then terminates using GOBACK.",
      "called_by": [],
      "calls": [
        "1000-INITIALIZE",
        "2000-READ-ROOT-SEG-FILE",
        "3000-READ-CHILD-SEG-FILE",
        "4000-FILE-CLOSE"
      ],
      "citation": [
        3,
        21
      ],
      "outgoing_calls": [
        {
          "target": "1000-INITIALIZE",
          "call_type": "performs",
          "line": 175
        },
        {
          "target": "2000-READ-ROOT-SEG-FILE",
          "call_type": "performs",
          "line": 177
        },
        {
          "target": "3000-READ-CHILD-SEG-FILE",
          "call_type": "performs",
          "line": 180
        },
        {
          "target": "4000-FILE-CLOSE",
          "call_type": "performs",
          "line": 183
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-INITIALIZE",
      "summary": null,
      "purpose": "This paragraph initializes the program by accepting the current date and day. It then opens INFILE1 and INFILE2 for input. It checks the file status after each OPEN statement. If the file status for INFILE1 (WS-INFIL1-STATUS) is not spaces or '00', it displays an error message and calls 9999-ABEND to terminate the program. Similarly, if the file status for INFILE2 (WS-INFIL2-STATUS) is not spaces or '00', it displays an error message and calls 9999-ABEND. This paragraph ensures that the input files are opened successfully before proceeding with the data processing.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "9999-ABEND",
        "9999-ABEND"
      ],
      "citation": [
        23,
        48
      ],
      "outgoing_calls": [
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 206
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 214
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 1000-INITIALIZE paragraph. It contains the EXIT statement, which returns control to the calling paragraph (MAIN-PARA). It doesn't perform any specific actions or modify any data. It simply marks the end of the initialization process.",
      "called_by": [
        "MAIN-PARA",
        "1000-INITIALIZE"
      ],
      "calls": [],
      "citation": [
        50,
        51
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-READ-ROOT-SEG-FILE",
      "summary": null,
      "purpose": "This paragraph reads a record from INFILE1. It checks the file status (WS-INFIL1-STATUS). If the file status is spaces or '00', it moves the content of INFIL1-REC to PENDING-AUTH-SUMMARY and then calls 2100-INSERT-ROOT-SEG to insert the root segment into the IMS database. If the file status is '10', it sets END-ROOT-SEG-FILE to 'Y', indicating the end of the file. If the file status is anything else, it displays an error message. This paragraph handles the reading of root segment records and orchestrates the insertion process or handles end-of-file and error conditions.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "2100-INSERT-ROOT-SEG"
      ],
      "citation": [
        53,
        68
      ],
      "outgoing_calls": [
        {
          "target": "2100-INSERT-ROOT-SEG",
          "call_type": "performs",
          "line": 230
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "MAIN-PARA",
          "line": 177,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 2000-READ-ROOT-SEG-FILE paragraph. It contains the EXIT statement, which returns control to the calling paragraph (MAIN-PARA). It doesn't perform any specific actions or modify any data. It simply marks the end of the root segment reading process.",
      "called_by": [
        "MAIN-PARA",
        "2000-READ-ROOT-SEG-FILE"
      ],
      "calls": [],
      "citation": [
        71,
        72
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2100-INSERT-ROOT-SEG",
      "summary": null,
      "purpose": "This paragraph inserts a root segment into the IMS database using the CBLTDLI call. It calls CBLTDLI with the function code FUNC-ISRT, the PCB PAUTBPCB, the segment data PENDING-AUTH-SUMMARY, and the SSA ROOT-UNQUAL-SSA. After the call, it checks the PCB status (PAUT-PCB-STATUS). If the status is spaces, it displays 'ROOT INSERT SUCCESS'. If the status is 'II', it displays 'ROOT SEGMENT ALREADY IN DB'. If the status is neither spaces nor 'II', it displays 'ROOT INSERT FAILED' along with the PCB status and calls 9999-ABEND to terminate the program. This paragraph handles the IMS database insertion and checks for success or failure based on the PCB status.",
      "called_by": [
        "2000-READ-ROOT-SEG-FILE"
      ],
      "calls": [
        "CBLTDLI",
        "9999-ABEND"
      ],
      "citation": [
        75,
        96
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 244
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 261
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "2000-READ-ROOT-SEG-FILE",
          "line": 230,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2100-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 2100-INSERT-ROOT-SEG paragraph. It contains the EXIT statement, which returns control to the calling paragraph (2000-READ-ROOT-SEG-FILE). It doesn't perform any specific actions or modify any data. It simply marks the end of the root segment insertion process.",
      "called_by": [
        "2000-READ-ROOT-SEG-FILE",
        "2100-INSERT-ROOT-SEG"
      ],
      "calls": [],
      "citation": [
        98,
        99
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3000-READ-CHILD-SEG-FILE",
      "summary": null,
      "purpose": "This paragraph reads a record from INFILE2. It checks the file status (WS-INFIL2-STATUS). If the file status is spaces or '00', it checks if ROOT-SEG-KEY is numeric. If it is, it moves ROOT-SEG-KEY to QUAL-SSA-KEY-VALUE, moves CHILD-SEG-REC to PENDING-AUTH-DETAILS, and then calls 3100-INSERT-CHILD-SEG to insert the child segment into the IMS database. If the file status is '10', it sets END-CHILD-SEG-FILE to 'Y', indicating the end of the file. If the file status is anything else, it displays an error message. This paragraph handles the reading of child segment records and orchestrates the insertion process or handles end-of-file and error conditions.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "3100-INSERT-CHILD-SEG"
      ],
      "citation": [
        101,
        121
      ],
      "outgoing_calls": [
        {
          "target": "3100-INSERT-CHILD-SEG",
          "call_type": "performs",
          "line": 281
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "MAIN-PARA",
          "line": 180,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 3000-READ-CHILD-SEG-FILE paragraph. It contains the EXIT statement, which returns control to the calling paragraph (MAIN-PARA). It doesn't perform any specific actions or modify any data. It simply marks the end of the child segment reading process.",
      "called_by": [
        "MAIN-PARA",
        "3000-READ-CHILD-SEG-FILE"
      ],
      "calls": [],
      "citation": [
        123,
        124
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-INSERT-CHILD-SEG",
      "summary": null,
      "purpose": "This paragraph attempts to retrieve a root segment from the IMS database and, upon successful retrieval, calls another paragraph to insert a child segment. It first initializes PAUT-PCB-STATUS. It then issues a 'Get Unique' (GU) call to retrieve the root segment PENDING-AUTH-SUMMARY using the PAUTBPCB and ROOT-QUAL-SSA. The paragraph checks the PAUT-PCB-STATUS after the GU call. If the status is spaces, indicating success, it calls 3200-INSERT-IMS-CALL to insert the child segment. If the GU call fails (PAUT-PCB-STATUS is not spaces or 'II'), it displays an error message including the PAUT-PCB-STATUS and PAUT-KEYFB, and then calls 9999-ABEND to terminate the program. The paragraph calls CBLTDLI for the GU operation and 3200-INSERT-IMS-CALL for the child segment insertion.",
      "called_by": [],
      "calls": [
        "CBLTDLI",
        "3200-INSERT-IMS-CALL",
        "9999-ABEND"
      ],
      "citation": [
        1,
        23
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 296
        },
        {
          "target": "3200-INSERT-IMS-CALL",
          "call_type": "performs",
          "line": 309
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 313
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "3000-READ-CHILD-SEG-FILE",
          "line": 281,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 3100-INSERT-CHILD-SEG paragraph. It contains a simple EXIT statement, providing a common point for returning control from the paragraph.",
      "called_by": [
        "3100-INSERT-CHILD-SEG"
      ],
      "calls": [],
      "citation": [
        25,
        26
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3200-INSERT-IMS-CALL",
      "summary": null,
      "purpose": "This paragraph attempts to insert a child segment into the IMS database. It issues an 'Insert' (ISRT) call using CBLTDLI with FUNC-ISRT, PAUTBPCB, PENDING-AUTH-DETAILS, and CHILD-UNQUAL-SSA. After the ISRT call, it checks the PAUT-PCB-STATUS. If the status is spaces, it displays a success message. If the status is 'II', it displays a message indicating the segment is already in the database. If the status is neither spaces nor 'II', it displays an error message including the PAUT-PCB-STATUS and PAUT-KEYFB, and then calls 9999-ABEND to terminate the program. The paragraph uses CBLTDLI to perform the insert operation and checks the PCB status to determine success or failure.",
      "called_by": [
        "3100-INSERT-CHILD-SEG"
      ],
      "calls": [
        "CBLTDLI",
        "9999-ABEND"
      ],
      "citation": [
        28,
        46
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 321
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 335
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "3100-INSERT-CHILD-SEG",
          "line": 309,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3200-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 3200-INSERT-IMS-CALL paragraph. It contains a simple EXIT statement, providing a common point for returning control from the paragraph.",
      "called_by": [
        "3200-INSERT-IMS-CALL"
      ],
      "calls": [],
      "citation": [
        49,
        50
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "4000-FILE-CLOSE",
      "summary": null,
      "purpose": "This paragraph closes two input files, INFILE1 and INFILE2, and checks their respective status codes. It first displays a message indicating that the files are being closed. It then closes INFILE1 and checks WS-INFIL1-STATUS. If the status is spaces or '00', it continues. Otherwise, it displays an error message including the WS-INFIL1-STATUS. The same process is repeated for INFILE2 and WS-INFIL2-STATUS. This paragraph ensures that the input files are properly closed and reports any errors encountered during the closing process.",
      "called_by": [],
      "calls": [],
      "citation": [
        52,
        67
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "4000-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 4000-FILE-CLOSE paragraph. It contains a simple EXIT statement, providing a common point for returning control from the paragraph.",
      "called_by": [
        "4000-FILE-CLOSE"
      ],
      "calls": [],
      "citation": [
        69,
        70
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9999-ABEND",
      "summary": null,
      "purpose": "This paragraph handles program termination due to an error condition. It displays a message indicating that the IMS load is abending. It then moves the value 16 to RETURN-CODE and executes a GOBACK statement, terminating the program and setting the return code to 16. This paragraph is called when a critical error is encountered during IMS database operations.",
      "called_by": [
        "3100-INSERT-CHILD-SEG",
        "3200-INSERT-IMS-CALL"
      ],
      "calls": [],
      "citation": [
        72,
        78
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9999-EXIT",
      "summary": null,
      "purpose": "This paragraph serves as the exit point for the 9999-ABEND paragraph. It contains a simple EXIT statement, providing a common point for returning control from the paragraph. However, since 9999-ABEND performs a GOBACK, this paragraph is never actually reached.",
      "called_by": [
        "9999-ABEND"
      ],
      "calls": [],
      "citation": [
        80,
        81
      ],
      "outgoing_calls": [],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "WS-INFIL1-STATUS not = SPACES or '00'",
      "action": "DISPLAY 'ERROR IN OPENING INFILE1:' WS-INFIL1-STATUS and PERFORM 9999-ABEND",
      "citation": [
        35,
        39
      ]
    },
    {
      "condition": "WS-INFIL2-STATUS not = SPACES or '00'",
      "action": "DISPLAY 'ERROR IN OPENING INFILE2:' WS-INFIL2-STATUS and PERFORM 9999-ABEND",
      "citation": [
        43,
        47
      ]
    },
    {
      "condition": "WS-INFIL1-STATUS not = SPACES or '00'",
      "action": "IF WS-INFIL1-STATUS = '10' MOVE 'Y' TO END-ROOT-SEG-FILE ELSE DISPLAY 'ERROR READING ROOT SEG INFILE'",
      "citation": [
        59,
        67
      ]
    },
    {
      "condition": "PAUT-PCB-STATUS NOT EQUAL TO SPACES AND 'II'",
      "action": "DISPLAY 'ROOT INSERT FAILED  :' PAUT-PCB-STATUS and PERFORM 9999-ABEND",
      "citation": [
        92,
        94
      ]
    },
    {
      "condition": "WS-INFIL2-STATUS not = SPACES or '00'",
      "action": "IF WS-INFIL2-STATUS = '10' MOVE 'Y' TO END-CHILD-SEG-FILE ELSE DISPLAY 'ERROR READING CHILD SEG INFILE'",
      "citation": [
        106,
        120
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What is the purpose of the IMS database being updated?",
      "context": "The business context of the IMS update is unclear.",
      "suggestion": "Examine related documentation or consult with subject matter experts."
    },
    {
      "question": "What is the structure of the INFILE1 and INFILE2 files?",
      "context": "The copybooks for these files are not provided.",
      "suggestion": "Locate the copybooks to understand the data layout."
    },
    {
      "question": "What is the purpose of the IMSFUNCS, CIPAUSMY, CIPAUDTY, PAUTBPCB calls in the PAUDBLOD paragraph?",
      "context": "The purpose of these calls is unclear.",
      "suggestion": "Examine related documentation or consult with subject matter experts."
    }
  ],
  "resolved_questions": [],
  "dead_code": [],
  "call_semantics": [
    {
      "caller": "MAIN-PARA",
      "callee": "1000-INITIALIZE",
      "inputs": [],
      "outputs": [
        "CURRENT-DATE",
        "CURRENT-YYDDD",
        "WS-INFIL1-STATUS",
        "WS-INFIL2-STATUS",
        "END-ROOT-SEG-FILE",
        "END-CHILD-SEG-FILE"
      ],
      "purpose": "Initializes the program by accepting current date values, opening input files, and setting up initial status flags."
    },
    {
      "caller": "MAIN-PARA",
      "callee": "2000-READ-ROOT-SEG-FILE",
      "inputs": [
        "WS-INFIL1-STATUS"
      ],
      "outputs": [
        "PENDING-AUTH-SUMMARY",
        "END-ROOT-SEG-FILE"
      ],
      "purpose": "Reads a record from the first input file and moves it to the root segment for processing, or sets end-of-file flag if no more records."
    },
    {
      "caller": "MAIN-PARA",
      "callee": "3000-READ-CHILD-SEG-FILE",
      "inputs": [
        "WS-INFIL2-STATUS",
        "ROOT-SEG-KEY"
      ],
      "outputs": [
        "QUAL-SSA-KEY-VALUE",
        "PENDING-AUTH-DETAILS",
        "END-CHILD-SEG-FILE"
      ],
      "purpose": "Reads a record from the second input file, validates the root segment key, and prepares child segment data for insertion or sets end-of-file flag."
    },
    {
      "caller": "MAIN-PARA",
      "callee": "4000-FILE-CLOSE",
      "inputs": [
        "WS-INFIL1-STATUS",
        "WS-INFIL2-STATUS"
      ],
      "outputs": [],
      "purpose": "Closes both input files and displays error messages if either file fails to close properly."
    },
    {
      "caller": "1000-INITIALIZE",
      "callee": "9999-ABEND",
      "inputs": [
        "WS-INFIL1-STATUS",
        "WS-INFIL2-STATUS"
      ],
      "outputs": [
        "RETURN-CODE"
      ],
      "purpose": "Terminates the program abnormally by setting return code 16 and displaying an abend message when a file open error occurs."
    },
    {
      "caller": "1000-INITIALIZE",
      "callee": "9999-ABEND",
      "inputs": [
        "WS-INFIL1-STATUS",
        "WS-INFIL2-STATUS"
      ],
      "outputs": [],
      "purpose": "Abends the program with return code 16 if an input file fails to open."
    },
    {
      "caller": "2000-READ-ROOT-SEG-FILE",
      "callee": "2100-INSERT-ROOT-SEG",
      "inputs": [
        "INFIL1-REC"
      ],
      "outputs": [],
      "purpose": "Inserts a root segment into the IMS database using data read from INFILE1."
    },
    {
      "caller": "2100-INSERT-ROOT-SEG",
      "callee": "9999-ABEND",
      "inputs": [
        "PAUT-PCB-STATUS"
      ],
      "outputs": [],
      "purpose": "Abends the program if the root segment insertion into IMS fails with an unexpected status code."
    },
    {
      "caller": "3000-READ-CHILD-SEG-FILE",
      "callee": "3100-INSERT-CHILD-SEG",
      "inputs": [
        "ROOT-SEG-KEY",
        "CHILD-SEG-REC"
      ],
      "outputs": [],
      "purpose": "Inserts a child segment into the IMS database after qualifying the parent root segment using the root key."
    },
    {
      "caller": "3100-INSERT-CHILD-SEG",
      "callee": "3200-INSERT-IMS-CALL",
      "inputs": [],
      "outputs": [],
      "purpose": "Performs an IMS ISRT call to insert a child segment after successfully retrieving the parent root segment."
    },
    {
      "caller": "3100-INSERT-CHILD-SEG",
      "callee": "9999-ABEND",
      "inputs": [],
      "outputs": [],
      "purpose": "Abends the program with return code 16 when the GU call to the root segment fails."
    },
    {
      "caller": "3200-INSERT-IMS-CALL",
      "callee": "9999-ABEND",
      "inputs": [],
      "outputs": [],
      "purpose": "Abends the program with return code 16 when the ISRT call for the child segment fails."
    }
  ],
  "flow_diagram": "flowchart TD\n    %% Title: PAUDBLOD.CBL\n    1000_EXIT[\"1000-EXIT\"]\n    1000_INITIALIZE[\"1000-INITIALIZE\"]\n    9999_ABEND[\"9999-ABEND\"]\n    2000_EXIT[\"2000-EXIT\"]\n    2000_READ_ROOT_SEG_FILE[\"2000-READ-ROOT-SEG-FILE\"]\n    2100_INSERT_ROOT_SEG[\"2100-INSERT-ROOT-SEG\"]\n    2100_EXIT[\"2100-EXIT\"]\n    CBLTDLI__ext([\"CBLTDLI\"])\n    3000_EXIT[\"3000-EXIT\"]\n    3000_READ_CHILD_SEG_FILE[\"3000-READ-CHILD-SEG-FILE\"]\n    3100_INSERT_CHILD_SEG[\"3100-INSERT-CHILD-SEG\"]\n    3100_EXIT[\"3100-EXIT\"]\n    3200_INSERT_IMS_CALL[\"3200-INSERT-IMS-CALL\"]\n    3200_EXIT[\"3200-EXIT\"]\n    4000_EXIT[\"4000-EXIT\"]\n    4000_FILE_CLOSE[\"4000-FILE-CLOSE\"]\n    9999_EXIT[\"9999-EXIT\"]\n    MAIN_PARA[\"MAIN-PARA\"]\n    1000_INITIALIZE --> 9999_ABEND\n    2000_READ_ROOT_SEG_FILE --> 2100_INSERT_ROOT_SEG\n    2100_INSERT_ROOT_SEG --> 9999_ABEND\n    2100_INSERT_ROOT_SEG -.->|calls| CBLTDLI__ext\n    3000_READ_CHILD_SEG_FILE --> 3100_INSERT_CHILD_SEG\n    3100_INSERT_CHILD_SEG --> 3200_INSERT_IMS_CALL\n    3100_INSERT_CHILD_SEG --> 9999_ABEND\n    3100_INSERT_CHILD_SEG -.->|calls| CBLTDLI__ext\n    3200_INSERT_IMS_CALL --> 9999_ABEND\n    3200_INSERT_IMS_CALL -.->|calls| CBLTDLI__ext\n    MAIN_PARA --> 1000_INITIALIZE\n    MAIN_PARA --> 2000_READ_ROOT_SEG_FILE\n    MAIN_PARA --> 3000_READ_CHILD_SEG_FILE\n    MAIN_PARA --> 4000_FILE_CLOSE"
}