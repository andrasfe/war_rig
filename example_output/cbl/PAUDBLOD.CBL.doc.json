{
  "header": {
    "program_id": "PAUDBLOD",
    "file_name": "PAUDBLOD.CBL",
    "file_type": "COBOL",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-27T23:04:29.893971",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "The COBOL program PAUDBLOD reads root and child segment data from two sequential input files (INFILE1 and INFILE2) and inserts them into an IMS database. It reads pending authorization summary records from INFILE1 and pending authorization detail records from INFILE2, then inserts them as root and child segments respectively into the IMS database.",
    "business_context": null,
    "program_type": "BATCH",
    "citations": [
      18,
      126,
      226,
      272
    ]
  },
  "inputs": [
    {
      "name": "INFILE1",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Contains pending authorization summary records to be inserted as root segments into the IMS database.",
      "copybook": "CIPAUSMY",
      "citation": [
        26,
        201,
        226
      ]
    },
    {
      "name": "INFILE2",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Contains pending authorization detail records to be inserted as child segments into the IMS database.  The ROOT-SEG-KEY field contains the key of the parent root segment.",
      "copybook": "CIPAUDTY",
      "citation": [
        32,
        209,
        272
      ]
    },
    {
      "name": "PAUTBPCB",
      "io_type": "PARAMETER",
      "description": "IMS Program Communication Block (PCB) mask, used for IMS calls.",
      "copybook": "PAUTBPCB",
      "citation": [
        165,
        171
      ]
    },
    {
      "name": "IO-PCB-MASK",
      "io_type": "PARAMETER",
      "description": "IO PCB Mask",
      "copybook": null,
      "citation": [
        160,
        164
      ]
    }
  ],
  "outputs": [
    {
      "name": "IMS Database",
      "io_type": "IMS_SEGMENT",
      "description": "The IMS database is updated with pending authorization summary (root) and detail (child) segments.",
      "copybook": null,
      "citation": [
        230,
        281
      ]
    },
    {
      "name": "RETURN-CODE",
      "io_type": "RETURN_CODE",
      "description": "Return code set to 16 if the program abends.",
      "copybook": null,
      "citation": [
        365
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to perform database operations (ISRT, GU).",
      "parameters": [
        "FUNC-ISRT",
        "PAUTBPCB",
        "PENDING-AUTH-SUMMARY",
        "ROOT-UNQUAL-SSA"
      ],
      "citation": 244
    },
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to perform database operations (GU).",
      "parameters": [
        "FUNC-GU",
        "PAUTBPCB",
        "PENDING-AUTH-SUMMARY",
        "ROOT-QUAL-SSA"
      ],
      "citation": 296
    },
    {
      "program_name": "CBLTDLI",
      "call_type": "STATIC_CALL",
      "purpose": "Interface with IMS DL/I to perform database operations (ISRT).",
      "parameters": [
        "FUNC-ISRT",
        "PAUTBPCB",
        "PENDING-AUTH-DETAILS",
        "CHILD-UNQUAL-SSA"
      ],
      "citation": 321
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [
      "DLITCBL"
    ],
    "linkage_section": [
      "IO-PCB-MASK",
      "PAUTBPCB"
    ]
  },
  "business_rules": [],
  "data_flow": {
    "reads_from": [
      {
        "source": "INFILE1",
        "fields_used": [
          "INFIL1-REC"
        ],
        "citation": [
          226,
          229
        ]
      },
      {
        "source": "INFILE2",
        "fields_used": [
          "ROOT-SEG-KEY",
          "CHILD-SEG-REC"
        ],
        "citation": [
          272,
          277,
          280
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "IMS Database",
        "fields_written": [
          "PENDING-AUTH-SUMMARY",
          "PENDING-AUTH-DETAILS"
        ],
        "citation": [
          246,
          323
        ]
      }
    ],
    "transforms": [
      {
        "input_field": "INFIL1-REC",
        "output_field": "PENDING-AUTH-SUMMARY",
        "transformation_description": "Moves the entire INFILE1 record to the PENDING-AUTH-SUMMARY segment for insertion into the IMS database.",
        "citation": [
          229
        ]
      },
      {
        "input_field": "ROOT-SEG-KEY",
        "output_field": "QUAL-SSA-KEY-VALUE",
        "transformation_description": "Moves the ROOT-SEG-KEY from INFILE2 to QUAL-SSA-KEY-VALUE for use in the qualified SSA during the child segment insertion.",
        "citation": [
          277
        ]
      },
      {
        "input_field": "CHILD-SEG-REC",
        "output_field": "PENDING-AUTH-DETAILS",
        "transformation_description": "Moves the CHILD-SEG-REC from INFILE2 to the PENDING-AUTH-DETAILS segment for insertion into the IMS database.",
        "citation": [
          280
        ]
      }
    ]
  },
  "copybooks_used": [
    {
      "copybook_name": "IMSFUNCS",
      "purpose": "Contains definitions for IMS function codes (e.g., ISRT, GU).",
      "location": "WORKING_STORAGE",
      "citation": 142
    },
    {
      "copybook_name": "CIPAUSMY",
      "purpose": "Defines the layout of the PENDING-AUTH-SUMMARY segment (root segment).",
      "location": "FILE_SECTION",
      "citation": 149
    },
    {
      "copybook_name": "CIPAUDTY",
      "purpose": "Defines the layout of the PENDING-AUTH-DETAILS segment (child segment).",
      "location": "FILE_SECTION",
      "citation": 153
    },
    {
      "copybook_name": "PAUTBPCB",
      "purpose": "Defines the structure of the Program Communication Block (PCB) used for IMS calls.",
      "location": "LINKAGE",
      "citation": 114
    }
  ],
  "paragraphs": [
    {
      "paragraph_name": "MAIN-PARA",
      "summary": null,
      "purpose": "This is the main control paragraph of the program. It orchestrates the overall process of reading root and child segment data from input files and inserting them into an IMS database. It first calls 1000-INITIALIZE to open the input files and perform initial setup. Then, it enters a loop that reads root segments from INFILE1 using 2000-READ-ROOT-SEG-FILE until the end of the file is reached.  Subsequently, it enters another loop that reads child segments from INFILE2 using 3000-READ-CHILD-SEG-FILE until the end of that file. Finally, it calls 4000-FILE-CLOSE to close the input files before terminating the program. The program uses flags END-ROOT-SEG-FILE and END-CHILD-SEG-FILE to control the read loops. The program abends if there are errors opening the input files, or during root segment insertion.",
      "called_by": [],
      "calls": [
        "1000-INITIALIZE",
        "2000-READ-ROOT-SEG-FILE",
        "3000-READ-CHILD-SEG-FILE",
        "4000-FILE-CLOSE"
      ],
      "citation": [
        169,
        187
      ],
      "outgoing_calls": [
        {
          "target": "1000-INITIALIZE",
          "call_type": "performs",
          "line": 175
        },
        {
          "target": "2000-READ-ROOT-SEG-FILE",
          "call_type": "performs",
          "line": 177
        },
        {
          "target": "3000-READ-CHILD-SEG-FILE",
          "call_type": "performs",
          "line": 180
        },
        {
          "target": "4000-FILE-CLOSE",
          "call_type": "performs",
          "line": 183
        }
      ],
      "incoming_calls": [],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "1000-INITIALIZE",
      "summary": null,
      "purpose": "This paragraph initializes the program by accepting the current date and opening the input files INFILE1 and INFILE2. It accepts the current date and current year-day from the system. It then attempts to open INFILE1 and INFILE2 in INPUT mode. The file status codes WS-INFIL1-STATUS and WS-INFIL2-STATUS are checked after each OPEN. If either file fails to open (status is not SPACES or '00'), an error message is displayed, and the program abends by calling 9999-ABEND. If the files open successfully, the program continues to the next step. No data is directly read or written in this paragraph, it only prepares the environment for subsequent processing.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "9999-ABEND"
      ],
      "citation": [
        190,
        219
      ],
      "outgoing_calls": [
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 206
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 214
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "MAIN-PARA",
          "line": 138,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/COPAUA0C.cbl",
          "function": "MAIN-PARA",
          "line": 222,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "MAIN-PARA",
          "line": 170,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "MAIN-PARA",
          "line": 175,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "MAIN-PARA",
          "line": 161,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2000-READ-ROOT-SEG-FILE",
      "summary": null,
      "purpose": "This paragraph reads records from INFILE1 and attempts to insert them as root segments into the IMS database. It reads a record from INFILE1 into INFIL1-REC. If the read is successful (WS-INFIL1-STATUS is SPACES or '00'), it moves the contents of INFIL1-REC to PENDING-AUTH-SUMMARY and then calls 2100-INSERT-ROOT-SEG to insert the segment into the IMS database. If the end of the file is reached (WS-INFIL1-STATUS is '10'), it sets the END-ROOT-SEG-FILE flag to 'Y'. If any other error occurs during the read, an error message is displayed. The paragraph uses the END-ROOT-SEG-FILE flag to signal the end of the input file to the calling paragraph (MAIN-PARA).",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "2100-INSERT-ROOT-SEG"
      ],
      "citation": [
        222,
        240
      ],
      "outgoing_calls": [
        {
          "target": "2100-INSERT-ROOT-SEG",
          "call_type": "performs",
          "line": 230
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "MAIN-PARA",
          "line": 177,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "2100-INSERT-ROOT-SEG",
      "summary": null,
      "purpose": "This paragraph inserts a root segment into the IMS database using the CBLTDLI call. It calls the CBLTDLI routine with the FUNC-ISRT function code to insert the PENDING-AUTH-SUMMARY segment. The PAUTBPCB and ROOT-UNQUAL-SSA are also passed to the CBLTDLI call. After the call, the PAUT-PCB-STATUS is checked. If the status is SPACES, it indicates a successful insertion. If the status is 'II', it indicates that the root segment already exists in the database. If the status is anything else, it indicates an error, and the program abends by calling 9999-ABEND. The paragraph displays messages indicating the success or failure of the insertion based on the PCB status.",
      "called_by": [
        "2000-READ-ROOT-SEG-FILE"
      ],
      "calls": [
        "9999-ABEND"
      ],
      "citation": [
        242,
        265
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 244
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 261
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "2000-READ-ROOT-SEG-FILE",
          "line": 230,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3000-READ-CHILD-SEG-FILE",
      "summary": null,
      "purpose": "This paragraph reads records from INFILE2 and attempts to insert them as child segments into the IMS database. It reads a record from INFILE2. If the read is successful (WS-INFIL2-STATUS is SPACES or '00') and ROOT-SEG-KEY is numeric, it moves the ROOT-SEG-KEY to QUAL-SSA-KEY-VALUE and the CHILD-SEG-REC to PENDING-AUTH-DETAILS. Then, it calls 3100-INSERT-CHILD-SEG to insert the child segment into the IMS database. If the end of the file is reached (WS-INFIL2-STATUS is '10'), it sets the END-CHILD-SEG-FILE flag to 'Y'. If any other error occurs during the read, an error message is displayed. The paragraph uses the END-CHILD-SEG-FILE flag to signal the end of the input file to the calling paragraph (MAIN-PARA).",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [
        "3100-INSERT-CHILD-SEG"
      ],
      "citation": [
        269,
        291
      ],
      "outgoing_calls": [
        {
          "target": "3100-INSERT-CHILD-SEG",
          "call_type": "performs",
          "line": 281
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "MAIN-PARA",
          "line": 180,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3100-INSERT-CHILD-SEG",
      "summary": null,
      "purpose": "This paragraph retrieves the root segment and then inserts a child segment into the IMS database. It first initializes PAUT-PCB-STATUS. It then calls CBLTDLI with FUNC-GU to retrieve the root segment using the qualified SSA (ROOT-QUAL-SSA). If the GU call is successful (PAUT-PCB-STATUS is SPACES), it calls 3200-INSERT-IMS-CALL to insert the child segment. If the GU call fails (PAUT-PCB-STATUS is not SPACES), an error message is displayed, and the program abends by calling 9999-ABEND. The paragraph relies on the ROOT-QUAL-SSA to specify which root segment the child segment should be associated with. The success or failure of the GU call determines whether the child segment insertion is attempted.",
      "called_by": [
        "3000-READ-CHILD-SEG-FILE"
      ],
      "calls": [
        "3200-INSERT-IMS-CALL",
        "9999-ABEND"
      ],
      "citation": [
        292,
        316
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 296
        },
        {
          "target": "3200-INSERT-IMS-CALL",
          "call_type": "performs",
          "line": 309
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 313
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "3000-READ-CHILD-SEG-FILE",
          "line": 281,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "3200-INSERT-IMS-CALL",
      "summary": null,
      "purpose": "This paragraph inserts a child segment into the IMS database using the CBLTDLI call. It calls CBLTDLI with FUNC-ISRT to insert the PENDING-AUTH-DETAILS segment using the CHILD-UNQUAL-SSA. After the call, the PAUT-PCB-STATUS is checked. If the status is SPACES, it indicates a successful insertion. If the status is 'II', it indicates that the child segment already exists in the database. If the status is anything else, it indicates an error, and the program abends by calling 9999-ABEND. The paragraph displays messages indicating the success or failure of the insertion based on the PCB status.",
      "called_by": [
        "3100-INSERT-CHILD-SEG"
      ],
      "calls": [
        "9999-ABEND"
      ],
      "citation": [
        318,
        339
      ],
      "outgoing_calls": [
        {
          "target": "CBLTDLI",
          "call_type": "calls",
          "line": 321
        },
        {
          "target": "9999-ABEND",
          "call_type": "performs",
          "line": 335
        }
      ],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "3100-INSERT-CHILD-SEG",
          "line": 309,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "4000-FILE-CLOSE",
      "summary": null,
      "purpose": "This paragraph closes the input files INFILE1 and INFILE2. It attempts to close each file and checks the file status after each close operation. If the file status is not SPACES or '00', an error message is displayed, but the program does NOT abend. The paragraph ensures that all files are properly closed before the program terminates. The error handling in this paragraph only displays an error message and continues, unlike the OPEN and INSERT paragraphs which abend on error.",
      "called_by": [
        "MAIN-PARA"
      ],
      "calls": [],
      "citation": [
        341,
        358
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "MAIN-PARA",
          "line": 175,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "MAIN-PARA",
          "line": 183,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "MAIN-PARA",
          "line": 166,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    },
    {
      "paragraph_name": "9999-ABEND",
      "summary": null,
      "purpose": "This paragraph handles program termination due to an error condition. It displays a message indicating that the IMS load is abending and sets the RETURN-CODE to 16. The program then terminates using the GOBACK statement. This paragraph is called from various points in the program where critical errors are detected, such as file open failures or IMS database insertion errors. The setting of the RETURN-CODE allows the calling environment to recognize that the program terminated abnormally.",
      "called_by": [
        "1000-INITIALIZE",
        "2100-INSERT-ROOT-SEG",
        "3100-INSERT-CHILD-SEG",
        "3200-INSERT-IMS-CALL"
      ],
      "calls": [],
      "citation": [
        360,
        369
      ],
      "outgoing_calls": [],
      "incoming_calls": [
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "2000-FIND-NEXT-AUTH-SUMMARY",
          "line": 240,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "3000-FIND-NEXT-AUTH-DTL",
          "line": 270,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "5000-DELETE-AUTH-DTL",
          "line": 320,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "6000-DELETE-AUTH-SUMMARY",
          "line": 345,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/CBPAUP0C.cbl",
          "function": "9000-TAKE-CHECKPOINT",
          "line": 369,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "2000-FIND-NEXT-AUTH-SUMMARY",
          "line": 256,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "3000-FIND-NEXT-AUTH-DTL",
          "line": 293,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "3100-INSERT-PARENT-SEG-GSAM",
          "line": 314,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/DBUNLDGS.CBL",
          "function": "3200-INSERT-CHILD-SEG-GSAM",
          "line": 333,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "1000-INITIALIZE",
          "line": 206,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "1000-INITIALIZE",
          "line": 214,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "2100-INSERT-ROOT-SEG",
          "line": 261,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "3100-INSERT-CHILD-SEG",
          "line": 313,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBLOD.CBL",
          "function": "3200-INSERT-IMS-CALL",
          "line": 335,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "1000-INITIALIZE",
          "line": 191,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "1000-INITIALIZE",
          "line": 199,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "2000-FIND-NEXT-AUTH-SUMMARY",
          "line": 246,
          "call_type": "performs"
        },
        {
          "file": "/home/andras/aws-mainframe-modernization-carddemo/app/app-authorization-ims-db2-mq/cbl/PAUDBUNL.CBL",
          "function": "3000-FIND-NEXT-AUTH-DTL",
          "line": 282,
          "call_type": "performs"
        }
      ],
      "is_dead_code": false,
      "dead_code_reason": null,
      "metadata": null
    }
  ],
  "error_handling": [
    {
      "condition": "WS-INFIL1-STATUS not equal to SPACES or '00' during OPEN INFILE1",
      "action": "DISPLAY error message and PERFORM 9999-ABEND",
      "citation": [
        205,
        206
      ]
    },
    {
      "condition": "WS-INFIL2-STATUS not equal to SPACES or '00' during OPEN INFILE2",
      "action": "DISPLAY error message and PERFORM 9999-ABEND",
      "citation": [
        213,
        214
      ]
    },
    {
      "condition": "WS-INFIL1-STATUS not equal to SPACES or '00' and not equal to '10' during READ INFILE1",
      "action": "DISPLAY error message",
      "citation": [
        235
      ]
    },
    {
      "condition": "PAUT-PCB-STATUS not equal to SPACES and not equal to 'II' after root segment insert",
      "action": "DISPLAY error message and PERFORM 9999-ABEND",
      "citation": [
        259,
        261
      ]
    },
    {
      "condition": "WS-INFIL2-STATUS not equal to SPACES or '00' and not equal to '10' during READ INFILE2",
      "action": "DISPLAY error message",
      "citation": [
        287
      ]
    },
    {
      "condition": "PAUT-PCB-STATUS not equal to SPACES after root segment GU call",
      "action": "DISPLAY error message and PERFORM 9999-ABEND",
      "citation": [
        311,
        313
      ]
    },
    {
      "condition": "PAUT-PCB-STATUS not equal to SPACES and not equal to 'II' after child segment insert",
      "action": "DISPLAY error message and PERFORM 9999-ABEND",
      "citation": [
        332,
        335
      ]
    },
    {
      "condition": "WS-INFIL1-STATUS not equal to SPACES or '00' during CLOSE INFILE1",
      "action": "DISPLAY error message",
      "citation": [
        348
      ]
    },
    {
      "condition": "WS-INFIL2-STATUS not equal to SPACES or '00' during CLOSE INFILE2",
      "action": "DISPLAY error message",
      "citation": [
        355
      ]
    }
  ],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "What is the purpose of the COPY IMSFUNCS?",
      "context": "The code includes COPY IMSFUNCS, but the contents of this copybook are not available. Without knowing the contents, it is difficult to determine the exact function codes used in the CBLTDLI calls.",
      "suggestion": "Obtain the IMSFUNCS copybook to determine the exact function codes used."
    },
    {
      "question": "What is the structure of the PAUTBPCB copybook?",
      "context": "The code uses PAUTBPCB in the linkage section and in the CBLTDLI calls, but the structure of this copybook is not available. Without knowing the structure, it is difficult to fully understand the IMS calls.",
      "suggestion": "Obtain the PAUTBPCB copybook to determine the structure of the PCB."
    },
    {
      "question": "What is the exact structure of the PENDING-AUTH-SUMMARY and PENDING-AUTH-DETAILS segments?",
      "context": "The code uses COPY CIPAUSMY and COPY CIPAUDTY to define these segments, but the contents of these copybooks are not available. Without knowing the exact structure, it is difficult to fully understand the data being inserted into the IMS database.",
      "suggestion": "Obtain the CIPAUSMY and CIPAUDTY copybooks to determine the exact structure of the segments."
    }
  ],
  "dead_code": [],
  "flow_diagram": "flowchart TD\n    %% Title: PAUDBLOD.CBL\n    1000_EXIT[\"1000-EXIT\"]\n    1000_INITIALIZE[\"1000-INITIALIZE\"]\n    9999_ABEND[\"9999-ABEND\"]\n    2000_EXIT[\"2000-EXIT\"]\n    2000_READ_ROOT_SEG_FILE[\"2000-READ-ROOT-SEG-FILE\"]\n    2100_INSERT_ROOT_SEG[\"2100-INSERT-ROOT-SEG\"]\n    2100_EXIT[\"2100-EXIT\"]\n    CBLTDLI__ext([\"CBLTDLI\"])\n    3000_EXIT[\"3000-EXIT\"]\n    3000_READ_CHILD_SEG_FILE[\"3000-READ-CHILD-SEG-FILE\"]\n    3100_INSERT_CHILD_SEG[\"3100-INSERT-CHILD-SEG\"]\n    3100_EXIT[\"3100-EXIT\"]\n    3200_INSERT_IMS_CALL[\"3200-INSERT-IMS-CALL\"]\n    3200_EXIT[\"3200-EXIT\"]\n    4000_EXIT[\"4000-EXIT\"]\n    4000_FILE_CLOSE[\"4000-FILE-CLOSE\"]\n    9999_EXIT[\"9999-EXIT\"]\n    MAIN_PARA[\"MAIN-PARA\"]\n    1000_INITIALIZE --> 9999_ABEND\n    2000_READ_ROOT_SEG_FILE --> 2100_INSERT_ROOT_SEG\n    2100_INSERT_ROOT_SEG --> 9999_ABEND\n    2100_INSERT_ROOT_SEG -.->|calls| CBLTDLI__ext\n    3000_READ_CHILD_SEG_FILE --> 3100_INSERT_CHILD_SEG\n    3100_INSERT_CHILD_SEG --> 3200_INSERT_IMS_CALL\n    3100_INSERT_CHILD_SEG --> 9999_ABEND\n    3100_INSERT_CHILD_SEG -.->|calls| CBLTDLI__ext\n    3200_INSERT_IMS_CALL --> 9999_ABEND\n    3200_INSERT_IMS_CALL -.->|calls| CBLTDLI__ext\n    MAIN_PARA --> 1000_INITIALIZE\n    MAIN_PARA --> 2000_READ_ROOT_SEG_FILE\n    MAIN_PARA --> 3000_READ_CHILD_SEG_FILE\n    MAIN_PARA --> 4000_FILE_CLOSE"
}