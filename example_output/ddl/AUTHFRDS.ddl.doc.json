{
  "header": {
    "program_id": "AUTHFRDS",
    "file_name": "ddl/AUTHFRDS.ddl",
    "file_type": "OTHER",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-26T15:10:54.921567",
    "iteration_count": 1,
    "final_status": null
  },
  "purpose": {
    "summary": "DDL script that creates the AUTHFRDS table in the CARDDEMO schema. The table stores detailed authorization transaction data for card processing, including card numbers, timestamps, merchant details, transaction amounts, response codes, and fraud indicators. It supports fraud detection and reporting by maintaining historical authorization records with uniqueness enforced on card number and timestamp.",
    "business_context": "Card authorization processing and fraud analysis in a demonstration (CARDDEMO) system",
    "program_type": "UTILITY",
    "citations": [
      1,
      28
    ]
  },
  "inputs": [],
  "outputs": [
    {
      "name": "CARDDEMO.AUTHFRDS",
      "io_type": "DB2_TABLE",
      "description": "Table storing authorization fraud details including card, merchant, transaction, and fraud fields",
      "copybook": null,
      "citation": [
        1
      ]
    }
  ],
  "called_programs": [],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "CARD_NUM and AUTH_TS form a composite primary key to ensure each authorization per card is uniquely identified by timestamp",
      "logic_summary": "PRIMARY KEY constraint defined on columns CARD_NUM and AUTH_TS",
      "conditions": [
        "NOT NULL on CARD_NUM",
        "NOT NULL on AUTH_TS"
      ],
      "citation": [
        2,
        3,
        28
      ]
    },
    {
      "rule_id": "BR002",
      "description": "CARD_NUM and AUTH_TS are mandatory fields for all records",
      "logic_summary": "NOT NULL constraints enforced at table creation",
      "conditions": [
        "CARD_NUM NOT NULL",
        "AUTH_TS NOT NULL"
      ],
      "citation": [
        2,
        3
      ]
    }
  ],
  "data_flow": {
    "reads_from": [],
    "writes_to": [],
    "transforms": []
  },
  "copybooks_used": [],
  "paragraphs": [],
  "error_handling": [],
  "sql_operations": [
    {
      "operation": "CREATE TABLE",
      "table": "CARDDEMO.AUTHFRDS",
      "purpose": "Defines persistent storage for card authorization transactions with fraud tracking fields",
      "citation": 1
    }
  ],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "Specific database system (e.g., DB2 version or dialect)",
      "context": "Data types like TIMESTAMP, DECIMAL(12,2), SMALLINT, VARCHAR(22) suggest DB2 or similar but not explicitly stated",
      "suggestion": "Check execution environment or comments for DBMS confirmation"
    },
    {
      "question": "Usage of nullable fields and business validation beyond DDL constraints",
      "context": "Many fields lack NOT NULL (e.g., lines 4-27 except PK), unclear if application enforces further rules",
      "suggestion": "Review programs that INSERT/UPDATE this table for additional validations"
    }
  ]
}