{
  "header": {
    "program_id": "BLDONL",
    "file_name": "proc/BUILDONL.prc",
    "file_type": "PROC",
    "analyzed_by": "WAR_RIG",
    "analyzed_at": "2026-01-24T18:29:31.574741",
    "iteration_count": 5,
    "final_status": null
  },
  "purpose": {
    "summary": "This JCL procedure (BLDONL) compiles CICS-enabled COBOL source programs from &SOURCE(&MEM) using IGYCRCTL, duplicates the compiler listing to SYSOUT, copies the required CICS EIL module DFHEILID, and link-edits the object into a deployable load module in &LOADLIB(&MEM). It supports building CICS applications like CARDDEMO after BMS map compilation. Configurable via parameters for libraries, datasets, and member names.",
    "business_context": "Automates the build process for CICS COBOL load modules in the CARDDEMO sample application lifecycle, from source compilation through link-edit, enabling deployment to CICS regions by producing AMODE(31) reentrant modules with EIL interface.",
    "program_type": "UTILITY",
    "citations": [
      2,
      19,
      20,
      25,
      39,
      70,
      79,
      91
    ]
  },
  "inputs": [
    {
      "name": "MEM",
      "io_type": "PARAMETER",
      "description": "Member name of the COBOL source program to compile and listing output dataset member",
      "copybook": null,
      "citation": [
        25,
        47,
        48
      ]
    },
    {
      "name": "HLQ",
      "io_type": "PARAMETER",
      "description": "High-level qualifier used to construct dataset names for copybooks (&HLQ..CARDDEMO.CPY), source (&HLQ..CARDDEMO.CBL), loadlib (&HLQ..CARDDEMO.LOADLIB), and listing (&HLQ..CARDDEMO.LST)",
      "copybook": null,
      "citation": [
        26,
        31,
        32,
        33,
        34
      ]
    },
    {
      "name": "COBLIB",
      "io_type": "PARAMETER",
      "description": "COBOL compiler library (default IGY.SIGYCOMP.V63), used in STEPLIB for COB step",
      "copybook": null,
      "citation": [
        27,
        41
      ]
    },
    {
      "name": "DFHLOAD",
      "io_type": "PARAMETER",
      "description": "CICS system load library, used in STEPLIB for COB and SYSLIB for LKED",
      "copybook": null,
      "citation": [
        28,
        42,
        96
      ]
    },
    {
      "name": "DFHCOB",
      "io_type": "PARAMETER",
      "description": "CICS COBOL macros and copybooks library, used in SYSLIB for COB step",
      "copybook": null,
      "citation": [
        29,
        44
      ]
    },
    {
      "name": "DFHSAMP",
      "io_type": "PARAMETER",
      "description": "CICS sample library containing DFHEILID module, used in COPYLINK SYSUT1",
      "copybook": null,
      "citation": [
        30,
        81
      ]
    },
    {
      "name": "CPYBKS",
      "io_type": "PARAMETER",
      "description": "Copybook library (default &HLQ..CARDDEMO.CPY), used in SYSLIB for COB step",
      "copybook": null,
      "citation": [
        31,
        43
      ]
    },
    {
      "name": "SOURCE",
      "io_type": "PARAMETER",
      "description": "Source library containing COBOL program members (default &HLQ..CARDDEMO.CBL), used in SYSIN for COB step",
      "copybook": null,
      "citation": [
        32,
        48
      ]
    },
    {
      "name": "LOADLIB",
      "io_type": "PARAMETER",
      "description": "Target load library for the linked module (default &HLQ..CARDDEMO.LOADLIB), used in SYSLIB LKED and SYSLMOD",
      "copybook": null,
      "citation": [
        33,
        101,
        104
      ]
    },
    {
      "name": "LISTING",
      "io_type": "PARAMETER",
      "description": "Dataset for compiler listing output (default &HLQ..CARDDEMO.LST), written by COB SYSPRINT and read by DISPLIST",
      "copybook": null,
      "citation": [
        34,
        47,
        72
      ]
    },
    {
      "name": "CEE.SCEESAMP",
      "io_type": "FILE_SEQUENTIAL",
      "description": "CEE sample library, hardcoded in SYSLIB for COB step (line 45)",
      "copybook": null,
      "citation": [
        45
      ]
    },
    {
      "name": "SYS1.LINKLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "System link library, hardcoded in SYSLIB for LKED step (line 97)",
      "copybook": null,
      "citation": [
        97
      ]
    },
    {
      "name": "CSF.SCSFMOD0",
      "io_type": "FILE_SEQUENTIAL",
      "description": "SCF module library, hardcoded in SYSLIB for LKED step (line 98)",
      "copybook": null,
      "citation": [
        98
      ]
    },
    {
      "name": "CEE.SCEELKED",
      "io_type": "FILE_SEQUENTIAL",
      "description": "CEE link-edit library, hardcoded in SYSLIB for LKED step (line 99)",
      "copybook": null,
      "citation": [
        99
      ]
    },
    {
      "name": "CEE.SCEELKEX",
      "io_type": "FILE_SEQUENTIAL",
      "description": "CEE link-edit export library, hardcoded in SYSLIB for LKED step (line 100)",
      "copybook": null,
      "citation": [
        100
      ]
    }
  ],
  "outputs": [
    {
      "name": "LISTING",
      "io_type": "FILE_SEQUENTIAL",
      "description": "COBOL compiler listing dataset member &MEM in &LISTING(&MEM), replicated to SYSOUT in DISPLIST",
      "copybook": null,
      "citation": [
        47,
        70,
        72
      ]
    },
    {
      "name": "LOADLIB",
      "io_type": "FILE_SEQUENTIAL",
      "description": "Load library member &MEM in &LOADLIB(&MEM) containing the linked CICS COBOL load module, produced by LKED SYSLMOD",
      "copybook": null,
      "citation": [
        104
      ]
    }
  ],
  "called_programs": [
    {
      "program_name": "IGYCRCTL",
      "call_type": "STATIC_CALL",
      "purpose": "COBOL compiler with CICS translator support, invoked via EXEC PGM=IGYCRCTL in COB step",
      "parameters": [
        "CICS,NODYNAM,RENT,NOSEQ"
      ],
      "citation": 39
    },
    {
      "program_name": "IEBGENER",
      "call_type": "STATIC_CALL",
      "purpose": "Utility to replicate compiler listing from &LISTING(&MEM) to SYSOUT, invoked in DISPLIST step",
      "parameters": [],
      "citation": 70
    },
    {
      "program_name": "IEBGENER",
      "call_type": "STATIC_CALL",
      "purpose": "Utility to copy CICS EIL module DFHEILID from &DFHSAMP(DFHEILID) to temporary &&COPYLINK, invoked in COPYLINK step",
      "parameters": [],
      "citation": 79
    },
    {
      "program_name": "HEWL",
      "call_type": "STATIC_CALL",
      "purpose": "Link-edit binder to produce load module from object &&LOADSET and EIL &&COPYLINK into &LOADLIB(&MEM), invoked in LKED step",
      "parameters": [
        "LIST,XREF,LET,MAP,AMODE(31),RMODE(ANY)"
      ],
      "citation": 91
    }
  ],
  "calling_context": {
    "called_by": [],
    "entry_points": [],
    "linkage_section": []
  },
  "business_rules": [
    {
      "rule_id": "BR001",
      "description": "Compile COBOL programs for CICS environment with reentrant (RENT), no dynamic calls (NODYNAM), and no sequence number checking (NOSEQ)",
      "logic_summary": "Specified in IGYCRCTL PARM=(CICS,NODYNAM,RENT,NOSEQ)",
      "conditions": [],
      "citation": [
        39,
        40
      ]
    },
    {
      "rule_id": "BR002",
      "description": "Link-edit the module above the bar (AMODE 31), any residency mode (RMODE ANY), with listing, cross-reference, entry table, and map",
      "logic_summary": "Specified in HEWL PARM='LIST,XREF,LET,MAP,AMODE(31),RMODE(ANY)'",
      "conditions": [],
      "citation": [
        91
      ]
    }
  ],
  "data_flow": {
    "reads_from": [
      {
        "source": "SOURCE(&MEM)",
        "fields_used": [
          "COBOL source code"
        ],
        "citation": [
          48
        ]
      },
      {
        "source": "CPYBKS",
        "fields_used": [
          "CICS and application copybooks"
        ],
        "citation": [
          43
        ]
      },
      {
        "source": "DFHSAMP(DFHEILID)",
        "fields_used": [
          "CICS EIL module"
        ],
        "citation": [
          81
        ]
      },
      {
        "source": "LISTING(&MEM)",
        "fields_used": [
          "compiler listing"
        ],
        "citation": [
          72
        ]
      },
      {
        "source": "&&LOADSET",
        "fields_used": [
          "COBOL object module from compilation"
        ],
        "citation": [
          102
        ]
      },
      {
        "source": "&&COPYLINK",
        "fields_used": [
          "copied DFHEILID EIL"
        ],
        "citation": [
          103
        ]
      }
    ],
    "writes_to": [
      {
        "destination": "LISTING(&MEM)",
        "fields_written": [
          "compiler listing"
        ],
        "citation": [
          47
        ]
      },
      {
        "destination": "LOADLIB(&MEM)",
        "fields_written": [
          "linked load module"
        ],
        "citation": [
          104
        ]
      },
      {
        "destination": "&&LOADSET",
        "fields_written": [
          "object module"
        ],
        "citation": [
          49
        ]
      },
      {
        "destination": "&&COPYLINK",
        "fields_written": [
          "EIL module copy"
        ],
        "citation": [
          82
        ]
      },
      {
        "destination": "SYSOUT",
        "fields_written": [
          "listing copy",
          "link-edit print"
        ],
        "citation": [
          71,
          73,
          95
        ]
      }
    ],
    "transforms": [
      {
        "input_field": "COBOL source from SOURCE(&MEM) and copybooks from CPYBKS/DFHCOB",
        "output_field": "object module in &&LOADSET",
        "transformation_description": "Compiles and translates CICS COBOL source into object module using IGYCRCTL with CICS support (PARM=CICS), producing relocatable object code for subsequent link-edit",
        "citation": [
          39
        ]
      },
      {
        "input_field": "listing from LISTING(&MEM)",
        "output_field": "duplicate listing in SYSOUT",
        "transformation_description": "Copies compiler listing to SYSOUT for immediate review using IEBGENER, enabling operator verification without accessing dataset",
        "citation": [
          70
        ]
      },
      {
        "input_field": "DFHEILID from DFHSAMP",
        "output_field": "EIL copy in &&COPYLINK",
        "transformation_description": "Copies CICS entry into language module for link-edit using IEBGENER, required for CICS program execution interface",
        "citation": [
          79
        ]
      },
      {
        "input_field": "&&LOADSET object and &&COPYLINK EIL with CICS/SYS libraries",
        "output_field": "load module in LOADLIB(&MEM)",
        "transformation_description": "Link-edits object and EIL into executable load module with AMODE(31)/RMODE(ANY) using HEWL binder, resolving external references to CICS libraries",
        "citation": [
          91
        ]
      }
    ]
  },
  "copybooks_used": [],
  "paragraphs": [
    {
      "paragraph_name": "COB",
      "purpose": "EXEC PGM=IGYCRCTL,REGION=0M,PARM=(CICS,NODYNAM,RENT,NOSEQ) (lines 39-40): Compiles CICS COBOL source to object. Key DDs: STEPLIB &COBLIB SHR (41), &DFHLOAD SHR (42); SYSLIB &CPYBKS SHR (43), &DFHCOB SHR (44), CEE.SCEESAMP SHR (45); SYSPRINT &LISTING(&MEM) SHR (47); SYSIN &SOURCE(&MEM) SHR (48); SYSLIN &&LOADSET MOD,PASS (49-50); SYSUT1-SYSUT15/SYSMDECK SPACE allocations (51-66).",
      "called_by": [],
      "calls": [
        "DISPLIST"
      ],
      "citation": [
        39,
        66
      ]
    },
    {
      "paragraph_name": "DISPLIST",
      "purpose": "EXEC PGM=IEBGENER,REGION=0M (70): Duplicates compiler listing to SYSOUT. Key DDs: SYSPRINT SYSOUT=* (71,74); SYSUT1 &LISTING(&MEM) SHR (72); SYSUT2 SYSOUT=* (73); SYSIN DUMMY (75).",
      "called_by": [
        "COB"
      ],
      "calls": [
        "COPYLINK"
      ],
      "citation": [
        70,
        75
      ]
    },
    {
      "paragraph_name": "COPYLINK",
      "purpose": "EXEC PGM=IEBGENER,REGION=0M (79): Copies DFHEILID EIL module to temp dataset. Key DDs: SYSPRINT SYSOUT=* (80,85); SYSUT1 &DFHSAMP(DFHEILID) SHR (81); SYSUT2 &&COPYLINK NEW,PASS DCB=LRECL=80,BLKSIZE=400,RECFM=FB SPACE (82-84); SYSIN DUMMY (86).",
      "called_by": [
        "DISPLIST"
      ],
      "calls": [
        "LKED"
      ],
      "citation": [
        79,
        86
      ]
    },
    {
      "paragraph_name": "LKED",
      "purpose": "EXEC PGM=HEWL,REGION=0M,PARM='LIST,XREF,LET,MAP,AMODE(31),RMODE(ANY)' (91-92): Link-edits object and EIL to load module. Key DDs: SYSPRINT SYSOUT=* (95); SYSLIB &DFHLOAD SHR (96), SYS1.LINKLIB SHR (97), CSF.SCSFMOD0 SHR (98), CEE.SCEELKED SHR (99), CEE.SCEELKEX SHR (100), &LOADLIB SHR (101); SYSLIN &&LOADSET OLD,DELETE (102), &&COPYLINK OLD,DELETE (103); SYSLMOD &LOADLIB(&MEM) SHR (104-107); SYSUT1 SPACE (108).",
      "called_by": [
        "COPYLINK"
      ],
      "calls": [],
      "citation": [
        91,
        109
      ]
    }
  ],
  "error_handling": [],
  "sql_operations": [],
  "cics_operations": [],
  "open_questions": [
    {
      "question": "Which JCL jobs invoke this PROC (BLDONL)?",
      "context": "No calling JCL provided; EXEC PROC=BLDONL or %BLDONL likely used but not in source. Addresses Imperator [HIGH] no_cross_reference.",
      "suggestion": "Analyze JCL jobs containing 'EXEC PROC=BLDONL' or similar invocations for complete call chain and parameter overrides"
    },
    {
      "question": "No COBOL COPY statements present in this JCL PROC",
      "context": "Chrome [CHR-m-000326] requires documentation of COPY statements, but this is a PROC with no COBOL code or COPY directives.",
      "suggestion": "Confirmed empty copybooks_used array; no action needed."
    }
  ]
}